import{d as B,ab as F,r as u,V as S,c as T,b as s,f as a,j,o as g,e as l,a0 as L,g as w,l as x,at as y,a1 as k,m as C,s as n,_ as E}from"./main-xnptf2TS.js";import{V as N}from"./VContainer-lRmSfgWH.js";import{V as $,a as q}from"./VRow-CBzhIdKk.js";import{V as _,b as h,c as D}from"./VCard-OtdmNL9Q.js";import{V as M}from"./VCardText-BPTOC4_p.js";import{V as I}from"./VForm-BA_U2T8s.js";import{V as P}from"./VTextField-D1fuUSnH.js";import{V as z}from"./VCheckbox-LT1AMel_.js";import{V as R}from"./VDivider-_7qKKIdq.js";/* empty css              */import"./VAvatar-BWKse5Ys.js";import"./VImg-DieUwUB1.js";import"./forwardRefs-B931MWyl.js";import"./VCheckboxBtn-D7c9WeBv.js";const K={class:"auth-page"},O={class:"text-body-2 text-medium-emphasis"},G=B({__name:"login",setup(H){const i=F(),m=j(),t=u({login:"",password:""}),f=u(!1),v=u(!1),d=u(""),p=u(""),c=u(),V={required:r=>!!r||"Field ini wajib diisi"},U=S(()=>t.value.login&&t.value.password),b=r=>i.errors[r]||[],A=async()=>{if(c.value.validate()){d.value="",p.value="",i.clearErrors();try{const r=await i.login({login:t.value.login,password:t.value.password});r.success?(p.value=r.message||"Login berhasil!",setTimeout(()=>{i.isAdmin?m.push("/admin/dashboard"):i.isManager?m.push("/manager/dashboard"):i.isCashier?m.push("/cashier/dashboard"):m.push("/dashboard")},1e3)):d.value=r.message||"Login gagal"}catch(r){d.value=r.message||"Terjadi kesalahan saat login"}}};return(r,e)=>(g(),T("div",K,[s(N,{class:"fill-height",fluid:""},{default:a(()=>[s($,{justify:"center",align:"center"},{default:a(()=>[s(q,{cols:"12",sm:"8",md:"6",lg:"4"},{default:a(()=>[s(_,{class:"elevation-12",rounded:"lg"},{default:a(()=>[s(h,{class:"text-center py-6"},{default:a(()=>e[7]||(e[7]=[l("h2",{class:"text-h4 font-weight-bold"},"POS Login",-1),l("p",{class:"text-subtitle-1 text-medium-emphasis mt-2"}," Masuk ke sistem Point of Sale ",-1)])),_:1,__:[7]}),s(M,null,{default:a(()=>[s(I,{onSubmit:L(A,["prevent"]),ref_key:"form",ref:c},{default:a(()=>[s(P,{modelValue:t.value.login,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.login=o),label:"Username atau Email","prepend-inner-icon":"mdi-account",variant:"outlined",rules:[V.required],"error-messages":b("login"),class:"mb-3"},null,8,["modelValue","rules","error-messages"]),s(P,{modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.password=o),type:f.value?"text":"password",label:"Password","prepend-inner-icon":"mdi-lock","append-inner-icon":f.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e[2]||(e[2]=o=>f.value=!f.value),variant:"outlined",rules:[V.required],"error-messages":b("password"),class:"mb-3"},null,8,["modelValue","type","append-inner-icon","rules","error-messages"]),s(z,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=o=>v.value=o),label:"Ingat saya",color:"primary","hide-details":"",class:"mb-4"},null,8,["modelValue"]),d.value?(g(),w(y,{key:0,type:"error",variant:"outlined",class:"mb-4",text:d.value,closable:"","onClick:close":e[4]||(e[4]=o=>d.value="")},null,8,["text"])):x("",!0),p.value?(g(),w(y,{key:1,type:"success",variant:"outlined",class:"mb-4",text:p.value,closable:"","onClick:close":e[5]||(e[5]=o=>p.value="")},null,8,["text"])):x("",!0),s(k,{type:"submit",color:"primary",size:"large",block:"",loading:C(i).isLoading,disabled:!U.value},{default:a(()=>e[8]||(e[8]=[n(" Masuk ")])),_:1,__:[8]},8,["loading","disabled"])]),_:1},512)]),_:1}),s(R,{class:"mx-6"}),s(D,{class:"justify-center py-4"},{default:a(()=>[l("p",O,[e[10]||(e[10]=n(" Belum punya akun? ")),s(k,{variant:"text",color:"primary",size:"small",onClick:e[6]||(e[6]=o=>C(m).push("/register"))},{default:a(()=>e[9]||(e[9]=[n(" Daftar disini ")])),_:1,__:[9]})])]),_:1})]),_:1}),s(_,{class:"mt-4",variant:"outlined"},{default:a(()=>[s(h,{class:"text-h6"},{default:a(()=>e[11]||(e[11]=[n("Demo Accounts")])),_:1,__:[11]}),s(M,null,{default:a(()=>e[12]||(e[12]=[l("div",{class:"mb-2"},[l("strong",null,"Super Admin:"),l("br"),n("Username: admin | Password: password123 ")],-1),l("div",{class:"mb-2"},[l("strong",null,"Manager:"),l("br"),n("Username: manager | Password: password123 ")],-1),l("div",null,[l("strong",null,"Kasir:"),l("br"),n("Username: kasir | Password: password123 ")],-1)])),_:1,__:[12]})]),_:1})]),_:1})]),_:1})]),_:1})]))}}),ne=E(G,[["__scopeId","data-v-0aadf39b"]]);export{ne as default};
