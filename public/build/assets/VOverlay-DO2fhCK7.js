import{bw as _e,bx as De,a5 as Ie,a6 as z,b as V,p as W,T as me,r as $,bg as j,aM as we,by as et,bz as ke,bA as ce,bB as ue,bC as Oe,V as N,bD as tt,w as B,b8 as Ee,bE as Ae,aI as _,aJ as Pe,bt as nt,bF as D,aP as xe,bG as We,bH as ot,b6 as se,N as $e,bI as Ce,bJ as at,aF as K,aU as rt,D as it,W as ye,au as qe,bk as Te,bl as st,bj as lt,L as ct,ah as ut,aS as ft,a9 as dt,aL as vt,ap as mt,aE as yt,aa as gt,aQ as ht,aK as bt,bK as wt,a7 as Et,bL as xt,H as St,I as pt,b9 as kt,F as Ot,bM as At}from"./main-C2v4uIoW.js";import{a as Z,g as je,n as ze,b as Pt,d as Ct,s as ge,B as ne,c as Fe}from"./forwardRefs-B931MWyl.js";import{m as Tt,M as Ft}from"./VImg-DoogZNtY.js";const oe=new WeakMap;function Lt(e,n){Object.keys(n).forEach(t=>{if(_e(t)){const a=De(t),o=oe.get(e);if(n[t]==null)o==null||o.forEach(i=>{const[s,r]=i;s===a&&(e.removeEventListener(a,r),o.delete(i))});else if(!o||![...o].some(i=>i[0]===a&&i[1]===n[t])){e.addEventListener(a,n[t]);const i=o||new Set;i.add([a,n[t]]),oe.has(e)||oe.set(e,i)}}else n[t]==null?e.removeAttribute(t):e.setAttribute(t,n[t])})}function Bt(e,n){Object.keys(n).forEach(t=>{if(_e(t)){const a=De(t),o=oe.get(e);o==null||o.forEach(i=>{const[s,r]=i;s===a&&(e.removeEventListener(a,r),o.delete(i))})}else e.removeAttribute(t)})}function Ye(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const n=e.getRootNode();return n!==document&&n.getRootNode({composed:!0})!==document?null:n}function Mt(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(n?Rt(e):Se(e))return e;e=e.parentElement}return document.scrollingElement}function re(e,n){const t=[];if(n&&e&&!n.contains(e))return t;for(;e&&(Se(e)&&t.push(e),e!==n);)e=e.parentElement;return t}function Se(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const n=window.getComputedStyle(e);return n.overflowY==="scroll"||n.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function Rt(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const n=window.getComputedStyle(e);return["scroll","auto"].includes(n.overflowY)}function Nt(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}const Ht=z({target:[Object,Array]},"v-dialog-transition"),fe=new WeakMap,gn=Ie()({name:"VDialogTransition",props:Ht(),setup(e,n){let{slots:t}=n;const a={onBeforeEnter(o){o.style.pointerEvents="none",o.style.visibility="hidden"},async onEnter(o,i){var w;await new Promise(h=>requestAnimationFrame(h)),await new Promise(h=>requestAnimationFrame(h)),o.style.visibility="";const s=Be(e.target,o),{x:r,y:u,sx:d,sy:l,speed:m}=s;fe.set(o,s);const p=Z(o,[{transform:`translate(${r}px, ${u}px) scale(${d}, ${l})`,opacity:0},{}],{duration:225*m,easing:Ct});(w=Le(o))==null||w.forEach(h=>{Z(h,[{opacity:0},{opacity:0,offset:.33},{}],{duration:450*m,easing:ge})}),p.finished.then(()=>i())},onAfterEnter(o){o.style.removeProperty("pointer-events")},onBeforeLeave(o){o.style.pointerEvents="none"},async onLeave(o,i){var w;await new Promise(h=>requestAnimationFrame(h));let s;!fe.has(o)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?s=Be(e.target,o):s=fe.get(o);const{x:r,y:u,sx:d,sy:l,speed:m}=s;Z(o,[{},{transform:`translate(${r}px, ${u}px) scale(${d}, ${l})`,opacity:0}],{duration:125*m,easing:Pt}).finished.then(()=>i()),(w=Le(o))==null||w.forEach(h=>{Z(h,[{},{opacity:0,offset:.2},{opacity:0}],{duration:250*m,easing:ge})})},onAfterLeave(o){o.style.removeProperty("pointer-events")}};return()=>e.target?V(me,W({name:"dialog-transition"},a,{css:!1}),t):V(me,{name:"dialog-transition"},t)}});function Le(e){var t;const n=(t=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:t.children;return n&&[...n]}function Be(e,n){const t=je(e),a=ze(n),[o,i]=getComputedStyle(n).transformOrigin.split(" ").map(f=>parseFloat(f)),[s,r]=getComputedStyle(n).getPropertyValue("--v-overlay-anchor-origin").split(" ");let u=t.left+t.width/2;s==="left"||r==="left"?u-=t.width/2:(s==="right"||r==="right")&&(u+=t.width/2);let d=t.top+t.height/2;s==="top"||r==="top"?d-=t.height/2:(s==="bottom"||r==="bottom")&&(d+=t.height/2);const l=t.width/a.width,m=t.height/a.height,p=Math.max(1,l,m),w=l/p||0,h=m/p||0,T=a.width*a.height/(window.innerWidth*window.innerHeight),F=T>.12?Math.min(1.5,(T-.12)*10+1):1;return{x:u-(o+a.left),y:d-(i+a.top),sx:w,sy:h,speed:F}}function de(e,n){return{x:e.x+n.x,y:e.y+n.y}}function Vt(e,n){return{x:e.x-n.x,y:e.y-n.y}}function Me(e,n){if(e.side==="top"||e.side==="bottom"){const{side:t,align:a}=e,o=a==="left"?0:a==="center"?n.width/2:a==="right"?n.width:a,i=t==="top"?0:t==="bottom"?n.height:t;return de({x:o,y:i},n)}else if(e.side==="left"||e.side==="right"){const{side:t,align:a}=e,o=t==="left"?0:t==="right"?n.width:t,i=a==="top"?0:a==="center"?n.height/2:a==="bottom"?n.height:a;return de({x:o,y:i},n)}return de({x:n.width/2,y:n.height/2},n)}const Ke={static:It,connected:$t},_t=z({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Ke},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function Dt(e,n){const t=$({}),a=$();j&&we(()=>!!(n.isActive.value&&e.locationStrategy),i=>{var s,r;B(()=>e.locationStrategy,i),D(()=>{window.removeEventListener("resize",o),a.value=void 0}),window.addEventListener("resize",o,{passive:!0}),typeof e.locationStrategy=="function"?a.value=(s=e.locationStrategy(n,e,t))==null?void 0:s.updateLocation:a.value=(r=Ke[e.locationStrategy](n,e,t))==null?void 0:r.updateLocation});function o(i){var s;(s=a.value)==null||s.call(a,i)}return{contentStyles:t,updateLocation:a}}function It(){}function Wt(e,n){const t=ze(e);return n?t.x+=parseFloat(e.style.right||0):t.x-=parseFloat(e.style.left||0),t.y-=parseFloat(e.style.top||0),t}function $t(e,n,t){(Array.isArray(e.target.value)||Nt(e.target.value))&&Object.assign(t.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:o,preferredOrigin:i}=et(()=>{const f=ke(n.location,e.isRtl.value),g=n.origin==="overlap"?f:n.origin==="auto"?ce(f):ke(n.origin,e.isRtl.value);return f.side===g.side&&f.align===ue(g).align?{preferredAnchor:Oe(f),preferredOrigin:Oe(g)}:{preferredAnchor:f,preferredOrigin:g}}),[s,r,u,d]=["minWidth","minHeight","maxWidth","maxHeight"].map(f=>N(()=>{const g=parseFloat(n[f]);return isNaN(g)?1/0:g})),l=N(()=>{if(Array.isArray(n.offset))return n.offset;if(typeof n.offset=="string"){const f=n.offset.split(" ").map(parseFloat);return f.length<2&&f.push(0),f}return typeof n.offset=="number"?[n.offset,0]:[0,0]});let m=!1,p=-1;const w=new tt(4),h=new ResizeObserver(()=>{if(!m)return;if(requestAnimationFrame(g=>{g!==p&&w.clear(),requestAnimationFrame(k=>{p=k})}),w.isFull){const g=w.values();if(nt(g.at(-1),g.at(-3)))return}const f=F();f&&w.push(f.flipped)});B([e.target,e.contentEl],(f,g)=>{let[k,E]=f,[x,M]=g;x&&!Array.isArray(x)&&h.unobserve(x),k&&!Array.isArray(k)&&h.observe(k),M&&h.unobserve(M),E&&h.observe(E)},{immediate:!0}),D(()=>{h.disconnect()});let T=new ne({x:0,y:0,width:0,height:0});function F(){if(m=!1,requestAnimationFrame(()=>m=!0),!e.target.value||!e.contentEl.value)return;(Array.isArray(e.target.value)||e.target.value.offsetParent||e.target.value.getClientRects().length)&&(T=je(e.target.value));const f=Wt(e.contentEl.value,e.isRtl.value),g=re(e.contentEl.value),k=12;g.length||(g.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(f.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),f.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const E=g.reduce((A,S)=>{const y=S.getBoundingClientRect(),b=new ne({x:S===document.documentElement?0:y.x,y:S===document.documentElement?0:y.y,width:S.clientWidth,height:S.clientHeight});return A?new ne({x:Math.max(A.left,b.left),y:Math.max(A.top,b.top),width:Math.min(A.right,b.right)-Math.max(A.left,b.left),height:Math.min(A.bottom,b.bottom)-Math.max(A.top,b.top)}):b},void 0);E.x+=k,E.y+=k,E.width-=k*2,E.height-=k*2;let x={anchor:o.value,origin:i.value};function M(A){const S=new ne(f),y=Me(A.anchor,T),b=Me(A.origin,S);let{x:R,y:H}=Vt(y,b);switch(A.anchor.side){case"top":H-=l.value[0];break;case"bottom":H+=l.value[0];break;case"left":R-=l.value[0];break;case"right":R+=l.value[0];break}switch(A.anchor.align){case"top":H-=l.value[1];break;case"bottom":H+=l.value[1];break;case"left":R-=l.value[1];break;case"right":R+=l.value[1];break}return S.x+=R,S.y+=H,S.width=Math.min(S.width,u.value),S.height=Math.min(S.height,d.value),{overflows:Fe(S,E),x:R,y:H}}let P=0,c=0;const O={x:0,y:0},Y={x:!1,y:!1};let le=-1;for(;!(le++>10);){const{x:A,y:S,overflows:y}=M(x);P+=A,c+=S,f.x+=A,f.y+=S;{const b=Ae(x.anchor),R=y.x.before||y.x.after,H=y.y.before||y.y.after;let X=!1;if(["x","y"].forEach(C=>{if(C==="x"&&R&&!Y.x||C==="y"&&H&&!Y.y){const I={anchor:{...x.anchor},origin:{...x.origin}},ee=C==="x"?b==="y"?ue:ce:b==="y"?ce:ue;I.anchor=ee(I.anchor),I.origin=ee(I.origin);const{overflows:q}=M(I);(q[C].before<=y[C].before&&q[C].after<=y[C].after||q[C].before+q[C].after<(y[C].before+y[C].after)/2)&&(x=I,X=Y[C]=!0)}}),X)continue}y.x.before&&(P+=y.x.before,f.x+=y.x.before),y.x.after&&(P-=y.x.after,f.x-=y.x.after),y.y.before&&(c+=y.y.before,f.y+=y.y.before),y.y.after&&(c-=y.y.after,f.y-=y.y.after);{const b=Fe(f,E);O.x=E.width-b.x.before-b.x.after,O.y=E.height-b.y.before-b.y.after,P+=b.x.before,f.x+=b.x.before,c+=b.y.before,f.y+=b.y.before}break}const U=Ae(x.anchor);return Object.assign(t.value,{"--v-overlay-anchor-origin":`${x.anchor.side} ${x.anchor.align}`,transformOrigin:`${x.origin.side} ${x.origin.align}`,top:_(ve(c)),left:e.isRtl.value?void 0:_(ve(P)),right:e.isRtl.value?_(ve(-P)):void 0,minWidth:_(U==="y"?Math.min(s.value,T.width):s.value),maxWidth:_(Re(Pe(O.x,s.value===1/0?0:s.value,u.value))),maxHeight:_(Re(Pe(O.y,r.value===1/0?0:r.value,d.value)))}),{available:O,contentBox:f,flipped:Y}}return B(()=>[o.value,i.value,n.offset,n.minWidth,n.minHeight,n.maxWidth,n.maxHeight],()=>F()),Ee(()=>{const f=F();if(!f)return;const{available:g,contentBox:k}=f;k.height>g.y&&requestAnimationFrame(()=>{F(),requestAnimationFrame(()=>{F()})})}),{updateLocation:F}}function ve(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function Re(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let he=!0;const ie=[];function qt(e){!he||ie.length?(ie.push(e),be()):(he=!1,e(),be())}let Ne=-1;function be(){cancelAnimationFrame(Ne),Ne=requestAnimationFrame(()=>{const e=ie.shift();e&&e(),ie.length?be():he=!0})}const ae={none:null,close:Yt,block:Kt,reposition:Ut},jt=z({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in ae}},"VOverlay-scroll-strategies");function zt(e,n){if(!j)return;let t;xe(async()=>{t==null||t.stop(),n.isActive.value&&e.scrollStrategy&&(t=We(),await new Promise(a=>setTimeout(a)),t.active&&t.run(()=>{var a;typeof e.scrollStrategy=="function"?e.scrollStrategy(n,e,t):(a=ae[e.scrollStrategy])==null||a.call(ae,n,e,t)}))}),D(()=>{t==null||t.stop()})}function Yt(e){function n(t){e.isActive.value=!1}Ue(e.targetEl.value??e.contentEl.value,n)}function Kt(e,n){var s;const t=(s=e.root.value)==null?void 0:s.offsetParent,a=[...new Set([...re(e.targetEl.value,n.contained?t:void 0),...re(e.contentEl.value,n.contained?t:void 0)])].filter(r=>!r.classList.contains("v-overlay-scroll-blocked")),o=window.innerWidth-document.documentElement.offsetWidth,i=(r=>Se(r)&&r)(t||document.documentElement);i&&e.root.value.classList.add("v-overlay--scroll-blocked"),a.forEach((r,u)=>{r.style.setProperty("--v-body-scroll-x",_(-r.scrollLeft)),r.style.setProperty("--v-body-scroll-y",_(-r.scrollTop)),r!==document.documentElement&&r.style.setProperty("--v-scrollbar-offset",_(o)),r.classList.add("v-overlay-scroll-blocked")}),D(()=>{a.forEach((r,u)=>{const d=parseFloat(r.style.getPropertyValue("--v-body-scroll-x")),l=parseFloat(r.style.getPropertyValue("--v-body-scroll-y")),m=r.style.scrollBehavior;r.style.scrollBehavior="auto",r.style.removeProperty("--v-body-scroll-x"),r.style.removeProperty("--v-body-scroll-y"),r.style.removeProperty("--v-scrollbar-offset"),r.classList.remove("v-overlay-scroll-blocked"),r.scrollLeft=-d,r.scrollTop=-l,r.style.scrollBehavior=m}),i&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function Ut(e,n,t){let a=!1,o=-1,i=-1;function s(r){qt(()=>{var l,m;const u=performance.now();(m=(l=e.updateLocation).value)==null||m.call(l,r),a=(performance.now()-u)/(1e3/60)>2})}i=(typeof requestIdleCallback>"u"?r=>r():requestIdleCallback)(()=>{t.run(()=>{Ue(e.targetEl.value??e.contentEl.value,r=>{a?(cancelAnimationFrame(o),o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{s(r)})})):s(r)})})}),D(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(i),cancelAnimationFrame(o)})}function Ue(e,n){const t=[document,...re(e)];t.forEach(a=>{a.addEventListener("scroll",n,{passive:!0})}),D(()=>{t.forEach(a=>{a.removeEventListener("scroll",n)})})}const Xt=Symbol.for("vuetify:v-menu"),Gt=z({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Jt(e,n){let t=()=>{};function a(s){t==null||t();const r=Number(s?e.openDelay:e.closeDelay);return new Promise(u=>{t=ot(r,()=>{n==null||n(s),u(s)})})}function o(){return a(!0)}function i(){return a(!1)}return{clearDelay:t,runOpenDelay:o,runCloseDelay:i}}const Qt=z({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Gt()},"VOverlay-activator");function Zt(e,n){let{isActive:t,isTop:a,contentEl:o}=n;const i=se("useActivator"),s=$();let r=!1,u=!1,d=!0;const l=N(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),m=N(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!l.value),{runOpenDelay:p,runCloseDelay:w}=Jt(e,c=>{c===(e.openOnHover&&r||l.value&&u)&&!(e.openOnHover&&t.value&&!a.value)&&(t.value!==c&&(d=!0),t.value=c)}),h=$(),T={onClick:c=>{c.stopPropagation(),s.value=c.currentTarget||c.target,t.value||(h.value=[c.clientX,c.clientY]),t.value=!t.value},onMouseenter:c=>{var O;(O=c.sourceCapabilities)!=null&&O.firesTouchEvents||(r=!0,s.value=c.currentTarget||c.target,p())},onMouseleave:c=>{r=!1,w()},onFocus:c=>{at(c.target,":focus-visible")!==!1&&(u=!0,c.stopPropagation(),s.value=c.currentTarget||c.target,p())},onBlur:c=>{u=!1,c.stopPropagation(),w()}},F=N(()=>{const c={};return m.value&&(c.onClick=T.onClick),e.openOnHover&&(c.onMouseenter=T.onMouseenter,c.onMouseleave=T.onMouseleave),l.value&&(c.onFocus=T.onFocus,c.onBlur=T.onBlur),c}),f=N(()=>{const c={};if(e.openOnHover&&(c.onMouseenter=()=>{r=!0,p()},c.onMouseleave=()=>{r=!1,w()}),l.value&&(c.onFocusin=()=>{u=!0,p()},c.onFocusout=()=>{u=!1,w()}),e.closeOnContentClick){const O=$e(Xt,null);c.onClick=()=>{t.value=!1,O==null||O.closeParents()}}return c}),g=N(()=>{const c={};return e.openOnHover&&(c.onMouseenter=()=>{d&&(r=!0,d=!1,p())},c.onMouseleave=()=>{r=!1,w()}),c});B(a,c=>{var O;c&&(e.openOnHover&&!r&&(!l.value||!u)||l.value&&!u&&(!e.openOnHover||!r))&&!((O=o.value)!=null&&O.contains(document.activeElement))&&(t.value=!1)}),B(t,c=>{c||setTimeout(()=>{h.value=void 0})},{flush:"post"});const k=Ce();xe(()=>{k.value&&Ee(()=>{s.value=k.el})});const E=Ce(),x=N(()=>e.target==="cursor"&&h.value?h.value:E.value?E.el:Xe(e.target,i)||s.value),M=N(()=>Array.isArray(x.value)?void 0:x.value);let P;return B(()=>!!e.activator,c=>{c&&j?(P=We(),P.run(()=>{en(e,i,{activatorEl:s,activatorEvents:F})})):P&&P.stop()},{flush:"post",immediate:!0}),D(()=>{P==null||P.stop()}),{activatorEl:s,activatorRef:k,target:x,targetEl:M,targetRef:E,activatorEvents:F,contentEvents:f,scrimEvents:g}}function en(e,n,t){let{activatorEl:a,activatorEvents:o}=t;B(()=>e.activator,(u,d)=>{if(d&&u!==d){const l=r(d);l&&s(l)}u&&Ee(()=>i())},{immediate:!0}),B(()=>e.activatorProps,()=>{i()}),D(()=>{s()});function i(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r(),d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&Lt(u,W(o.value,d))}function s(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r(),d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;u&&Bt(u,W(o.value,d))}function r(){let u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const d=Xe(u,n);return a.value=(d==null?void 0:d.nodeType)===Node.ELEMENT_NODE?d:void 0,a.value}}function Xe(e,n){var a,o;if(!e)return;let t;if(e==="parent"){let i=(o=(a=n==null?void 0:n.proxy)==null?void 0:a.$el)==null?void 0:o.parentNode;for(;i!=null&&i.hasAttribute("data-no-activator");)i=i.parentNode;t=i}else typeof e=="string"?t=document.querySelector(e):"$el"in e?t=e.$el:t=e;return t}function tn(){if(!j)return K(!1);const{ssr:e}=rt();if(e){const n=K(!1);return it(()=>{n.value=!0}),n}else return K(!0)}const nn=z({eager:Boolean},"lazy");function on(e,n){const t=K(!1),a=ye(()=>t.value||e.eager||n.value);B(n,()=>t.value=!0);function o(){e.eager||(t.value=!1)}return{isBooted:t,hasContent:a,onAfterLeave:o}}function an(){const n=se("useScopeId").vnode.scopeId;return{scopeId:n?{[n]:""}:void 0}}const He=Symbol.for("vuetify:stack"),Q=qe([]);function rn(e,n,t){const a=se("useStack"),o=!t,i=$e(He,void 0),s=qe({activeChildren:new Set});ct(He,s);const r=K(Number(Te(n)));we(e,()=>{var m;const l=(m=Q.at(-1))==null?void 0:m[1];r.value=l?l+10:Number(Te(n)),o&&Q.push([a.uid,r.value]),i==null||i.activeChildren.add(a.uid),D(()=>{if(o){const p=lt(Q).findIndex(w=>w[0]===a.uid);Q.splice(p,1)}i==null||i.activeChildren.delete(a.uid)})});const u=K(!0);o&&xe(()=>{var m;const l=((m=Q.at(-1))==null?void 0:m[0])===a.uid;setTimeout(()=>u.value=l)});const d=ye(()=>!s.activeChildren.size);return{globalTop:st(u),localTop:d,stackStyles:ye(()=>({zIndex:r.value}))}}function sn(e){return{teleportTarget:N(()=>{const t=e();if(t===!0||!j)return;const a=t===!1?document.body:typeof t=="string"?document.querySelector(t):t;if(a==null)return;let o=[...a.children].find(i=>i.matches(".v-overlay-container"));return o||(o=document.createElement("div"),o.className="v-overlay-container",a.appendChild(o)),o})}}function ln(){return!0}function Ge(e,n,t){if(!e||Je(e,t)===!1)return!1;const a=Ye(n);if(typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&a.host===e.target)return!1;const o=(typeof t.value=="object"&&t.value.include||(()=>[]))();return o.push(n),!o.some(i=>i==null?void 0:i.contains(e.target))}function Je(e,n){return(typeof n.value=="object"&&n.value.closeConditional||ln)(e)}function cn(e,n,t){const a=typeof t.value=="function"?t.value:t.value.handler;e.shadowTarget=e.target,n._clickOutside.lastMousedownWasOutside&&Ge(e,n,t)&&setTimeout(()=>{Je(e,t)&&a&&a(e)},0)}function Ve(e,n){const t=Ye(e);n(document),typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&n(t)}const un={mounted(e,n){const t=o=>cn(o,e,n),a=o=>{e._clickOutside.lastMousedownWasOutside=Ge(o,e,n)};Ve(e,o=>{o.addEventListener("click",t,!0),o.addEventListener("mousedown",a,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[n.instance.$.uid]={onClick:t,onMousedown:a}},beforeUnmount(e,n){e._clickOutside&&(Ve(e,t=>{var i;if(!t||!((i=e._clickOutside)!=null&&i[n.instance.$.uid]))return;const{onClick:a,onMousedown:o}=e._clickOutside[n.instance.$.uid];t.removeEventListener("click",a,!0),t.removeEventListener("mousedown",o,!0)}),delete e._clickOutside[n.instance.$.uid])}};function fn(e){const{modelValue:n,color:t,...a}=e;return V(me,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&V("div",W({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},a),null)]})}const dn=z({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Qt(),...dt(),...ft(),...nn(),..._t(),...jt(),...ut(),...Tt()},"VOverlay"),hn=Ie()({name:"VOverlay",directives:{ClickOutside:un},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...dn()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,n){let{slots:t,attrs:a,emit:o}=n;const i=se("VOverlay"),s=$(),r=$(),u=$(),d=vt(e,"modelValue"),l=N({get:()=>d.value,set:v=>{v&&e.disabled||(d.value=v)}}),{themeClasses:m}=mt(e),{rtlClasses:p,isRtl:w}=yt(),{hasContent:h,onAfterLeave:T}=on(e,l),F=gt(()=>typeof e.scrim=="string"?e.scrim:null),{globalTop:f,localTop:g,stackStyles:k}=rn(l,()=>e.zIndex,e._disableGlobalStack),{activatorEl:E,activatorRef:x,target:M,targetEl:P,targetRef:c,activatorEvents:O,contentEvents:Y,scrimEvents:le}=Zt(e,{isActive:l,isTop:g,contentEl:u}),{teleportTarget:U}=sn(()=>{var G,J,pe;const v=e.attach||e.contained;if(v)return v;const L=((G=E==null?void 0:E.value)==null?void 0:G.getRootNode())||((pe=(J=i.proxy)==null?void 0:J.$el)==null?void 0:pe.getRootNode());return L instanceof ShadowRoot?L:!1}),{dimensionStyles:A}=ht(e),S=tn(),{scopeId:y}=an();B(()=>e.disabled,v=>{v&&(l.value=!1)});const{contentStyles:b,updateLocation:R}=Dt(e,{isRtl:w,contentEl:u,target:M,isActive:l});zt(e,{root:s,contentEl:u,targetEl:P,isActive:l,updateLocation:R});function H(v){o("click:outside",v),e.persistent?te():l.value=!1}function X(v){return l.value&&f.value&&(!e.scrim||v.target===r.value||v instanceof MouseEvent&&v.shadowTarget===r.value)}j&&B(l,v=>{v?window.addEventListener("keydown",C):window.removeEventListener("keydown",C)},{immediate:!0}),bt(()=>{j&&window.removeEventListener("keydown",C)});function C(v){var L,G,J;v.key==="Escape"&&f.value&&((L=u.value)!=null&&L.contains(document.activeElement)||o("keydown",v),e.persistent?te():(l.value=!1,(G=u.value)!=null&&G.contains(document.activeElement)&&((J=E.value)==null||J.focus())))}function I(v){v.key==="Escape"&&!f.value||o("keydown",v)}const ee=wt();we(()=>e.closeOnBack,()=>{At(ee,v=>{f.value&&l.value?(v(!1),e.persistent?te():l.value=!1):v()})});const q=$();B(()=>l.value&&(e.absolute||e.contained)&&U.value==null,v=>{if(v){const L=Mt(s.value);L&&L!==document.scrollingElement&&(q.value=L.scrollTop)}});function te(){e.noClickAnimation||u.value&&Z(u.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:ge})}function Qe(){o("afterEnter")}function Ze(){T(),o("afterLeave")}return Et(()=>{var v;return V(Ot,null,[(v=t.activator)==null?void 0:v.call(t,{isActive:l.value,targetRef:c,props:W({ref:x},O.value,e.activatorProps)}),S.value&&h.value&&V(xt,{disabled:!U.value,to:U.value},{default:()=>[V("div",W({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":l.value,"v-overlay--contained":e.contained},m.value,p.value,e.class],style:[k.value,{"--v-overlay-opacity":e.opacity,top:_(q.value)},e.style],ref:s,onKeydown:I},y,a),[V(fn,W({color:F,modelValue:l.value&&!!e.scrim,ref:r},le.value),null),V(Ft,{appear:!0,persisted:!0,transition:e.transition,target:M.value,onAfterEnter:Qe,onAfterLeave:Ze},{default:()=>{var L;return[St(V("div",W({ref:u,class:["v-overlay__content",e.contentClass],style:[A.value,b.value]},Y.value,e.contentProps),[(L=t.default)==null?void 0:L.call(t,{isActive:l})]),[[pt,l.value],[kt("click-outside"),{handler:H,closeConditional:X,include:()=>[E.value]}]])]}})])]})])}),{activatorEl:E,scrimEl:r,target:M,animateClick:te,contentEl:u,globalTop:f,localTop:g,updateLocation:R}}});export{hn as V,gn as a,Xt as b,on as c,nn as d,Mt as g,dn as m,an as u};
