import{D as we}from"./DeleteConfirmationDialog-Dfewvuyh.js";import{u as Re,a as Te,P as Ie}from"./useProducts-DzNOkust.js";import{f as M}from"./helpers-B-vn2Qqf.js";import{V as $,b as Se}from"./VCard-CsS9dD_V.js";import{a6 as X,a7 as Y,aT as Ee,ac as te,ad as Be,aE as Me,a8 as J,b as e,X as b,aY as Le,aH as oe,aV as ne,ak as re,aa as Q,am as de,aD as je,b0 as Ne,r as ce,w as Ae,b4 as A,a9 as ue,aI as qe,ar as Ke,aS as Oe,b6 as Ue,bu as He,W as z,V as O,aj as Fe,aW as We,bq as Ge,d as me,g as V,o as d,f as s,e as i,s as u,t as n,c as f,ax as ve,a1 as w,F as q,i as K,m as l,l as y,_ as fe,u as Xe,D as Ye,j as Je,at as N,a3 as ie}from"./main-ty1KRTJn.js";import{V as Qe}from"./VSpacer-xWkw0Z56.js";import{V as S}from"./VChip-jcZVzdQz.js";import{V as se}from"./VDivider-Dlb0Lzdk.js";import{V as Ze,a as et,b as tt,c as it}from"./VExpansionPanels-D0V31r0O.js";import{V as U,a as P}from"./VRow-CoFMZBg0.js";import{V as ae}from"./VAvatar-B94a89PO.js";import{V as I}from"./VCardText-BeSJ0McA.js";import{V as st}from"./VContainer-C3FiN90B.js";import{b as le}from"./route-block-B_A1xBdJ.js";import"./VDialog-C4FhJAvV.js";import"./VOverlay-B-Q2NSgi.js";import"./forwardRefs-B931MWyl.js";import"./VImg-DdMMVt4S.js";import"./VForm-6RD1yNad.js";import"./VTextField-CFY9BbUW.js";import"./VSelect-BKlBMAUD.js";import"./VList-C3HMFU6i.js";import"./VMenu-DdYP-ZrW.js";import"./VCheckboxBtn-BXCNf2fe.js";import"./VTextarea-DQmlzOg6.js";import"./VAutocomplete-D27aTUDS.js";import"./filter-IzpahQ_q.js";import"./VSnackbar-hRQs8Qob.js";import"./CategoriesApi-Cf-y0ffA.js";import"./ProductsApi-i4itib6u.js";/* empty css              */const at=Y({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:de,iconColor:String,lineColor:String,...Q(),...re(),...ne(),...oe()},"VTimelineDivider"),lt=X()({name:"VTimelineDivider",props:at(),setup(t,D){let{slots:_}=D;const{sizeClasses:g,sizeStyles:x}=Ee(t,"v-timeline-divider__dot"),{backgroundColorStyles:C,backgroundColorClasses:h}=te(()=>t.dotColor),{roundedClasses:k}=Be(t,"v-timeline-divider__dot"),{elevationClasses:c}=Me(t),{backgroundColorClasses:r,backgroundColorStyles:o}=te(()=>t.lineColor);return J(()=>e("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class],style:t.style},[e("div",{class:["v-timeline-divider__before",r.value],style:o.value},null),!t.hideDot&&e("div",{key:"dot",class:["v-timeline-divider__dot",c.value,k.value,g.value],style:x.value},[e("div",{class:["v-timeline-divider__inner-dot",h.value,k.value],style:C.value},[_.default?e(Le,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},_.default):e(b,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),e("div",{class:["v-timeline-divider__after",r.value],style:o.value},null)])),{}}}),pe=Y({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:de,iconColor:String,lineInset:[Number,String],side:{type:String,validator:t=>t==null||["start","end"].includes(t)},...Q(),...qe(),...oe(),...re(),...ne(),...ue()},"VTimelineItem"),ot=X()({name:"VTimelineItem",props:pe(),setup(t,D){let{slots:_}=D;const{dimensionStyles:g}=je(t),x=Ne(0),C=ce();return Ae(C,h=>{var k;h&&(x.value=((k=h.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:k.getBoundingClientRect().width)??0)},{flush:"post"}),J(()=>{var h,k;return e("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot,"v-timeline-item--side-start":t.side==="start","v-timeline-item--side-end":t.side==="end"},t.class],style:[{"--v-timeline-dot-size":A(x.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${A(t.lineInset)})`:A(0)},t.style]},[e("div",{class:"v-timeline-item__body",style:g.value},[(h=_.default)==null?void 0:h.call(_)]),e(lt,{ref:C,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:_.icon}),t.density!=="compact"&&e("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&((k=_.opposite)==null?void 0:k.call(_))])])}),{}}}),nt=Y({align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...Ge(pe({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...Q(),...We(),...ue(),...Fe()},"VTimeline"),rt=X()({name:"VTimeline",props:nt(),setup(t,D){let{slots:_}=D;const{themeClasses:g}=Ke(t),{densityClasses:x}=Oe(t),{rtlClasses:C}=Ue();He({VTimelineDivider:{lineColor:z(()=>t.lineColor)},VTimelineItem:{density:z(()=>t.density),dotColor:z(()=>t.dotColor),fillDot:z(()=>t.fillDot),hideOpposite:z(()=>t.hideOpposite),iconColor:z(()=>t.iconColor),lineColor:z(()=>t.lineColor),lineInset:z(()=>t.lineInset),size:z(()=>t.size)}});const h=O(()=>{const c=t.side?t.side:t.density!=="default"?"end":null;return c&&`v-timeline--side-${c}`}),k=O(()=>{const c=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return c;case"start":return c[0];case"end":return c[1];default:return null}});return J(()=>e(t.tag,{class:["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,k.value,{"v-timeline--inset-line":!!t.lineInset},g.value,x.value,h.value,C.value,t.class],style:[{"--v-timeline-line-thickness":A(t.lineThickness)},t.style]},_)),{}}}),dt={key:0,class:"text-center pa-8"},ct={key:1,class:"text-center pa-12"},ut={key:2},mt={class:"text-subtitle-1 font-weight-bold"},vt={class:"text-caption text-medium-emphasis d-flex align-center gap-2"},ft={class:"text-end"},pt={class:"text-h6 font-weight-bold"},_t={class:"text-caption text-medium-emphasis"},bt={key:0,class:"mb-4"},gt={class:"text-body-2"},kt={class:"mb-4"},yt={class:"text-subtitle-2 font-weight-bold mb-3 d-flex align-center gap-2"},ht={class:"d-flex align-center gap-3"},xt={class:"flex-grow-1"},Ct={class:"text-subtitle-2 font-weight-bold"},Vt={class:"text-caption text-medium-emphasis"},Dt={key:0,class:"ms-2"},zt={key:0,class:"text-caption text-info mt-1"},$t={class:"text-end"},Pt={class:"text-subtitle-2 font-weight-bold"},wt={key:1,class:"mb-4"},Rt={class:"text-subtitle-2 font-weight-bold mb-3 d-flex align-center gap-2"},Tt={class:"d-flex align-start gap-2"},It={class:"text-body-2"},St={key:2,class:"d-flex gap-2 justify-end"},Et=me({__name:"ProductRecipeList",props:{recipes:{},loading:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!0}},emits:["edit-recipe","delete-recipe","duplicate-recipe","add-recipe"],setup(t,{emit:D}){const _=D,g=c=>{switch(c){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"info"}},x=c=>{switch(c){case"easy":return"tabler-thumb-up";case"medium":return"tabler-alert-triangle";case"hard":return"tabler-flame";default:return"tabler-help"}},C=c=>c.active?c.items.some(o=>!o.item||o.item.current_stock<o.quantity)?{color:"warning",text:"Stok Terbatas",icon:"tabler-alert-triangle"}:{color:"success",text:"Tersedia",icon:"tabler-check"}:{color:"error",text:"Nonaktif",icon:"tabler-x"},h=c=>{if(!c)return"-";if(c<60)return`${c} menit`;const r=Math.floor(c/60),o=c%60;return o>0?`${r}j ${o}m`:`${r} jam`},k=ce([]);return(c,r)=>(d(),V($,{class:"recipe-list-card"},{default:s(()=>[e(Se,{class:"d-flex align-center gap-2 coffee-header"},{default:s(()=>[e(b,{icon:"tabler-chef-hat",class:"coffee-icon"}),r[2]||(r[2]=i("span",null,"Komposisi Produk",-1)),e(Qe),e(S,{color:c.recipes.length>0?"success":"default",size:"small",variant:"tonal"},{default:s(()=>[u(n(c.recipes.length)+" Komposisi ",1)]),_:1},8,["color"])]),_:1,__:[2]}),e(se),e(I,{class:"pa-0"},{default:s(()=>[c.loading?(d(),f("div",dt,[e(ve,{color:"primary",indeterminate:"",size:"64"}),r[3]||(r[3]=i("div",{class:"mt-4 text-h6"},"Memuat resep...",-1))])):c.recipes.length===0?(d(),f("div",ct,[e(b,{icon:"tabler-chef-hat-off",size:"96",class:"text-disabled mb-6"}),r[5]||(r[5]=i("div",{class:"text-h5 font-weight-bold mb-3"},"Belum Ada Komposisi Produk",-1)),r[6]||(r[6]=i("div",{class:"text-body-1 text-medium-emphasis mb-6"}," Tambahkan komposisi produk untuk menentukan bahan-bahan yang dibutuhkan ",-1)),e(w,{color:"primary",size:"large","prepend-icon":"tabler-plus",onClick:r[0]||(r[0]=o=>_("add-recipe"))},{default:s(()=>r[4]||(r[4]=[u(" Tambah Komposisi Produk ")])),_:1,__:[4]})])):(d(),f("div",ut,[e(Ze,{modelValue:k.value,"onUpdate:modelValue":r[1]||(r[1]=o=>k.value=o),multiple:"",variant:"accordion"},{default:s(()=>[(d(!0),f(q,null,K(c.recipes,(o,R)=>(d(),V(et,{key:o.id||R,value:R,class:"recipe-panel"},{default:s(()=>[e(tt,{class:"pa-4"},{default:s(()=>[e(U,{align:"center","no-gutters":""},{default:s(()=>[e(P,{cols:"auto",class:"me-3"},{default:s(()=>[e(ae,{color:g(o.difficulty_level),size:"40",variant:"tonal"},{default:s(()=>[e(b,{icon:x(o.difficulty_level)},null,8,["icon"])]),_:2},1032,["color"])]),_:2},1024),e(P,null,{default:s(()=>[i("div",mt,n(o.name),1),i("div",vt,[e(b,{icon:"tabler-clock",size:"16"}),u(" "+n(h(o.preparation_time))+" ",1),e(b,{icon:"tabler-users",size:"16",class:"ms-2"}),u(" "+n(o.portion_size)+" "+n(o.portion_unit),1)])]),_:2},1024),e(P,{cols:"auto"},{default:s(()=>[i("div",ft,[e(S,{color:C(o).color,size:"small",variant:"tonal",class:"mb-1"},{default:s(()=>[e(b,{icon:C(o).icon,size:"16",class:"me-1"},null,8,["icon"]),u(" "+n(C(o).text),1)]),_:2},1032,["color"]),i("div",pt,n(l(M)(o.total_cost||0)),1),i("div",_t,n(l(M)((o.total_cost||0)/(o.portion_size||1)))+"/porsi ",1)])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(it,{class:"pa-4 pt-0"},{default:s(()=>[e(se,{class:"mb-4"}),o.description?(d(),f("div",bt,[r[7]||(r[7]=i("div",{class:"text-subtitle-2 font-weight-bold mb-2"},"Deskripsi:",-1)),i("div",gt,n(o.description),1)])):y("",!0),i("div",kt,[i("div",yt,[e(b,{icon:"tabler-list-details",size:"18"}),u(" Bahan-bahan ("+n(o.items.length)+") ",1)]),e(U,null,{default:s(()=>[(d(!0),f(q,null,K(o.items,(m,T)=>(d(),V(P,{key:T,cols:"12",md:"6"},{default:s(()=>[e($,{variant:"outlined",class:"pa-3"},{default:s(()=>{var B;return[i("div",ht,[e(ae,{color:m.item&&m.item.current_stock>=m.quantity?"success":"error",size:"32",variant:"tonal"},{default:s(()=>[e(b,{icon:m.item&&m.item.current_stock>=m.quantity?"tabler-check":"tabler-alert-triangle",size:"18"},null,8,["icon"])]),_:2},1032,["color"]),i("div",xt,[i("div",Ct,n(((B=m.item)==null?void 0:B.name)||"Item tidak ditemukan"),1),i("div",Vt,[u(n(m.quantity)+" "+n(m.unit)+" ",1),m.item?(d(),f("span",Dt," • Stock: "+n(m.item.current_stock)+" "+n(m.unit),1)):y("",!0)]),m.notes?(d(),f("div",zt,[e(b,{icon:"tabler-note",size:"12",class:"me-1"}),u(" "+n(m.notes),1)])):y("",!0)]),i("div",$t,[i("div",Pt,n(m.item?l(M)(m.item.cost_per_unit*m.quantity):"-"),1)])])]}),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),o.instructions&&o.instructions.length>0?(d(),f("div",wt,[i("div",Rt,[e(b,{icon:"tabler-clipboard-list",size:"18"}),r[8]||(r[8]=u(" Instruksi Pembuatan "))]),e(rt,{density:"compact",align:"start"},{default:s(()=>[(d(!0),f(q,null,K(o.instructions,(m,T)=>(d(),V(ot,{key:T,"dot-color":"primary",size:"small"},{default:s(()=>[e($,{variant:"outlined",class:"pa-3"},{default:s(()=>[i("div",Tt,[e(S,{color:"primary",size:"x-small",class:"mt-1"},{default:s(()=>[u(n(T+1),1)]),_:2},1024),i("div",It,n(m),1)])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)])):y("",!0),c.canEdit?(d(),f("div",St,[e(w,{variant:"outlined",color:"info",size:"small","prepend-icon":"tabler-copy",onClick:m=>_("duplicate-recipe",o)},{default:s(()=>r[9]||(r[9]=[u(" Duplikat ")])),_:2,__:[9]},1032,["onClick"]),e(w,{variant:"outlined",color:"primary",size:"small","prepend-icon":"tabler-edit",onClick:m=>_("edit-recipe",o)},{default:s(()=>r[10]||(r[10]=[u(" Edit ")])),_:2,__:[10]},1032,["onClick"]),e(w,{variant:"outlined",color:"error",size:"small","prepend-icon":"tabler-trash",onClick:m=>_("delete-recipe",o)},{default:s(()=>r[11]||(r[11]=[u(" Hapus ")])),_:2,__:[11]},1032,["onClick"])])):y("",!0)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))]),_:1})]),_:1}))}}),Bt=fe(Et,[["__scopeId","data-v-13e65867"]]),Mt={class:"d-flex align-items-center mb-6"},Lt={class:"flex-grow-1"},jt={class:"text-h4 font-weight-bold coffee-title"},Nt={key:0,class:"text-primary"},At={key:0,class:"d-flex align-items-center gap-2 mt-1"},qt={class:"text-body-2 text-medium-emphasis coffee-subtitle mt-2"},Kt={key:0},Ot={key:1},Ut={key:2},Ht={key:3,class:"text-error"},Ft={class:"d-flex gap-3 align-center"},Wt={class:"d-flex align-items-center gap-3"},Gt={class:"text-subtitle-1 font-weight-bold text-white"},Xt={class:"mb-3"},Yt={class:"mb-3"},Jt={class:"mt-2"},Qt={class:"mb-4"},Zt={class:"d-flex align-items-center mb-3"},ei={class:"text-h6 font-weight-bold mb-0"},ti={key:0,class:"text-body-2 text-medium-emphasis"},ii={class:"text-h4 font-weight-bold"},si={class:"text-h4 font-weight-bold"},ai={class:"text-h4 font-weight-bold"},li={class:"text-h4 font-weight-bold"},oi={class:"mb-4"},ni={class:"d-flex align-items-center justify-space-between mb-3"},ri={class:"d-flex align-items-center"},di={class:"text-h6 font-weight-bold mb-0"},ci={key:0,class:"text-body-2 text-medium-emphasis"},ui={class:"mb-4"},mi={class:"d-flex align-center gap-2"},_e=me({__name:"[id]",setup(t){const D=Je(),_=Xe(),g=O(()=>Number(_.params.id)),{recipesList:x,availableItems:C,loading:h,saveLoading:k,deleteLoading:c,stats:r,dialog:o,deleteDialog:R,editMode:m,selectedRecipe:T,formData:B,errorMessage:H,successMessage:F,modalErrorMessage:be,canCreateEdit:Z,fetchRecipes:ge,fetchAvailableItems:ke,fetchStats:ye,saveRecipe:he,deleteRecipe:xe,openCreateDialog:ee,openEditDialog:Ce,openDeleteDialog:Ve,closeDialog:De,clearModalError:ze}=Re(),{productsList:W,fetchProductsList:$e,loading:G}=Te(),p=O(()=>{if(W.value.length>0){const E=W.value.find(a=>{const L=a.id===g.value,j=a.id_product===g.value;return L||j});if(E)return E}return{id:g.value,name:"Loading...",sku:"LOADING",price:0,active:!0,description:"Memuat data produk..."}}),Pe=async()=>{await xe()};return Ye(async()=>{try{await Promise.all([$e(),ge(g.value),ke(),ye()])}catch(E){console.error("❌ Error loading data:",E)}}),(E,a)=>(d(),V(st,{fluid:"",class:"product-recipe-management pa-6"},{default:s(()=>{var L,j;return[i("div",Mt,[e(w,{icon:"tabler-arrow-left",variant:"text",onClick:a[0]||(a[0]=v=>l(D).go(-1)),class:"me-3"}),i("div",Lt,[i("h1",jt,[a[10]||(a[10]=u(" Resep Produk ")),p.value?(d(),f("span",Nt," - "+n(p.value.name),1)):y("",!0)]),p.value?(d(),f("div",At,[e(S,{color:"primary",size:"small",variant:"tonal","prepend-icon":"tabler-package"},{default:s(()=>[u(n(p.value.sku),1)]),_:1}),e(S,{color:p.value.active?"success":"error",size:"small",variant:"tonal"},{default:s(()=>[u(n(p.value.active?"Aktif":"Nonaktif"),1)]),_:1},8,["color"]),e(S,{color:"warning",size:"small",variant:"tonal","prepend-icon":"tabler-currency-dollar"},{default:s(()=>[u(n(l(M)(p.value.price)),1)]),_:1})])):y("",!0),i("p",qt,[l(G)?(d(),f("span",Kt," Memuat informasi produk... ")):p.value&&p.value.description?(d(),f("span",Ot,n(p.value.description),1)):p.value?(d(),f("span",Ut," Kelola resep untuk produk "+n(p.value.name),1)):(d(),f("span",Ht," ⚠️ Produk tidak ditemukan (ID: "+n(g.value)+") ",1))])]),i("div",Ft,[l(Z)?(d(),V(w,{key:0,color:"primary","prepend-icon":"tabler-plus",class:"coffee-btn",onClick:a[1]||(a[1]=v=>l(ee)(g.value))},{default:s(()=>a[11]||(a[11]=[u(" Tambah Resep ")])),_:1,__:[11]})):y("",!0)])]),l(H)?(d(),V(N,{key:0,type:"error",variant:"outlined",class:"mb-4",text:l(H),closable:"","onClick:close":a[2]||(a[2]=v=>H.value="")},null,8,["text"])):y("",!0),l(F)?(d(),V(N,{key:1,type:"success",variant:"outlined",class:"mb-4",text:l(F),closable:"","onClick:close":a[3]||(a[3]=v=>F.value="")},null,8,["text"])):y("",!0),p.value?(d(),V($,{key:2,class:"mb-6",variant:"tonal",color:"primary"},{default:s(()=>[e(I,{class:"pa-4"},{default:s(()=>[e(U,{align:"center"},{default:s(()=>[e(P,null,{default:s(()=>[i("div",Wt,[e(b,{icon:"tabler-chef-hat",size:"24",class:"text-white"}),i("div",null,[i("div",Gt," Membuat Resep untuk: "+n(p.value.name),1)])])]),_:1})]),_:1})]),_:1})]),_:1})):l(G)?(d(),V($,{key:3,class:"mb-6",variant:"outlined"},{default:s(()=>[e(I,{class:"pa-4 text-center"},{default:s(()=>[e(ve,{indeterminate:"",color:"primary",class:"mb-2"}),a[12]||(a[12]=i("div",{class:"text-body-2 text-medium-emphasis"},"Memuat informasi produk...",-1))]),_:1,__:[12]})]),_:1})):!l(G)&&!p.value?(d(),V(N,{key:4,type:"error",variant:"tonal",class:"mb-6",title:"Produk Tidak Ditemukan"},{append:s(()=>[e(w,{variant:"text",size:"small",onClick:a[4]||(a[4]=v=>l(D).push("/inventory-management"))},{default:s(()=>a[14]||(a[14]=[u(" Kembali ke Inventory ")])),_:1,__:[14]})]),default:s(()=>[i("div",Xt," Produk dengan ID "+n(g.value)+" tidak ditemukan. ",1),i("div",Yt,[a[13]||(a[13]=i("strong",null,"Produk yang tersedia:",-1)),i("ul",Jt,[(d(!0),f(q,null,K(l(W).slice(0,5),v=>(d(),f("li",{key:v.id_product},[e(w,{variant:"text",size:"small",to:`/product-recipes/${v.id_product}`,class:"pa-1"},{default:s(()=>[u(n(v.name)+" (ID: "+n(v.id_product)+") ",1)]),_:2},1032,["to"])]))),128))])])]),_:1})):y("",!0),i("div",Qt,[i("div",Zt,[e(b,{icon:"tabler-chart-bar",size:"20",class:"me-2 text-primary"}),i("h2",ei,[a[15]||(a[15]=u(" Statistik Resep ")),p.value?(d(),f("span",ti," untuk "+n(p.value.name),1)):y("",!0)])])]),e(U,{class:"mb-6"},{default:s(()=>[e(P,{cols:"12",md:"3"},{default:s(()=>[e($,{class:"h-100",variant:"outlined"},{default:s(()=>[e(I,{class:"text-center pa-4"},{default:s(()=>[e(b,{icon:"tabler-chef-hat",size:"32",class:"coffee-icon mb-2"}),i("div",ii,n(l(r).total_recipes),1),a[16]||(a[16]=i("div",{class:"text-caption text-medium-emphasis"},"Total Resep",-1))]),_:1,__:[16]})]),_:1})]),_:1}),e(P,{cols:"12",md:"3"},{default:s(()=>[e($,{class:"h-100",variant:"outlined"},{default:s(()=>[e(I,{class:"text-center pa-4"},{default:s(()=>[e(b,{icon:"tabler-check",size:"32",color:"success",class:"mb-2"}),i("div",si,n(l(r).active_recipes),1),a[17]||(a[17]=i("div",{class:"text-caption text-medium-emphasis"},"Resep Aktif",-1))]),_:1,__:[17]})]),_:1})]),_:1}),e(P,{cols:"12",md:"3"},{default:s(()=>[e($,{class:"h-100",variant:"outlined"},{default:s(()=>[e(I,{class:"text-center pa-4"},{default:s(()=>[e(b,{icon:"tabler-list-details",size:"32",color:"info",class:"mb-2"}),i("div",ai,n(l(r).total_items_used),1),a[18]||(a[18]=i("div",{class:"text-caption text-medium-emphasis"},"Item Digunakan",-1))]),_:1,__:[18]})]),_:1})]),_:1}),e(P,{cols:"12",md:"3"},{default:s(()=>[e($,{class:"h-100",variant:"outlined"},{default:s(()=>[e(I,{class:"text-center pa-4"},{default:s(()=>[e(b,{icon:"tabler-currency-dollar",size:"32",color:"warning",class:"mb-2"}),i("div",li,n(l(M)(l(r).avg_cost_per_recipe)),1),a[19]||(a[19]=i("div",{class:"text-caption text-medium-emphasis"},"Rata-rata Biaya",-1))]),_:1,__:[19]})]),_:1})]),_:1})]),_:1}),i("div",oi,[i("div",ni,[i("div",ri,[e(b,{icon:"tabler-list",size:"20",class:"me-2 text-primary"}),i("h2",di,[a[20]||(a[20]=u(" Daftar Resep ")),p.value?(d(),f("span",ci,n(p.value.name),1)):y("",!0)])]),l(x).length>0?(d(),V(S,{key:0,color:"primary",size:"small",variant:"tonal"},{default:s(()=>[u(n(l(x).length)+" Resep ",1)]),_:1})):y("",!0)])]),e(Bt,{recipes:l(x),loading:l(h),"can-edit":l(Z),onEditRecipe:l(Ce),onDeleteRecipe:l(Ve),onDuplicateRecipe:a[5]||(a[5]=v=>{l(ee)(g.value),Object.assign(l(B),{...v,id:void 0,name:`${v.name} (Copy)`,active:!0})})},null,8,["recipes","loading","can-edit","onEditRecipe","onDeleteRecipe"]),e(Ie,{modelValue:l(o),"onUpdate:modelValue":[a[6]||(a[6]=v=>ie(o)?o.value=v:null),a[7]||(a[7]=v=>o.value=v)],"edit-mode":l(m),"form-data":l(B),"available-items":l(C),loading:l(k),"error-message":l(be),"product-name":(L=p.value)==null?void 0:L.name,onClose:l(De),onSave:l(he),onClearError:l(ze)},null,8,["modelValue","edit-mode","form-data","available-items","loading","error-message","product-name","onClose","onSave","onClearError"]),e(we,{modelValue:l(R),"onUpdate:modelValue":a[8]||(a[8]=v=>ie(R)?R.value=v:null),title:"Konfirmasi Hapus Resep","item-name":(j=l(T))==null?void 0:j.name,loading:l(c),"confirm-text":"Hapus Resep",onConfirm:Pe,onCancel:a[9]||(a[9]=v=>R.value=!1)},{content:s(()=>{var v;return[i("div",ui,[e(N,{color:"warning",variant:"tonal",class:"mb-4"},{default:s(()=>[i("div",mi,[e(b,{icon:"tabler-alert-triangle"}),a[21]||(a[21]=i("div",null,[i("div",{class:"font-weight-bold"},"Perhatian!"),i("div",{class:"text-body-2"}," Menghapus resep akan menghilangkan semua informasi komposisi dan instruksi pembuatan. Tindakan ini tidak dapat dibatalkan. ")],-1))])]),_:1}),i("div",null,[a[22]||(a[22]=u("Apakah Anda yakin ingin menghapus resep ")),i("strong",null,'"'+n((v=l(T))==null?void 0:v.name)+'"',1),a[23]||(a[23]=u("?"))])])]}),_:1},8,["modelValue","item-name","loading"])]}),_:1}))}});typeof le=="function"&&le(_e);const Ui=fe(_e,[["__scopeId","data-v-8f1ce3e4"]]);export{Ui as default};
