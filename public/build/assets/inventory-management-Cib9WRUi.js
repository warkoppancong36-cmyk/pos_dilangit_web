import{av as _e,d as ht,r as v,V as ee,w as bt,g as E,f as o,b as t,s as m,X as I,t as i,l as P,c as G,e as l,at as rt,a0 as S,o as h,au as gt,aU as Mt,D as Dt,m as a,a2 as Le,F as Pt,i as At,p as Ke,$ as Ge,a4 as It,aw as st,ar as Ut}from"./main-D2pCXjJt.js";import{V as Pe}from"./VDialog-uubol7yt.js";import{b as he,c as ze,V as H}from"./VCard-Ow_twZA2.js";import{V as te}from"./VDivider-B4frvjqe.js";import{V as K}from"./VCardText-CxOTFAQ-.js";import{V as ke}from"./VAlert-CcvsK0Ps.js";import{V as wt,a as Et}from"./VDataTable-B9si8XHj.js";import{V as Y}from"./VChip-DmhvvH3R.js";import{V as Ae}from"./VSpacer-CoISEuC_.js";import{_ as xt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{I as $t}from"./ItemsApi-BUXO3bzZ.js";import{u as jt}from"./useApi-BL4tBkgR.js";import{V as ve,a as z}from"./VRow-BD6l9BsY.js";import{V as ce}from"./VTextField-CFKhAFxL.js";import{V as ft}from"./VSelect-DYa6gXMx.js";import{V as Rt}from"./VDataTableServer-CJZGWyB5.js";import{V as Xe}from"./VTooltip-CJ30qUre.js";import{V as Je}from"./VForm-C_yTuhAw.js";import{V as lt}from"./VTextarea-Ds6DW2Gl.js";import{V as yt}from"./VAvatar-CNDK7ytP.js";import"./VOverlay-DQQA9shm.js";import"./forwardRefs-B931MWyl.js";import"./VImg-De3ZT4Uu.js";import"./VCheckboxBtn-BiFjJNGp.js";import"./VTable-CotIpAno.js";import"./filter-CE1X7FFW.js";/* empty css              */import"./VList-Cb-ppFng.js";import"./VMenu-BFrcZCzY.js";const de="/api/inventory";class ae{static async getAll(u){var d;try{return(await _e.get(de,{params:u})).data}catch(_){throw((d=_.response)==null?void 0:d.data)||this.handleError(_)}}static async getById(u){var d;try{return(await _e.get(`${de}/${u}`)).data}catch(_){throw((d=_.response)==null?void 0:d.data)||this.handleError(_)}}static async getStats(){var u;try{return(await _e.get(`${de}/stats`)).data}catch(d){throw((u=d.response)==null?void 0:u.data)||this.handleError(d)}}static async getLowStockAlerts(){var u;try{return(await _e.get(`${de}/low-stock-alerts`)).data}catch(d){throw((u=d.response)==null?void 0:u.data)||this.handleError(d)}}static async updateStock(u,d){var _;try{return(await _e.post(`${de}/${u}/update-stock`,d)).data}catch(V){throw((_=V.response)==null?void 0:_.data)||this.handleError(V)}}static async bulkUpdateStock(u){var d;try{return(await _e.post(`${de}/bulk-update-stock`,u)).data}catch(_){throw((d=_.response)==null?void 0:d.data)||this.handleError(_)}}static async setReorderLevel(u,d){var _;try{return(await _e.post(`${de}/${u}/reorder-level`,d)).data}catch(V){throw((_=V.response)==null?void 0:_.data)||this.handleError(V)}}static async getMovements(u){var d;try{const _=u!=null&&u.id_inventory?`${de}/${u.id_inventory}/movements`:`${de}/movements`;return(await _e.get(_,{params:u})).data}catch(_){throw((d=_.response)==null?void 0:d.data)||this.handleError(_)}}static async recordMovement(u){var d;try{return(await _e.post(`${de}/movement`,u)).data}catch(_){throw((d=_.response)==null?void 0:d.data)||this.handleError(_)}}static handleError(u){var d,_;return u.response?{message:((d=u.response.data)==null?void 0:d.message)||"Terjadi kesalahan pada server",success:!1,errors:(_=u.response.data)==null?void 0:_.errors}:u.request?{message:"Tidak dapat terhubung ke server",success:!1}:{message:u.message||"Terjadi kesalahan yang tidak diketahui",success:!1}}static formatError(u){return u.errors?Object.values(u.errors).flat().join(", "):u.message||"Terjadi kesalahan yang tidak diketahui"}static isValidationError(u){return u.errors&&typeof u.errors=="object"}static getFieldError(u,d){return u.errors&&u.errors[d]?Array.isArray(u.errors[d])?u.errors[d][0]:u.errors[d]:null}static getMovementTypes(){return[{value:"stock_in",label:"Stock Masuk",color:"success"},{value:"stock_out",label:"Stock Keluar",color:"warning"},{value:"adjustment",label:"Penyesuaian",color:"info"},{value:"transfer",label:"Transfer",color:"primary"},{value:"return",label:"Retur",color:"success"},{value:"damaged",label:"Rusak",color:"error"},{value:"expired",label:"Kadaluarsa",color:"error"}]}static getStockStatusOptions(){return[{value:"all",label:"Semua Status"},{value:"in_stock",label:"Tersedia"},{value:"low_stock",label:"Stok Menipis"},{value:"out_of_stock",label:"Habis"},{value:"overstock",label:"Stok Berlebih"}]}}const Lt={key:1,class:"text-center py-8"},zt={class:"font-weight-medium"},Nt={class:"text-medium-emphasis"},Ft={class:"text-center"},Ot={class:"text-center font-weight-medium"},qt={class:"text-center font-weight-bold text-primary"},Ht={class:"text-end"},Bt={class:"text-end font-weight-medium text-success"},Kt={class:"max-width-200"},Gt={class:"font-weight-medium"},Xt={key:0,class:"text-medium-emphasis"},Jt={key:1,class:"d-block text-caption"},Wt={key:2,class:"text-info d-block"},Yt={class:"text-center py-8"},Qt=ht({__name:"InventoryMovementsDialog",props:{modelValue:{type:Boolean},inventoryId:{},inventoryName:{}},emits:["update:modelValue"],setup(se,{emit:u}){const d=se,_=u,V=v([]),X=v(!1),O=v(""),$=ee({get:()=>d.modelValue,set:f=>_("update:modelValue",f)}),Q=async()=>{var f,y,r,T;if(d.inventoryId)try{X.value=!0,O.value="";const x=await ae.getMovements({id_inventory:parseInt(d.inventoryId),page:1,per_page:50});x.data&&Array.isArray(x.data)?V.value=x.data:x.data&&((f=x==null?void 0:x.data)!=null&&f.data)&&Array.isArray((y=x==null?void 0:x.data)==null?void 0:y.data)?V.value=x.data.data:V.value=[]}catch(x){console.error("Error fetching movements:",x),O.value=((T=(r=x.response)==null?void 0:r.data)==null?void 0:T.message)||"Gagal memuat riwayat pergerakan"}finally{X.value=!1}},oe=f=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(f),J=f=>({in:"success",out:"error",stock_in:"success",stock_out:"error",adjustment:"warning",transfer:"info",return:"secondary"})[f]||"primary",W=f=>({in:"Stock Masuk",out:"Stock Keluar",stock_in:"Stock Masuk",stock_out:"Stock Keluar",adjustment:"Penyesuaian",transfer:"Transfer",return:"Retur"})[f]||f,A=f=>({in:"tabler-plus",out:"tabler-minus",stock_in:"tabler-plus",stock_out:"tabler-minus",adjustment:"tabler-edit",transfer:"tabler-arrows-exchange",return:"tabler-arrow-back"})[f]||"tabler-package";return bt($,f=>{f&&d.inventoryId?Q():(V.value=[],O.value="")}),(f,y)=>(h(),E(Pe,{modelValue:$.value,"onUpdate:modelValue":y[1]||(y[1]=r=>$.value=r),"max-width":"900px",scrollable:""},{default:o(()=>[t(H,null,{default:o(()=>[t(he,{class:"d-flex align-center"},{default:o(()=>[t(I,{icon:"tabler-history",class:"me-2"}),m(" Riwayat Pergerakan - "+i(f.inventoryName),1)]),_:1}),t(te),t(K,{class:"pa-0"},{default:o(()=>[O.value?(h(),E(ke,{key:0,type:"error",variant:"tonal",class:"ma-4"},{default:o(()=>[m(i(O.value),1)]),_:1})):P("",!0),X.value?(h(),G("div",Lt,[t(rt,{indeterminate:"",color:"primary",size:"40"}),y[2]||(y[2]=l("div",{class:"mt-4 text-medium-emphasis"}," Memuat riwayat pergerakan... ",-1))])):(h(),E(wt,{key:2,headers:[{title:"Tanggal",key:"created_at",sortable:!1},{title:"Jenis",key:"movement_type",sortable:!1},{title:"Kuantitas",key:"quantity",sortable:!1},{title:"Stok Sebelum",key:"stock_before",sortable:!1},{title:"Stok Sesudah",key:"stock_after",sortable:!1},{title:"Harga/Unit",key:"unit_cost",sortable:!1},{title:"Total Nilai",key:"total_cost",sortable:!1},{title:"Catatan",key:"notes",sortable:!1}],items:V.value,loading:X.value,class:"text-no-wrap","items-per-page":"15",height:"500","fixed-header":""},{"item.created_at":o(({item:r})=>[l("div",null,[l("div",zt,i(new Date(r.created_at).toLocaleDateString("id-ID")),1),l("small",Nt,i(new Date(r.created_at).toLocaleTimeString("id-ID")),1)])]),"item.movement_type":o(({item:r})=>[t(Y,{color:J(r.movement_type),variant:"tonal",size:"small","prepend-icon":A(r.movement_type)},{default:o(()=>[m(i(W(r.movement_type)),1)]),_:2},1032,["color","prepend-icon"])]),"item.quantity":o(({item:r})=>[l("div",Ft,[t(Y,{color:r.movement_type==="in"||r.movement_type==="stock_in"?"success":"error",variant:"outlined",size:"small"},{default:o(()=>[m(i(r.movement_type==="in"||r.movement_type==="stock_in"?"+":"-")+i(Math.abs(r.quantity)),1)]),_:2},1032,["color"])])]),"item.stock_before":o(({item:r})=>[l("div",Ot,i(r.stock_before),1)]),"item.stock_after":o(({item:r})=>[l("div",qt,i(r.stock_after),1)]),"item.unit_cost":o(({item:r})=>[l("div",Ht,i(r.unit_cost?oe(r.unit_cost):"-"),1)]),"item.total_cost":o(({item:r})=>[l("div",Bt,i(r.total_cost?oe(r.total_cost):"-"),1)]),"item.notes":o(({item:r})=>[l("div",Kt,[l("div",Gt,i(r.notes||"-"),1),r.reference_type&&r.reference_id?(h(),G("small",Xt," Ref: "+i(r.reference_type)+"-"+i(r.reference_id),1)):P("",!0),r.batch_number?(h(),G("small",Jt," Batch: "+i(r.batch_number),1)):P("",!0),r.user?(h(),G("small",Wt," oleh: "+i(r.user.name),1)):P("",!0)])]),"no-data":o(()=>[l("div",Yt,[t(I,{icon:"tabler-history-off",size:"48",class:"text-medium-emphasis mb-4"}),y[3]||(y[3]=l("div",{class:"text-h6 text-medium-emphasis mb-2"}," Belum ada riwayat pergerakan ",-1)),y[4]||(y[4]=l("div",{class:"text-body-2 text-medium-emphasis"}," Riwayat akan muncul setelah ada pergerakan stok ",-1))])]),_:1},8,["items","loading"]))]),_:1}),t(te),t(ze,{class:"pa-4"},{default:o(()=>[t(Ae),t(S,{variant:"outlined",onClick:y[0]||(y[0]=r=>$.value=!1)},{default:o(()=>y[5]||(y[5]=[m(" Tutup ")])),_:1,__:[5]}),t(S,{color:"primary","prepend-icon":"tabler-refresh",onClick:Q},{default:o(()=>y[6]||(y[6]=[m(" Refresh ")])),_:1,__:[6]})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Zt=xt(Qt,[["__scopeId","data-v-ca0277a4"]]),ea=()=>{const se=v([]),u=v(!1),d=v(!1),_=v({total_items:0,low_stock_items:0,out_of_stock_items:0,overstock_items:0,total_stock_value:0,total_stock_quantity:0,total_reserved_stock:0,items_need_restock:0}),V=v([]),X=v(!1),O=v([]),$=v(!1),Q=v(!1),oe=v(!1),J=v(!1),W=v(!1),A=v(null),f=v([]),y=v(1),r=v(0),T=v(15),x=v({search:"",stock_status:"all",category_id:void 0,supplier_id:void 0,sort_by:"current_stock",sort_order:"asc"}),le=v(""),j=v(""),N=v(""),ge=v({movement_type:"stock_in",quantity:0,reason:"",reference_number:"",cost_per_unit:void 0,notes:""}),fe=v({reorder_level:0,max_stock_level:0}),re=ee(()=>f.value.length>0),xe=ee(()=>_.value.total_stock_value),me=ee(()=>_.value.low_stock_items),ye=ee(()=>_.value.out_of_stock_items),ne=ee(()=>Math.ceil(r.value/T.value)),Se=ee(()=>y.value<ne.value),Ve=ee(()=>y.value>1),Te=ee(()=>({currentPage:y.value,totalPages:ne.value,totalItems:r.value,itemsPerPage:T.value,hasNext:Se.value,hasPrev:Ve.value})),Ne=[n=>n>0||"Kuantitas harus lebih dari 0",n=>Number.isInteger(n)||"Kuantitas harus berupa bilangan bulat"],Fe=[n=>!!n||"Alasan wajib diisi",n=>n&&n.length>=3||"Alasan minimal 3 karakter"],Oe=[n=>!n||n>=0||"Harga harus lebih dari atau sama dengan 0"],k=[{title:"Stock Masuk",value:"stock_in",color:"success"},{title:"Stock Keluar",value:"stock_out",color:"warning"},{title:"Penyesuaian",value:"adjustment",color:"info"},{title:"Transfer",value:"transfer",color:"primary"},{title:"Retur",value:"return",color:"success"}],F=[{title:"Semua Status",value:"all"},{title:"Tersedia",value:"in_stock"},{title:"Stok Menipis",value:"low_stock"},{title:"Habis",value:"out_of_stock"},{title:"Stok Berlebih",value:"overstock"}],C=async()=>{u.value=!0,le.value="";try{const n={...x.value,page:y.value,per_page:T.value};Object.keys(n).forEach(Me=>{const De=n[Me];(De===""||De===void 0||De===null||De==="all")&&delete n[Me]});const B=await ae.getAll(n);if(B.success)se.value=B.data.data||[],r.value=B.data.total||0,B.data.current_page&&(y.value=B.data.current_page);else throw new Error(B.message||"Gagal mengambil data inventory")}catch(n){console.error("Error fetching inventory:",n),le.value=ae.formatError(n)||"Gagal mengambil data inventory",se.value=[],r.value=0}finally{u.value=!1}},qe=async()=>{try{const n=await ae.getStats();n.success&&(_.value=n.data)}catch(n){console.error("Error fetching inventory stats:",n)}},be=async()=>{$.value=!0;try{const n=await ae.getLowStockAlerts();n.success&&(O.value=n.data.data||[])}catch(n){console.error("Error fetching low stock alerts:",n),O.value=[]}finally{$.value=!1}},pe=async n=>{X.value=!0;try{const B=await ae.getMovements({id_inventory:n,page:1,per_page:20});B.success&&(V.value=B.data)}catch(B){console.error("Error fetching movements:",B)}finally{X.value=!1}},We=async()=>{if(A.value){d.value=!0,N.value="";try{const n=await ae.updateStock(A.value.id_inventory,ge.value);if(n.success)j.value="Stock berhasil diperbarui",Ce(),await C(),await qe(),await be();else throw new Error(n.message||"Gagal memperbarui stock")}catch(n){console.error("Error updating stock:",n),N.value=ae.formatError(n)||"Gagal memperbarui stock"}finally{d.value=!1}}},Ie=async()=>{if(A.value){d.value=!0,N.value="";try{const n=await ae.setReorderLevel(A.value.id_inventory,fe.value);if(n.success)j.value="Reorder level berhasil diperbarui",Z(),await C();else throw new Error(n.message||"Gagal memperbarui reorder level")}catch(n){console.error("Error setting reorder level:",n),N.value=ae.formatError(n)||"Gagal memperbarui reorder level"}finally{d.value=!1}}},Ue=n=>{A.value=n,ge.value={movement_type:"stock_in",quantity:0,reason:"",reference_number:"",cost_per_unit:n.average_cost||void 0,notes:""},N.value="",Q.value=!0},Ye=n=>{A.value=n,fe.value={reorder_level:n.reorder_level||0,max_stock_level:n.max_stock_level||0},N.value="",W.value=!0},Ee=n=>{A.value=n,pe(n.id_inventory),J.value=!0},Ce=()=>{Q.value=!1,setTimeout(()=>{A.value=null,N.value=""},300)},Z=()=>{W.value=!1,setTimeout(()=>{A.value=null,N.value=""},300)};return{inventoryList:se,loading:u,saveLoading:d,stats:_,movementsList:V,movementsLoading:X,lowStockItems:O,alertsLoading:$,stockUpdateDialog:Q,bulkUpdateDialog:oe,movementsDialog:J,reorderDialog:W,selectedInventory:A,selectedItems:f,currentPage:y,totalItems:r,itemsPerPage:T,filters:x,errorMessage:le,successMessage:j,modalErrorMessage:N,stockUpdateForm:ge,reorderForm:fe,hasSelectedItems:re,totalStockValue:xe,lowStockCount:me,outOfStockCount:ye,quantityRules:Ne,reasonRules:Fe,costRules:Oe,movementTypeOptions:k,stockStatusOptions:F,fetchInventoryList:C,fetchStats:qe,fetchLowStockAlerts:be,fetchMovements:pe,updateStock:We,setReorderLevel:Ie,openStockUpdateDialog:Ue,openReorderDialog:Ye,openMovementsDialog:Ee,closeStockUpdateDialog:Ce,closeReorderDialog:Z,closeMovementsDialog:()=>{J.value=!1,setTimeout(()=>{A.value=null,V.value=[]},300)},clearModalError:()=>{N.value=""},onPageChange:n=>{n!==y.value&&(y.value=n,C())},onItemsPerPageChange:n=>{n!==T.value&&(T.value=n,y.value=1,C())},handleFiltersUpdate:n=>{x.value={...x.value,...n},y.value=1,C()},formatCurrency:n=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(n),getStockStatusColor:n=>n.current_stock===0?"error":n.is_low_stock?"warning":"success",getStockStatusText:n=>n.current_stock===0?"Habis":n.reorder_level>0&&n.current_stock<=n.reorder_level?"Menipis":n.max_stock_level&&n.current_stock>n.max_stock_level?"Berlebih":"Tersedia",getMovementTypeColor:n=>({stock_in:"success",stock_out:"warning",adjustment:"info",transfer:"primary",return:"success",damaged:"error",expired:"error"})[n]||"grey",totalPages:ne,hasNextPage:Se,hasPrevPage:Ve,paginationInfo:Te}};function ta(se){const u=v([]),d=v([]),_=v(!1),V=v(!1),X=v({total_items:0,total_value:0,low_stock_items:0,out_of_stock_items:0,movements_today:0,movements_this_month:0,top_consumed_items:[],recent_movements:[]}),O=v(1),$=v(0),Q=v(10),oe=gt({search:"",stock_status:"all",movement_type:"",date_from:"",date_to:"",item_id:void 0}),J=v(!1),W=v(!1),A=v(null),f=gt({item_id:0,type:"in",quantity:0,notes:"",cost_per_unit:0}),y=v(""),r=v(""),T=v(""),x=ee(()=>!0),le=[{title:"Semua Status",value:"all"},{title:"Tersedia",value:"in_stock"},{title:"Stok Rendah",value:"low_stock"},{title:"Habis",value:"out_of_stock"}],j=[{title:"Masuk",value:"in",color:"success",icon:"tabler-plus"},{title:"Keluar",value:"out",color:"error",icon:"tabler-minus"},{title:"Penyesuaian",value:"adjustment",color:"warning",icon:"tabler-adjustments"}],N=[{title:"Pembelian",value:"purchase"},{title:"Penjualan",value:"sale"},{title:"Produksi",value:"production"},{title:"Penyesuaian",value:"adjustment"},{title:"Kerusakan",value:"waste"}],ge=k=>k.current_stock<=0?{status:"out_of_stock",color:"error",text:"Habis",icon:"tabler-x"}:k.current_stock<=k.minimum_stock?{status:"low_stock",color:"warning",text:"Rendah",icon:"tabler-alert-triangle"}:{status:"in_stock",color:"success",text:"Tersedia",icon:"tabler-check"},fe=k=>!k.maximum_stock||k.maximum_stock<=0?100:Math.round(k.current_stock/k.maximum_stock*100),re=async()=>{_.value=!0;try{await new Promise(k=>setTimeout(k,1e3)),u.value=await $t.getAll(),$.value=u.value.length,r.value=""}catch{y.value="Gagal memuat data items"}finally{_.value=!1}},xe=async k=>{_.value=!0;try{const F=await ae.getMovements({id_inventory:k,page:O.value,per_page:Q.value});d.value=F.data.map(C=>({id:C.id_movement,item_id:C.id_inventory,type:C.movement_type,quantity:C.quantity,unit:"pcs",reference_id:C.reference_number?parseInt(C.reference_number):void 0,reference_type:C.reason,notes:C.notes,cost_per_unit:C.cost_per_unit,total_cost:C.total_cost,created_by:C.created_by,created_at:C.created_at,creator:C.user})),$.value=F.total}catch(F){console.error("Failed to fetch stock movements:",F),d.value=[]}finally{_.value=!1}},me=async()=>{try{await re();const k=u.value;X.value={total_items:k.length,total_value:k.reduce((F,C)=>F+C.current_stock*C.cost_per_unit,0),low_stock_items:k.filter(F=>F.current_stock<=F.minimum_stock&&F.current_stock>0).length,out_of_stock_items:k.filter(F=>F.current_stock<=0).length,movements_today:0,movements_this_month:0,top_consumed_items:[],recent_movements:[]}}catch(k){console.error("Failed to fetch stats:",k)}},ye=async()=>{V.value=!0,T.value="";try{const k=await ae.recordMovement({item_id:f.item_id,movement_type:f.type,quantity:f.quantity,notes:f.notes,cost_per_unit:f.cost_per_unit});if(k.success)r.value=`Stock ${f.type==="in"?"masuk":f.type==="out"?"keluar":"disesuaikan"} berhasil dicatat`,Te(),await re(),await me(),se&&se();else throw new Error(k.message||"Gagal mencatat pergerakan stok")}catch(k){T.value=k.message||"Gagal mencatat pergerakan stok"}finally{V.value=!1}},ne=k=>{A.value=k,Object.assign(f,{item_id:k.id_item,type:"in",quantity:0,notes:"",cost_per_unit:k.cost_per_unit}),J.value=!0},Se=k=>{A.value=k,Object.assign(f,{item_id:k.id_item,type:"out",quantity:0,notes:"",cost_per_unit:k.cost_per_unit}),J.value=!0},Ve=k=>{A.value=k,Object.assign(f,{item_id:k.id_item,type:"adjustment",quantity:k.current_stock,notes:"",cost_per_unit:k.cost_per_unit}),W.value=!0},Te=()=>{J.value=!1,W.value=!1,T.value="",A.value=null};return{itemsList:u,stockMovements:d,loading:_,saveLoading:V,stats:X,currentPage:O,totalItems:$,itemsPerPage:Q,filters:oe,movementDialog:J,adjustmentDialog:W,selectedItem:A,movementFormData:f,errorMessage:y,successMessage:r,modalErrorMessage:T,canManageStock:x,stockStatusOptions:le,movementTypeOptions:j,referenceTypeOptions:N,getStockStatus:ge,getStockPercentage:fe,fetchItems:re,fetchStockMovements:xe,fetchStats:me,recordStockMovement:ye,openStockInDialog:ne,openStockOutDialog:Se,openAdjustmentDialog:Ve,closeMovementDialog:Te,clearModalError:()=>{T.value=""},onPageChange:k=>{O.value=k,re()},handleFiltersUpdate:k=>{Object.assign(oe,k),O.value=1,re()}}}const aa={class:"inventory-management"},oa={class:"d-flex justify-space-between align-center mb-6"},sa={class:"d-flex gap-3 align-center"},la={class:"d-flex align-center justify-space-between"},ra={class:"text-h4 font-weight-bold text-primary"},na={class:"d-flex align-center justify-space-between"},ia={class:"text-h4 font-weight-bold text-warning"},ua={class:"d-flex align-center justify-space-between"},ca={class:"text-h4 font-weight-bold text-error"},da={class:"d-flex align-center justify-space-between"},ma={class:"text-h4 font-weight-bold text-success"},pa={class:"d-flex align-center justify-space-between"},_a={class:"d-flex align-center gap-3"},va={class:"d-flex gap-2"},ka={class:"d-flex flex-wrap gap-2"},ga={class:"table-container"},fa={class:"d-flex align-center"},ya={class:"font-weight-medium"},ha={class:"d-flex flex-column"},ba={class:"text-primary font-weight-medium"},wa={class:"text-medium-emphasis"},xa={class:"text-center"},Sa={class:"text-h6 font-weight-bold"},Va={key:0,class:"text-warning"},Ta={class:"text-center"},Ca={class:"text-center"},Ma={class:"text-end"},Da={class:"text-end font-weight-medium text-success"},Pa={class:"d-flex align-center gap-1"},Aa={class:"text-center py-12"},Ia={class:"text-h5 text-medium-emphasis mb-2"},Ua={class:"text-body-1 text-medium-emphasis mb-4"},Ea={key:0},$a={key:0},ja={key:1},Ra={key:2},La={key:1},za={class:"d-flex justify-center gap-3"},Na={class:"text-center py-8"},Fa={class:"d-flex align-center gap-2"},Oa={class:"d-flex align-center gap-3"},qa={class:"font-weight-bold"},Ha={class:"text-caption"},Ba={class:"text-caption"},Ka={class:"d-flex gap-3 justify-end"},Ga={class:"d-flex align-center gap-2"},Xa={class:"text-white"},Ja={class:"d-flex align-center gap-3"},Wa={class:"font-weight-bold"},Ya={class:"text-caption"},Qa={class:"d-flex align-center gap-2"},Za={key:0,class:"text-center py-8"},eo={key:1},to={class:"text-body-2"},ao={class:"d-flex align-center gap-2"},oo={class:"text-body-2 font-weight-medium"},so={class:"text-caption text-medium-emphasis"},lo={class:"text-end font-weight-medium text-success"},ro={class:"text-center py-8"},no={key:0,class:"d-flex justify-center mt-4"},io=ht({__name:"inventory-management",setup(se){const{xs:u}=Mt(),d=()=>{me(),ye(),ne()},{inventoryList:_,loading:V,saveLoading:X,stats:O,lowStockItems:$,stockUpdateDialog:Q,reorderDialog:oe,movementsDialog:J,selectedInventory:W,currentPage:A,totalItems:f,itemsPerPage:y,filters:r,errorMessage:T,successMessage:x,modalErrorMessage:le,stockUpdateForm:j,reorderForm:N,totalStockValue:ge,lowStockCount:fe,outOfStockCount:re,stockStatusOptions:xe,fetchInventoryList:me,fetchStats:ye,fetchLowStockAlerts:ne,updateStock:Se,setReorderLevel:Ve,openStockUpdateDialog:Te,openReorderDialog:Ne,openMovementsDialog:Fe,closeStockUpdateDialog:Oe,closeReorderDialog:k,clearModalError:F,onPageChange:C,onItemsPerPageChange:qe,handleFiltersUpdate:be,formatCurrency:pe,getStockStatusColor:We,getStockStatusText:Ie}=ea(),{recordStockMovement:Ue,openAdjustmentDialog:Ye,movementDialog:Ee,adjustmentDialog:Ce,selectedItem:Z,movementFormData:R,saveLoading:Qe,closeMovementDialog:$e,successMessage:He,modalErrorMessage:Ze,clearModalError:nt}=ta(d),it=c=>c.item?{id_item:c.item.id_item,item_code:c.item.item_code,name:c.item.name,description:c.item.description||"",unit:c.item.unit,cost_per_unit:parseFloat(c.item.cost_per_unit),current_stock:c.current_stock,minimum_stock:c.reorder_level||0,active:!0,storage_location:c.item.storage_location||"",expiry_date:c.item.expiry_date||null,properties:c.item.properties||null,created_by:c.item.created_by||null,updated_by:c.item.updated_by||null,created_at:c.item.created_at,updated_at:c.item.updated_at,deleted_at:c.item.deleted_at||null}:null,ut=c=>{const e=it(c);e&&Ye(e)},ct=ee(()=>O.value);ee(()=>_.value),ee(()=>V.value),Dt(()=>{me(),ye(),ne()});const n=v(!1),B=()=>{var U;console.log("ðŸ” === AUTH STATUS CHECK ===");const c=st("accessToken").value,e=localStorage.getItem("token"),b=localStorage.getItem("auth_token"),M=localStorage.getItem("accessToken");console.log("ðŸª Cookie accessToken:",c?`Found (${c.substring(0,20)}...)`:"Not found"),console.log("ðŸ’¾ localStorage token:",e?`Found (${e.substring(0,20)}...)`:"Not found"),console.log("ðŸ’¾ localStorage auth_token:",b?`Found (${b.substring(0,20)}...)`:"Not found"),console.log("ðŸ’¾ localStorage accessToken:",M?`Found (${M.substring(0,20)}...)`:"Not found");try{const D=Ut();console.log("ðŸª Auth Store isLoggedIn:",D.isLoggedIn),console.log("ðŸª Auth Store user:",((U=D.user)==null?void 0:U.name)||"No user"),console.log("ðŸª Auth Store token:",D.token?`Found (${D.token.substring(0,20)}...)`:"Not found")}catch(D){console.log("ðŸª Auth Store not available:",D)}return console.log("========================="),{cookieToken:c,localToken:e,authToken:b,accessToken:M}},Me=()=>{try{const c=B(),e=st("accessToken").value;if(console.log("ðŸ” Checking cookie token:",e?"Token found in cookie":"No token in cookie"),e)return console.log("âœ… Using cookie token (first 20 chars):",e.substring(0,20)+"..."),e;console.log("ðŸ” Checking localStorage methods...");const b=localStorage.getItem("token")||localStorage.getItem("auth_token")||localStorage.getItem("accessToken");return b?console.log("âœ… Using localStorage token (first 20 chars):",b.substring(0,20)+"..."):console.log("âŒ No token found in any storage"),b||null}catch(c){console.warn("âŒ Error getting auth token:",c);const e=localStorage.getItem("token")||localStorage.getItem("auth_token")||localStorage.getItem("accessToken")||null;return console.log("ðŸ”„ Fallback token result:",e?"Found fallback token":"No fallback token"),e}},De=async()=>{var c,e,b,M,U;try{console.log("ðŸš€ Starting fetchAllInventoryForExport...");const D=new URLSearchParams({per_page:"999999",page:"1",search:r.value.search||"",stock_status:r.value.stock_status||"all"});console.log("ðŸ“ Request params:",D.toString()),console.log("ðŸª Available cookies:"),document.cookie.split(";").forEach(s=>{const[p,...g]=s.trim().split("=");(p.toLowerCase().includes("token")||p.toLowerCase().includes("auth"))&&console.log(`  - ${p}: ${g.join("=").substring(0,20)}...`)}),console.log("ðŸ’¾ Available localStorage items:");for(let s=0;s<localStorage.length;s++){const p=localStorage.key(s);if(p&&(p.toLowerCase().includes("token")||p.toLowerCase().includes("auth"))){const g=localStorage.getItem(p);console.log(`  - ${p}: ${g==null?void 0:g.substring(0,20)}...`)}}try{console.log("ðŸ”„ Attempting to fetch with useApi composable...");const{data:s}=await jt(`/inventory?${D}`).get().json();if(s.value&&s.value.success)return console.log("âœ… Successfully fetched with useApi:",((c=s.value.data.data)==null?void 0:c.length)||0,"items"),s.value.data.data||[];throw console.log("âŒ useApi response not successful:",s.value),new Error(((e=s.value)==null?void 0:e.message)||"useApi failed")}catch(s){console.warn("âŒ useApi failed, trying manual fetch:",s);const p=Me();console.log("ðŸ” Token for manual fetch:",p?`Token available (${p.substring(0,20)}...)`:"No token");const g={"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...p&&{Authorization:`Bearer ${p}`}};console.log("ðŸ“‹ Request headers:",{...g,Authorization:g.Authorization?g.Authorization.substring(0,30)+"...":"Not set"});const L=await fetch(`/api/inventory?${D}`,{method:"GET",headers:g});if(console.log("ðŸ“Š Response status:",L.status,L.statusText),console.log("ðŸ“‹ Response headers:",Object.fromEntries(L.headers.entries())),!L.ok){const ie=await L.text();console.error("âŒ Manual fetch API Error Response:",ie),console.error("ðŸ“Š Error details - Status:",L.status,"StatusText:",L.statusText);try{const ue=JSON.parse(ie);console.error("ðŸ“‹ Parsed error JSON:",ue)}catch{console.error("ðŸ“‹ Error response is not JSON:",ie)}throw new Error(`HTTP ${L.status}: ${L.statusText}`)}const q=await L.json();if(console.log("âœ… Manual fetch successful response:",{success:q.success,dataLength:((M=(b=q.data)==null?void 0:b.data)==null?void 0:M.length)||0,message:q.message}),q.success)return console.log("âœ… Successfully fetched with manual fetch:",((U=q.data.data)==null?void 0:U.length)||0,"items"),q.data.data||[];throw console.error("âŒ Manual fetch response not successful:",q),new Error(q.message||"Failed to fetch inventory data")}}catch(D){throw console.error("ðŸ’¥ Fetch all inventory error:",D),new Error("Gagal mengambil data inventory lengkap: "+(D instanceof Error?D.message:"Unknown error"))}},et=v(!1),tt=v([]),at=v(!1),je=v(1),Be=v(10),ot=v(0),St=async()=>{try{n.value=!0;const c=await De(),e=await It(()=>import("./xlsx-CfQreh1U.js"),[]),b=c.map((w,we)=>{var Re,pt,_t,vt,kt;return{No:we+1,"Produk/Variant":`${((Re=w.item)==null?void 0:Re.name)||((pt=w.product)==null?void 0:pt.name)||"Unknown Item"} (SKU: ${((_t=w.item)==null?void 0:_t.item_code)||((vt=w.product)==null?void 0:vt.sku)||"-"})`,Unit:((kt=w.item)==null?void 0:kt.unit)||"pcs","Stok Saat Ini":w.current_stock||0,"Stok Tersedia":w.available_stock||0,"Stok Minimum":w.reorder_level||0,Status:Ie(w),"Harga Rata-rata":pe(w.average_cost||0),Dibuat:w.created_at?new Date(w.created_at).toLocaleDateString("id-ID"):"-",Diperbarui:w.updated_at?new Date(w.updated_at).toLocaleDateString("id-ID"):"-"}}),M=e.utils.book_new(),U=e.utils.json_to_sheet(b),D=c.length,s=c.filter(w=>w.current_stock<=w.reorder_level).length,p=c.filter(w=>w.current_stock===0).length,g=c.reduce((w,we)=>w+(we.current_stock||0)*(we.average_cost||0),0),L=[["LAPORAN INVENTORY MANAGEMENT"],["Tanggal Export: "+new Date().toLocaleDateString("id-ID")],["Total Items: "+D],["Total Nilai Stok: "+pe(g)],["Items Low Stock: "+s],["Items Out of Stock: "+p],["Filter Diterapkan: "+(r.value.search?`Pencarian: "${r.value.search}", `:"")+(r.value.stock_status!=="all"?`Status: ${r.value.stock_status}`:"Semua Data")],[]];e.utils.sheet_add_aoa(U,L,{origin:"A1"}),e.utils.sheet_add_json(U,b,{origin:"A9"});const q=[{wch:5},{wch:30},{wch:15},{wch:30},{wch:8},{wch:12},{wch:12},{wch:12},{wch:15},{wch:15},{wch:15},{wch:20},{wch:12},{wch:12}];U["!cols"]=q,e.utils.book_append_sheet(M,U,"Inventory Report");const ue=`inventory-report-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.xlsx`;e.writeFile(M,ue);try{await Vt(c,{total_items:D,total_stock_value:g,low_stock_count:s,out_of_stock_count:p}),x.value=""}catch(w){console.error("Upload error:",w),x.value=""}}catch(c){console.error("Export error:",c),T.value="Gagal mengexport laporan: "+(c instanceof Error?c.message:"Unknown error")}finally{n.value=!1}},Vt=async(c,e)=>{try{const b=c||_.value,M=e||{total_items:f.value,total_stock_value:ge.value||0,low_stock_count:fe.value,out_of_stock_count:re.value},U={inventory_data:b.map(g=>{var L,q,ie,ue,w,we,Re;return{id_inventory:g.id_inventory,id_product:g.id_product,id_item:g.id_item,current_stock:g.current_stock||0,available_stock:g.available_stock||0,reserved_stock:g.reserved_stock||0,reorder_level:g.reorder_level||0,max_stock_level:g.max_stock_level||null,average_cost:g.average_cost||0,product_name:((L=g.product)==null?void 0:L.name)||((q=g.item)==null?void 0:q.name)||"Unknown",product_sku:((ie=g.product)==null?void 0:ie.sku)||((ue=g.item)==null?void 0:ue.item_code)||null,unit:((w=g.item)==null?void 0:w.unit)||"pcs",category:((Re=(we=g.product)==null?void 0:we.category)==null?void 0:Re.name)||null,status:Ie(g),stock_value:(g.current_stock||0)*(g.average_cost||0),created_at:g.created_at,updated_at:g.updated_at}}),summary:{total_items:M.total_items,total_stock_value:M.total_stock_value,low_stock_count:M.low_stock_count,out_of_stock_count:M.out_of_stock_count,export_timestamp:new Date().toISOString(),filters_applied:{search:r.value.search||null,stock_status:r.value.stock_status!=="all"?r.value.stock_status:null}}},D=Me(),s=await fetch("/api/inventory/upload-data",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...D&&{Authorization:`Bearer ${D}`}},body:JSON.stringify(U)});if(!s.ok){const g=await s.json();throw new Error(g.message||`HTTP ${s.status}: ${s.statusText}`)}const p=await s.json();return console.log("Upload result:",p),p}catch(b){throw console.error("Upload inventory data error:",b),b}},dt=async()=>{var c;try{at.value=!0;const e=Me(),b=await fetch(`/api/inventory/upload-history?page=${je.value}&per_page=${Be.value}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest",...e&&{Authorization:`Bearer ${e}`}}});if(!b.ok)throw new Error(`HTTP ${b.status}: ${b.statusText}`);const M=await b.json();if(M.success)tt.value=M.data||[],ot.value=((c=M.pagination)==null?void 0:c.total)||0;else throw new Error(M.message||"Failed to fetch upload history")}catch(e){console.error("Fetch upload history error:",e),T.value="Gagal mengambil riwayat upload: "+(e instanceof Error?e.message:"Unknown error")}finally{at.value=!1}},Tt=c=>{je.value=c,dt()},mt=()=>{et.value=!1,tt.value=[],je.value=1},Ct=async()=>{try{console.log("ðŸš€ Testing login to get fresh token...");const c=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({login:"admin",password:"password123"})});console.log("ðŸ“Š Login Response Status:",c.status,c.statusText);const e=await c.json();if(console.log("ðŸ“‹ Login Response Data:",e),e.success&&e.data.token){const b=e.data.token;console.log("âœ… Login successful! Token:",b.substring(0,30)+"..."),localStorage.setItem("token",b),console.log("ðŸ’¾ Token saved to localStorage");const M=st("accessToken",{default:()=>"",secure:!0,sameSite:"strict",maxAge:3600*24*7});M.value=b,console.log("ðŸª Token saved to cookie"),x.value="Login berhasil! Token telah diperbarui. Silakan coba export lagi.",console.log("ðŸŒ Testing API call with new token...");const U=await fetch("/api/inventory?per_page=1",{headers:{Authorization:"Bearer "+b,Accept:"application/json"}});console.log("ðŸ“Š Test API Response Status:",U.status,U.statusText),U.ok?console.log("âœ… New token works! You can now try the export function."):(console.log("âŒ New token still doesn't work"),T.value="Token baru tidak bekerja. Mungkin ada masalah dengan server.")}else console.log("âŒ Login failed:",e.message),T.value="Login gagal: "+(e.message||"Unknown error")}catch(c){console.log("ðŸ’¥ Login error:",c),T.value="Error saat login: "+(c instanceof Error?c.message:"Unknown error")}};return bt(f,(c,e)=>{},{immediate:!0}),(c,e)=>{var b,M,U,D;return h(),G("div",aa,[l("div",oa,[e[34]||(e[34]=l("div",null,[l("h1",{class:"text-h4 font-weight-bold inventory-title"}," Kelola Inventory "),l("p",{class:"text-body-1 text-medium-emphasis inventory-subtitle"}," Kelola stok barang dan pergerakan inventory ")],-1)),l("div",sa,[t(S,{color:"info","prepend-icon":"tabler-bug",variant:"outlined",size:"small",onClick:B},{default:o(()=>e[31]||(e[31]=[m(" Check Auth ")])),_:1,__:[31]}),t(S,{color:"warning","prepend-icon":"tabler-login",variant:"outlined",size:"small",onClick:Ct},{default:o(()=>e[32]||(e[32]=[m(" Test Login ")])),_:1,__:[32]}),t(S,{color:"primary","prepend-icon":"tabler-refresh",variant:"outlined",onClick:d},{default:o(()=>e[33]||(e[33]=[m(" Refresh Data ")])),_:1,__:[33]})])]),a(T)?(h(),E(ke,{key:0,type:"error",variant:"outlined",class:"mb-4",text:a(T),closable:"","onClick:close":e[0]||(e[0]=s=>T.value="")},null,8,["text"])):P("",!0),a(x)?(h(),E(ke,{key:1,type:"success",variant:"outlined",class:"mb-4",text:a(x),closable:"","onClick:close":e[1]||(e[1]=s=>x.value="")},null,8,["text"])):P("",!0),a(He)?(h(),E(ke,{key:2,type:"success",variant:"outlined",class:"mb-4",text:a(He),closable:"","onClick:close":e[2]||(e[2]=s=>He.value="")},null,8,["text"])):P("",!0),t(ve,{class:"mb-6"},{default:o(()=>[t(z,{cols:"12",md:"3"},{default:o(()=>[t(H,{class:"stats-card"},{default:o(()=>[t(K,null,{default:o(()=>[l("div",la,[l("div",null,[l("div",ra,i(ct.value.total_items||0),1),e[35]||(e[35]=l("div",{class:"text-caption text-medium-emphasis"}," Total Produk ",-1))]),t(I,{icon:"tabler-package",size:"48",class:"text-primary opacity-50"})])]),_:1})]),_:1})]),_:1}),t(z,{cols:"12",md:"3"},{default:o(()=>[t(H,{class:"stats-card"},{default:o(()=>[t(K,null,{default:o(()=>[l("div",na,[l("div",null,[l("div",ia,i(a(fe)||0),1),e[36]||(e[36]=l("div",{class:"text-caption text-medium-emphasis"}," Stok Menipis ",-1))]),t(I,{icon:"tabler-alert-triangle",size:"48",class:"text-warning opacity-50"})])]),_:1})]),_:1})]),_:1}),t(z,{cols:"12",md:"3"},{default:o(()=>[t(H,{class:"stats-card"},{default:o(()=>[t(K,null,{default:o(()=>[l("div",ua,[l("div",null,[l("div",ca,i(a(re)||0),1),e[37]||(e[37]=l("div",{class:"text-caption text-medium-emphasis"}," Stok Habis ",-1))]),t(I,{icon:"tabler-x-circle",size:"48",class:"text-error opacity-50"})])]),_:1})]),_:1})]),_:1}),t(z,{cols:"12",md:"3"},{default:o(()=>[t(H,{class:"stats-card"},{default:o(()=>[t(K,null,{default:o(()=>[l("div",da,[l("div",null,[l("div",ma,i(a(pe)(a(ge)||0)),1),e[38]||(e[38]=l("div",{class:"text-caption text-medium-emphasis"}," Nilai Stok ",-1))]),t(I,{icon:"tabler-currency-dollar",size:"48",class:"text-success opacity-50"})])]),_:1})]),_:1})]),_:1})]),_:1}),t(H,{class:"mb-6 info-card",color:"info",variant:"tonal"},{default:o(()=>[t(K,null,{default:o(()=>[l("div",pa,[l("div",_a,[t(I,{icon:"tabler-info-circle",size:"32",class:"text-info"}),e[39]||(e[39]=l("div",null,[l("div",{class:"text-subtitle-1 font-weight-medium text-info"}," Sistem Stock Movement Otomatis "),l("div",{class:"text-body-2 text-medium-emphasis"},[m(" Stok akan bertambah otomatis saat purchasing dan berkurang saat penjualan POS. Gunakan tombol "),l("strong",null,"Penyesuaian"),m(" untuk koreksi manual jika diperlukan. ")])],-1))]),l("div",va,[t(Y,{color:"success",variant:"tonal",size:"small"},{default:o(()=>[t(I,{icon:"tabler-shopping-cart",class:"me-1"}),e[40]||(e[40]=m(" Purchase â†’ Stok + "))]),_:1,__:[40]}),t(Y,{color:"error",variant:"tonal",size:"small"},{default:o(()=>[t(I,{icon:"tabler-cash",class:"me-1"}),e[41]||(e[41]=m(" POS Sale â†’ Stok - "))]),_:1,__:[41]})])])]),_:1})]),_:1}),a($).length>0?(h(),E(H,{key:3,class:"mb-6 low-stock-alert"},{default:o(()=>[t(he,{class:"d-flex align-center"},{default:o(()=>[t(I,{icon:"tabler-alert-triangle",class:"text-warning me-2"}),m(" Peringatan Stok Menipis ("+i(a($).length)+" produk) ",1)]),_:1}),t(K,null,{default:o(()=>[l("div",ka,[(h(!0),G(Pt,null,At(a($).slice(0,10),s=>(h(),E(Y,{key:s.id_inventory,color:"warning",variant:"outlined",size:"small"},{default:o(()=>{var p;return[m(i((p=s.product)==null?void 0:p.name)+" ("+i(s.current_stock)+"/"+i(s.reorder_level)+") ",1)]}),_:2},1024))),128)),a($).length>10?(h(),E(Y,{key:0,color:"warning",variant:"tonal",size:"small"},{default:o(()=>[m(" +"+i(a($).length-10)+" lainnya ",1)]),_:1})):P("",!0)])]),_:1})]),_:1})):P("",!0),!a(V)&&a(_).length===0&&!a(T)&&!a(r).search&&a(r).stock_status==="all"?(h(),E(H,{key:4,class:"mb-6"},{default:o(()=>[t(K,{class:"text-center py-6"},{default:o(()=>[t(I,{icon:"tabler-info-circle",size:"48",class:"text-info mb-3"}),e[42]||(e[42]=l("div",{class:"text-h6 mb-2"}," Sistem Inventory Management Siap Digunakan ",-1)),e[43]||(e[43]=l("div",{class:"text-body-2 text-medium-emphasis"}," Buat produk dan variant terlebih dahulu untuk mulai melacak inventory. ",-1))]),_:1,__:[42,43]})]),_:1})):P("",!0),t(H,{class:"mb-6"},{default:o(()=>[t(K,null,{default:o(()=>[t(ve,null,{default:o(()=>[t(z,{cols:"12",md:"4"},{default:o(()=>[t(ce,{modelValue:a(r).search,"onUpdate:modelValue":[e[3]||(e[3]=s=>a(r).search=s),e[4]||(e[4]=s=>a(be)({search:s}))],label:"Cari inventory produk...",placeholder:"Nama produk, SKU, atau variant","prepend-inner-icon":"tabler-search",clearable:"",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(z,{cols:"12",md:"4"},{default:o(()=>[t(ft,{modelValue:a(r).stock_status,"onUpdate:modelValue":[e[5]||(e[5]=s=>a(r).stock_status=s),e[6]||(e[6]=s=>a(be)({stock_status:s||"all"}))],items:a(xe),label:"Status Stok",variant:"outlined",clearable:""},null,8,["modelValue","items"])]),_:1}),t(z,{cols:"12",md:"4",class:"d-flex align-center gap-2"},{default:o(()=>[t(S,{variant:"outlined","prepend-icon":"tabler-refresh",onClick:e[7]||(e[7]=s=>{a(me)(),a(ye)(),a(ne)()})},{default:o(()=>e[44]||(e[44]=[m(" Refresh ")])),_:1,__:[44]}),a(r).search||a(r).stock_status!=="all"?(h(),E(S,{key:0,variant:"outlined",color:"warning","prepend-icon":"tabler-filter-off",onClick:e[8]||(e[8]=s=>a(be)({search:"",stock_status:"all"}))},{default:o(()=>e[45]||(e[45]=[m(" Clear ")])),_:1,__:[45]})):P("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),!a(V)&&a(_).length===0&&!a(T)&&!a(r).search&&a(r).stock_status==="all"?(h(),E(H,{key:5,class:"mb-6"},{default:o(()=>[t(K,{class:"text-center py-6"},{default:o(()=>[t(I,{icon:"tabler-package-off",size:"48",class:"text-disabled mb-3"}),e[46]||(e[46]=l("div",{class:"text-h6 mb-2"}," Sistem Inventory Management Siap Digunakan ",-1)),e[47]||(e[47]=l("div",{class:"text-body-2 text-medium-emphasis"}," Buat produk dan variant terlebih dahulu untuk mulai melacak inventory. ",-1))]),_:1,__:[46,47]})]),_:1})):P("",!0),t(H,{class:"products-inventory-table"},{default:o(()=>[t(he,{class:"d-flex align-center gap-2 coffee-header"},{default:o(()=>[t(I,{icon:"tabler-package",class:"text-white"}),e[49]||(e[49]=l("span",{class:"text-white"},"Inventory Produk",-1)),t(Ae),t(S,{color:"success",variant:"elevated","prepend-icon":"tabler-file-spreadsheet",loading:n.value,onClick:St},{default:o(()=>e[48]||(e[48]=[m(" Export Semua Data ")])),_:1,__:[48]},8,["loading"]),t(Y,{color:"white",size:"small",variant:"tonal"},{default:o(()=>[m(i(a(f))+" Produk ",1)]),_:1})]),_:1,__:[49]}),t(te),l("div",ga,[t(Rt,{headers:[{title:"Produk/Variant",key:"item_name",sortable:!1,width:"280px"},{title:"Stok Saat Ini",key:"current_stock",sortable:!1,width:"120px"},{title:"Stok Tersedia",key:"available_stock",sortable:!1,width:"120px"},{title:"Status",key:"status",sortable:!1,width:"120px"},{title:"Reorder Level",key:"reorder_level",sortable:!1,width:"120px"},{title:"Harga Rata-rata",key:"average_cost",sortable:!1,width:"150px"},{title:"Nilai Stok",key:"stock_value",sortable:!1,width:"150px"},{title:"Aksi",key:"actions",sortable:!1,width:"200px",fixed:!0}],items:a(_),loading:a(V),"items-length":a(f),"items-per-page":a(y),page:a(A),"items-per-page-options":[10,15,25,50,100],"items-per-page-text":"Items per page:","page-text":"{0}-{1} of {2}","no-data-text":"Tidak ada data inventory",class:"text-no-wrap fixed-actions-table",id:"inventory-table","fixed-header":"",height:"500px","onUpdate:page":a(C),"onUpdate:itemsPerPage":a(qe)},{"item.item_name":o(({item:s})=>{var p,g,L,q,ie,ue,w;return[l("div",fa,[l("div",null,[l("div",ya,i(((p=s.item)==null?void 0:p.name)||((g=s.product)==null?void 0:g.name)||"Unknown Item"),1),l("div",ha,[l("small",ba," SKU: "+i(((L=s.item)==null?void 0:L.item_code)||((q=s.product)==null?void 0:q.sku)||"-"),1),l("small",wa,i(((ie=s.item)==null?void 0:ie.description)||((w=(ue=s.product)==null?void 0:ue.category)==null?void 0:w.name)||"-"),1)])])])]}),"item.sku":o(({item:s})=>[t(Y,{variant:"outlined",size:"small",color:"primary"},{default:o(()=>{var p,g;return[m(i(((p=s.item)==null?void 0:p.item_code)||((g=s.product)==null?void 0:g.sku)||"N/A"),1)]}),_:2},1024)]),"item.current_stock":o(({item:s})=>[l("div",xa,[l("div",Sa,i(s.current_stock),1),s.reserved_stock>0?(h(),G("small",Va," ("+i(s.reserved_stock)+" reserved) ",1)):P("",!0)])]),"item.available_stock":o(({item:s})=>[l("div",Ta,[t(Y,{color:s.available_stock>0?"success":"error",variant:"tonal",size:"small"},{default:o(()=>[m(i(s.available_stock),1)]),_:2},1032,["color"])])]),"item.status":o(({item:s})=>[t(Y,{color:a(We)(s),variant:"tonal",size:"small"},{default:o(()=>[m(i(a(Ie)(s)),1)]),_:2},1032,["color"])]),"item.reorder_level":o(({item:s})=>[l("div",Ca,i(s.reorder_level||"-"),1)]),"item.average_cost":o(({item:s})=>[l("div",Ma,i(a(pe)(s.average_cost)),1)]),"item.stock_value":o(({item:s})=>[l("div",Da,i(a(pe)(s.current_stock*s.average_cost)),1)]),"item.actions":o(({item:s})=>[l("div",Pa,[t(Xe,{text:"Penyesuaian Stok"},{activator:o(({props:p})=>[t(S,Ke(p,{icon:"tabler-adjustments",color:"warning",variant:"text",size:"small",disabled:!s.item,onClick:g=>ut(s)}),null,16,["disabled","onClick"])]),_:2},1024),t(Xe,{text:"Update Stok"},{activator:o(({props:p})=>[t(S,Ke(p,{icon:"tabler-edit",color:"primary",variant:"text",size:"small",onClick:g=>a(Te)(s)}),null,16,["onClick"])]),_:2},1024),t(Xe,{text:"Set Reorder Level"},{activator:o(({props:p})=>[t(S,Ke(p,{icon:"tabler-settings",color:"info",variant:"text",size:"small",onClick:g=>a(Ne)(s)}),null,16,["onClick"])]),_:2},1024),t(Xe,{text:"Lihat Riwayat"},{activator:o(({props:p})=>[t(S,Ke(p,{icon:"tabler-history",color:"secondary",variant:"text",size:"small",onClick:g=>a(Fe)(s)}),null,16,["onClick"])]),_:2},1024)])]),"no-data":o(()=>{var s;return[l("div",Aa,[t(I,{icon:a(r).search||a(r).stock_status!=="all"?"tabler-search-off":"tabler-package-off",size:"64",class:"text-medium-emphasis mb-4"},null,8,["icon"]),l("div",Ia,i(a(r).search||a(r).stock_status!=="all"?"Tidak Ada Hasil Pencarian":"Belum Ada Data Inventory"),1),l("div",Ua,[a(r).search||a(r).stock_status!=="all"?(h(),G("span",Ea,[a(r).search?(h(),G("span",$a,[e[50]||(e[50]=m(' Tidak ditemukan inventory dengan kata kunci "')),l("strong",null,i(a(r).search),1),e[51]||(e[51]=m('" '))])):P("",!0),a(r).search&&a(r).stock_status!=="all"?(h(),G("span",ja," dan ")):P("",!0),a(r).stock_status!=="all"?(h(),G("span",Ra,[e[52]||(e[52]=m(' status stok "')),l("strong",null,i(((s=a(xe).find(p=>p.value===a(r).stock_status))==null?void 0:s.title)||a(r).stock_status),1),e[53]||(e[53]=m('" '))])):P("",!0),e[54]||(e[54]=l("br",null,null,-1)),e[55]||(e[55]=m("Coba kata kunci yang berbeda atau hapus filter. "))])):(h(),G("span",La,e[56]||(e[56]=[m(" Data inventory akan muncul setelah produk dan variant dibuat."),l("br",null,null,-1),m(" Silakan buat produk terlebih dahulu di menu "),l("strong",null,"Kelola Produk",-1),m(". ")])))]),l("div",za,[a(r).search||a(r).stock_status!=="all"?(h(),E(S,{key:0,color:"warning",variant:"outlined","prepend-icon":"tabler-filter-off",onClick:e[9]||(e[9]=p=>a(be)({search:"",stock_status:"all"}))},{default:o(()=>e[57]||(e[57]=[m(" Hapus Filter ")])),_:1,__:[57]})):(h(),E(S,{key:1,color:"primary","prepend-icon":"tabler-plus",to:"/products-management"},{default:o(()=>e[58]||(e[58]=[m(" Buat Produk Baru ")])),_:1,__:[58]})),t(S,{variant:"outlined","prepend-icon":"tabler-refresh",onClick:e[10]||(e[10]=p=>{a(me)(),a(ye)(),a(ne)()})},{default:o(()=>e[59]||(e[59]=[m(" Refresh Data ")])),_:1,__:[59]})])])]}),loading:o(()=>[l("div",Na,[t(rt,{indeterminate:"",color:"primary",size:"40"}),e[60]||(e[60]=l("div",{class:"mt-4 text-medium-emphasis"}," Memuat data inventory... ",-1))])]),_:1},8,["items","loading","items-length","items-per-page","page","onUpdate:page","onUpdate:itemsPerPage"])])]),_:1}),t(Pe,{modelValue:a(Q),"onUpdate:modelValue":e[17]||(e[17]=s=>Le(Q)?Q.value=s:null),"max-width":"800px",fullscreen:a(u),persistent:"",class:"stock-dialog"},{default:o(()=>[t(H,null,{default:o(()=>[t(he,null,{default:o(()=>{var s,p;return[m(" Update Stok - "+i((p=(s=a(W))==null?void 0:s.product)==null?void 0:p.name),1)]}),_:1}),t(te),t(Je,{onSubmit:Ge(a(Se),["prevent"])},{default:o(()=>[t(K,null,{default:o(()=>[a(le)?(h(),E(ke,{key:0,type:"error",variant:"tonal",closable:"",class:"mb-4","onClick:close":a(F)},{default:o(()=>[m(i(a(le)),1)]),_:1},8,["onClick:close"])):P("",!0),t(ve,null,{default:o(()=>[t(z,{cols:"12",md:"6"},{default:o(()=>[t(ft,{modelValue:a(j).movement_type,"onUpdate:modelValue":e[11]||(e[11]=s=>a(j).movement_type=s),label:"Jenis Pergerakan *",items:[{title:"Stock Masuk",value:"stock_in"},{title:"Stock Keluar",value:"stock_out"},{title:"Penyesuaian",value:"adjustment"},{title:"Transfer",value:"transfer"},{title:"Retur",value:"return"}],variant:"outlined"},null,8,["modelValue"])]),_:1}),t(z,{cols:"12",md:"6"},{default:o(()=>[t(ce,{modelValue:a(j).quantity,"onUpdate:modelValue":e[12]||(e[12]=s=>a(j).quantity=s),modelModifiers:{number:!0},label:"Kuantitas *",type:"number",min:"1",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),t(ve,null,{default:o(()=>[t(z,{cols:"12"},{default:o(()=>[t(ce,{modelValue:a(j).reason,"onUpdate:modelValue":e[13]||(e[13]=s=>a(j).reason=s),label:"Alasan *",placeholder:"Contoh: Pembelian dari supplier, Penjualan, dll",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),t(ve,null,{default:o(()=>[t(z,{cols:"12",md:"6"},{default:o(()=>[t(ce,{modelValue:a(j).reference_number,"onUpdate:modelValue":e[14]||(e[14]=s=>a(j).reference_number=s),label:"Nomor Referensi",placeholder:"PO-001, SO-001, dll",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(z,{cols:"12",md:"6"},{default:o(()=>[t(ce,{modelValue:a(j).cost_per_unit,"onUpdate:modelValue":e[15]||(e[15]=s=>a(j).cost_per_unit=s),modelModifiers:{number:!0},label:"Harga per Unit",type:"number",min:"0",step:"0.01",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),t(ve,null,{default:o(()=>[t(z,{cols:"12"},{default:o(()=>[t(lt,{modelValue:a(j).notes,"onUpdate:modelValue":e[16]||(e[16]=s=>a(j).notes=s),label:"Catatan",rows:"2",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(te),t(ze,{class:"pa-4"},{default:o(()=>[t(Ae),t(S,{variant:"outlined",onClick:a(Oe)},{default:o(()=>e[61]||(e[61]=[m(" Batal ")])),_:1,__:[61]},8,["onClick"]),t(S,{type:"submit",color:"primary",loading:a(X)},{default:o(()=>e[62]||(e[62]=[m(" Update Stok ")])),_:1,__:[62]},8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue","fullscreen"]),t(Pe,{modelValue:a(oe),"onUpdate:modelValue":e[20]||(e[20]=s=>Le(oe)?oe.value=s:null),"max-width":"600px",fullscreen:a(u),persistent:"",class:"stock-dialog"},{default:o(()=>[t(H,null,{default:o(()=>[t(he,null,{default:o(()=>{var s,p;return[m(" Set Reorder Level - "+i((p=(s=a(W))==null?void 0:s.product)==null?void 0:p.name),1)]}),_:1}),t(te),t(Je,{onSubmit:Ge(a(Ve),["prevent"])},{default:o(()=>[t(K,null,{default:o(()=>[a(le)?(h(),E(ke,{key:0,type:"error",variant:"tonal",closable:"",class:"mb-4","onClick:close":a(F)},{default:o(()=>[m(i(a(le)),1)]),_:1},8,["onClick:close"])):P("",!0),t(ve,null,{default:o(()=>[t(z,{cols:"12"},{default:o(()=>[t(ce,{modelValue:a(N).reorder_level,"onUpdate:modelValue":e[18]||(e[18]=s=>a(N).reorder_level=s),modelModifiers:{number:!0},label:"Reorder Level *",type:"number",min:"0",hint:"Stok minimum sebelum perlu restock","persistent-hint":"",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),t(ve,null,{default:o(()=>[t(z,{cols:"12"},{default:o(()=>[t(ce,{modelValue:a(N).max_stock_level,"onUpdate:modelValue":e[19]||(e[19]=s=>a(N).max_stock_level=s),modelModifiers:{number:!0},label:"Max Stock Level",type:"number",min:"0",hint:"Stok maksimum yang diizinkan","persistent-hint":"",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(te),t(ze,{class:"pa-4"},{default:o(()=>[t(Ae),t(S,{variant:"outlined",onClick:a(k)},{default:o(()=>e[63]||(e[63]=[m(" Batal ")])),_:1,__:[63]},8,["onClick"]),t(S,{type:"submit",color:"primary",loading:a(X)},{default:o(()=>e[64]||(e[64]=[m(" Simpan ")])),_:1,__:[64]},8,["loading"])]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["modelValue","fullscreen"]),t(Zt,{modelValue:a(J),"onUpdate:modelValue":e[21]||(e[21]=s=>Le(J)?J.value=s:null),"inventory-id":(M=(b=a(W))==null?void 0:b.id_inventory)==null?void 0:M.toString(),"inventory-name":(D=(U=a(W))==null?void 0:U.item)==null?void 0:D.name},null,8,["modelValue","inventory-id","inventory-name"]),t(Pe,{modelValue:a(Ce),"onUpdate:modelValue":e[24]||(e[24]=s=>Le(Ce)?Ce.value=s:null),"max-width":"600px",fullscreen:a(u),persistent:"",class:"stock-dialog"},{default:o(()=>[t(H,{class:"stock-movement-dialog coffee-dialog"},{default:o(()=>[t(he,{class:"d-flex align-center justify-space-between coffee-header"},{default:o(()=>[l("div",Fa,[t(I,{icon:"tabler-adjustments",class:"text-white"}),e[65]||(e[65]=l("span",{class:"text-white"}," Penyesuaian Stok ",-1))]),t(S,{icon:"tabler-x",variant:"text",color:"white",onClick:a($e)},null,8,["onClick"])]),_:1}),t(te),t(K,{class:"pa-6"},{default:o(()=>[t(Je,{onSubmit:Ge(a(Ue),["prevent"])},{default:o(()=>{var s;return[a(Z)?(h(),E(ke,{key:0,color:"info",variant:"tonal",class:"mb-4"},{default:o(()=>[l("div",Oa,[t(I,{icon:"tabler-package"}),l("div",null,[l("div",qa,i(a(Z).name),1),l("div",Ha,i(a(Z).item_code),1),l("div",Ba,"Stok Saat Ini: "+i(a(Z).current_stock)+" "+i(a(Z).unit),1)])])]),_:1})):P("",!0),a(Ze)?(h(),E(ke,{key:1,type:"error",variant:"outlined",class:"mb-4",text:a(Ze),closable:"","onClick:close":a(nt)},null,8,["text","onClick:close"])):P("",!0),t(ce,{modelValue:a(R).quantity,"onUpdate:modelValue":e[22]||(e[22]=p=>a(R).quantity=p),modelModifiers:{number:!0},label:"Stok Baru",type:"number",min:"0",step:"0.001",variant:"outlined",suffix:(s=a(Z))==null?void 0:s.unit,class:"mb-4",required:""},null,8,["modelValue","suffix"]),t(lt,{modelValue:a(R).notes,"onUpdate:modelValue":e[23]||(e[23]=p=>a(R).notes=p),label:"Catatan (opsional)",variant:"outlined",rows:"3",class:"mb-4"},null,8,["modelValue"]),l("div",Ka,[t(S,{variant:"outlined",onClick:a($e)},{default:o(()=>e[66]||(e[66]=[m(" Batal ")])),_:1,__:[66]},8,["onClick"]),t(S,{type:"submit",color:"primary",class:"coffee-primary",loading:a(Qe)},{default:o(()=>e[67]||(e[67]=[m(" Simpan Penyesuaian ")])),_:1,__:[67]},8,["loading"])])]}),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1},8,["modelValue","fullscreen"]),t(Pe,{modelValue:a(Ee),"onUpdate:modelValue":e[28]||(e[28]=s=>Le(Ee)?Ee.value=s:null),"max-width":"800px",fullscreen:a(u),persistent:"",class:"stock-dialog"},{default:o(()=>[t(H,{class:"stock-movement-dialog coffee-dialog"},{default:o(()=>[t(he,{class:"d-flex align-center justify-space-between coffee-header"},{default:o(()=>[l("div",Ga,[t(I,{icon:a(R).type==="in"?"tabler-plus":"tabler-minus",class:"text-white"},null,8,["icon"]),l("span",Xa,i(a(R).type==="in"?"Stok Masuk":a(R).type==="out"?"Stok Keluar":"Penyesuaian Stok"),1)]),t(S,{icon:"tabler-x",variant:"text",color:"white",onClick:a($e)},null,8,["onClick"])]),_:1}),t(te),t(K,{class:"pa-6"},{default:o(()=>[t(Je,{onSubmit:Ge(a(Ue),["prevent"])},{default:o(()=>[a(Z)?(h(),E(ke,{key:0,color:"info",variant:"tonal",class:"mb-4"},{default:o(()=>[l("div",Ja,[t(yt,{color:"primary",size:"40",variant:"tonal"},{default:o(()=>[t(I,{icon:"tabler-package"})]),_:1}),l("div",null,[l("div",Wa,i(a(Z).name),1),l("div",Ya," Stok saat ini: "+i(a(Z).current_stock)+" "+i(a(Z).unit),1)])])]),_:1})):P("",!0),t(ve,null,{default:o(()=>[t(z,{cols:"12",md:"6"},{default:o(()=>[t(ce,{modelValue:a(R).quantity,"onUpdate:modelValue":e[25]||(e[25]=s=>a(R).quantity=s),modelModifiers:{number:!0},label:`Jumlah ${a(R).type==="in"?"Masuk":a(R).type==="out"?"Keluar":"Akhir"}`,type:"number",variant:"outlined",required:"",min:a(R).type==="adjustment"?0:1,rules:[s=>s>0||"Jumlah harus lebih dari 0"]},null,8,["modelValue","label","min","rules"])]),_:1}),t(z,{cols:"12",md:"6"},{default:o(()=>[t(ce,{modelValue:a(R).cost_per_unit,"onUpdate:modelValue":e[26]||(e[26]=s=>a(R).cost_per_unit=s),modelModifiers:{number:!0},label:"Harga per Unit",type:"number",variant:"outlined",prefix:"Rp",readonly:a(R).type!=="in"},null,8,["modelValue","readonly"])]),_:1}),t(z,{cols:"12"},{default:o(()=>[t(lt,{modelValue:a(R).notes,"onUpdate:modelValue":e[27]||(e[27]=s=>a(R).notes=s),label:"Catatan",placeholder:"Masukkan catatan untuk pergerakan stok...",rows:"3",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1}),t(te),t(ze,{class:"pa-6"},{default:o(()=>[t(Ae),t(S,{variant:"outlined",class:"coffee-secondary",onClick:a($e)},{default:o(()=>e[68]||(e[68]=[m(" Batal ")])),_:1,__:[68]},8,["onClick"]),t(S,{color:"primary",class:"coffee-primary",loading:a(Qe),onClick:a(Ue)},{default:o(()=>e[69]||(e[69]=[m(" Simpan ")])),_:1,__:[69]},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue","fullscreen"]),t(Pe,{modelValue:et.value,"onUpdate:modelValue":e[30]||(e[30]=s=>et.value=s),"max-width":"1200px",fullscreen:a(u),persistent:"",class:"upload-history-dialog"},{default:o(()=>[t(H,null,{default:o(()=>[t(he,{class:"d-flex align-center justify-space-between coffee-header"},{default:o(()=>[l("div",Qa,[t(I,{icon:"tabler-history",class:"text-white"}),e[70]||(e[70]=l("span",{class:"text-white"},"Riwayat Upload Data Inventory",-1))]),t(S,{icon:"tabler-x",variant:"text",color:"white",onClick:mt})]),_:1}),t(te),t(K,{class:"pa-6"},{default:o(()=>[at.value?(h(),G("div",Za,[t(rt,{indeterminate:"",color:"primary",size:"40"}),e[71]||(e[71]=l("div",{class:"mt-4 text-medium-emphasis"}," Memuat riwayat upload... ",-1))])):(h(),G("div",eo,[t(wt,{headers:[{title:"Tanggal Upload",key:"created_at",sortable:!1},{title:"User",key:"user_name",sortable:!1},{title:"Total Items",key:"total_items_processed",sortable:!1},{title:"Berhasil Update",key:"total_items_updated",sortable:!1},{title:"Dilewati",key:"total_items_skipped",sortable:!1},{title:"Total Nilai Stok",key:"total_stock_value",sortable:!1},{title:"Status",key:"upload_status",sortable:!1}],items:tt.value,"items-per-page":Be.value,class:"elevation-1"},{"item.created_at":o(({item:s})=>[l("div",to,i(new Date(s.created_at).toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})),1)]),"item.user_name":o(({item:s})=>[l("div",ao,[t(yt,{size:"32",color:"primary",variant:"tonal"},{default:o(()=>[t(I,{icon:"tabler-user"})]),_:1}),l("div",null,[l("div",oo,i(s.user_name||"Unknown User"),1),l("div",so,i(s.user_email||"-"),1)])])]),"item.total_items_processed":o(({item:s})=>[t(Y,{color:"info",variant:"tonal",size:"small"},{default:o(()=>[m(i(s.total_items_processed),1)]),_:2},1024)]),"item.total_items_updated":o(({item:s})=>[t(Y,{color:"success",variant:"tonal",size:"small"},{default:o(()=>[m(i(s.total_items_updated),1)]),_:2},1024)]),"item.total_items_skipped":o(({item:s})=>[t(Y,{color:s.total_items_skipped>0?"warning":"success",variant:"tonal",size:"small"},{default:o(()=>[m(i(s.total_items_skipped),1)]),_:2},1032,["color"])]),"item.total_stock_value":o(({item:s})=>[l("div",lo,i(a(pe)(s.total_stock_value||0)),1)]),"item.upload_status":o(({item:s})=>[t(Y,{color:s.upload_status==="success"?"success":s.upload_status==="failed"?"error":"warning",variant:"tonal",size:"small"},{default:o(()=>[m(i(s.upload_status==="success"?"Berhasil":s.upload_status==="failed"?"Gagal":"Sebagian"),1)]),_:2},1032,["color"])]),"no-data":o(()=>[l("div",ro,[t(I,{icon:"tabler-database-off",size:"64",class:"text-medium-emphasis mb-4"}),e[72]||(e[72]=l("div",{class:"text-h6 text-medium-emphasis mb-2"}," Belum Ada Riwayat Upload ",-1)),e[73]||(e[73]=l("div",{class:"text-body-2 text-medium-emphasis"}," Riwayat upload akan muncul setelah Anda melakukan export data inventory. ",-1))])]),_:1},8,["items","items-per-page"]),ot.value>Be.value?(h(),G("div",no,[t(Et,{modelValue:je.value,"onUpdate:modelValue":[e[29]||(e[29]=s=>je.value=s),Tt],length:Math.ceil(ot.value/Be.value),"total-visible":7},null,8,["modelValue","length"])])):P("",!0)]))]),_:1}),t(te),t(ze,{class:"pa-4"},{default:o(()=>[t(Ae),t(S,{variant:"outlined",onClick:mt},{default:o(()=>e[74]||(e[74]=[m(" Tutup ")])),_:1,__:[74]}),t(S,{color:"primary","prepend-icon":"tabler-refresh",onClick:dt},{default:o(()=>e[75]||(e[75]=[m(" Refresh ")])),_:1,__:[75]})]),_:1})]),_:1})]),_:1},8,["modelValue","fullscreen"])])}}}),zo=xt(io,[["__scopeId","data-v-0f0777dc"]]);export{zo as default};
