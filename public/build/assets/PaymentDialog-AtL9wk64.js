import{a6 as ke,a7 as Ve,a8 as he,b as a,p as re,b7 as $e,V as S,b5 as Fe,c5 as Ke,am as ve,ba as Ee,F as Z,d as Je,ab as Le,r as c,w as te,c as V,f as l,aK as Qe,o as _,e as o,X as m,a1 as b,s as n,t as u,i as ne,g as ie,l as q,aw as We,v as Y,au as Xe,_ as Ye}from"./main-DV2XduS3.js";import He from"./DiscountCodeInput-BzhTiGah.js";import Ze from"./PromotionSuggestions-DlUKfQl3.js";import{V as ue}from"./VDialog-H2KKpEeg.js";import{V as ea}from"./VSnackbar-RASQYQaX.js";import{V as C,b as I,c as fe}from"./VCard-Bv9k-_tS.js";import{V as D}from"./VCardText-0qw598YX.js";import{V as le,a as B}from"./VRow-kKjv7Vc4.js";import{V as ye}from"./VChip-_Ch60IbS.js";import{V as _e}from"./VDivider-BbNgqJro.js";import{V as aa}from"./VSelect-CDU7UmRf.js";import{c as be,d as ta,a as la,V as H}from"./VTextField-Cb4KKo_8.js";import{a as de,b as sa,c as oa,d as na}from"./VCheckboxBtn-nh-pmJRs.js";import{V as ia}from"./VTextarea-Cl0OIGFw.js";import{V as ge}from"./VSpacer-7iIVYZ6d.js";import"./VOverlay-B8qTXqs7.js";import"./forwardRefs-B931MWyl.js";import"./VImg-Se9GgXLq.js";import"./VAvatar-jhmCrPEu.js";/* empty css              */import"./VList-DU7gjgpK.js";import"./VMenu-DCqlqopg.js";const ua=Ve({...sa({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),ra=ke()({name:"VRadio",props:ua(),setup(d,J){let{slots:L}=J;return he(()=>{const g=de.filterProps(d);return a(de,re(g,{class:["v-radio",d.class],style:d.style,type:"radio"}),L)}),{}}}),da=Ve({height:{type:[Number,String],default:"auto"},...ta(),...Ee(oa(),["multiple"]),trueIcon:{type:ve,default:"$radioOn"},falseIcon:{type:ve,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),ca=ke()({name:"VRadioGroup",inheritAttrs:!1,props:da(),emits:{"update:modelValue":d=>!0},setup(d,J){let{attrs:L,slots:g}=J;const G=$e(),h=S(()=>d.id||`radio-group-${G}`),T=Fe(d,"modelValue");return he(()=>{const[M,i]=Ke(L),r=be.filterProps(d),x=de.filterProps(d),k=g.label?g.label({label:d.label,props:{for:h.value}}):d.label;return a(be,re({class:["v-radio-group",d.class],style:d.style},M,r,{modelValue:T.value,"onUpdate:modelValue":A=>T.value=A,id:h.value}),{...g,default:A=>{let{id:O,messagesId:U,isDisabled:w,isReadonly:R}=A;return a(Z,null,[k&&a(la,{id:O.value},{default:()=>[k]}),a(na,re(x,{id:O.value,"aria-describedby":U.value,defaultsTarget:"VRadio",trueIcon:d.trueIcon,falseIcon:d.falseIcon,type:d.type,disabled:w.value,readonly:R.value,"aria-labelledby":k?O.value:void 0,multiple:!1},i,{modelValue:T.value,"onUpdate:modelValue":P=>T.value=P}),g)])}})}),{}}}),ma={class:"d-flex align-items-center gap-2"},pa={class:"order-items mb-4"},va={class:"item-info"},fa={class:"item-name text-body-1 font-weight-medium"},ya={class:"item-quantity text-caption text-medium-emphasis"},_a={class:"item-total text-body-1 font-weight-medium"},ba={class:"order-totals"},ga={class:"total-row d-flex justify-space-between align-center py-1"},ka={class:"text-body-2"},Va={key:0,class:"total-row d-flex justify-space-between align-center py-1"},ha={class:"text-body-2 text-purple"},xa={class:"text-body-2 text-purple"},wa={key:1,class:"total-row d-flex justify-space-between align-center py-1"},Pa={class:"text-body-2 text-success"},Ca={class:"text-body-2 text-success"},Da={key:2,class:"total-row d-flex justify-space-between align-center py-1"},Ia={class:"text-body-2 font-weight-medium text-success"},Sa={class:"text-body-2 font-weight-medium text-success"},Ta={key:3,class:"total-row d-flex justify-space-between align-center py-1"},Aa={class:"text-body-2 text-orange"},Ra={class:"text-body-2 text-orange"},ja={class:"final-total d-flex justify-space-between align-center py-2"},za={class:"text-h5 font-weight-bold text-primary"},qa={class:"order-type-section"},Ma={class:"payment-methods-section mb-6"},Na={class:"payment-methods-row"},Ba={class:"payment-icon-wrapper"},Ga={class:"payment-method-title"},Oa={class:"quick-amounts"},Ua={class:"quick-buttons"},$a={class:"text-caption text-medium-emphasis"},Fa={class:"d-flex gap-2"},Ka={class:"confirmation-details"},Ea={class:"d-flex justify-space-between mb-2"},Ja={class:"font-weight-medium"},La={class:"d-flex justify-space-between mb-2"},Qa={class:"font-weight-medium text-primary"},Wa={key:0,class:"d-flex justify-space-between mb-2"},Xa={class:"font-weight-medium"},Ya={key:1,class:"d-flex justify-space-between"},Ha={class:"font-weight-medium text-success"},Za=Je({__name:"PaymentDialog",props:{modelValue:{type:Boolean},cartItems:{},customers:{},discountAmount:{default:0},discountType:{default:"amount"}},emits:["update:modelValue","payment-success","clear-cart"],setup(d,{emit:J}){const L=Le(),g=d,G=J,h=c(!1),T=c(!1),M=c(!1),i=c("cash"),r=c(0),x=c(""),k=c(""),A=c(""),O=c(null),U=c(null),w=c("dine_in"),R=c(null),P=c(0),$=c([]),j=c(0),Q=c(11),F=c(0),W=c({show:!1,message:"",color:"success"}),xe=[{value:"cash",title:"Cash",icon:"mdi-cash-multiple",description:"Pembayaran dengan uang cash"},{value:"qris",title:"QRIS",icon:"mdi-qrcode-scan",description:"Pembayaran menggunakan QRIS"},{value:"digital_wallet",title:"E-Wallet",icon:"mdi-wallet",description:"GoPay, OVO, DANA, dll"},{value:"gojek",title:"Gojek",icon:"mdi-wallet",description:"Pembayaran melalui Gojek/GoFood"},{value:"Grab",title:"Grab",icon:"mdi-wallet",description:"Pembayaran melalui Grab/GrabFood"},{value:"Shopee",title:"Shopee",icon:"mdi-wallet",description:"Pembayaran melalui Shopee/ShopeeFood"},{value:"card",title:"Debit/Credit Card",icon:"mdi-credit-card",description:"Kartu Debit/Credit"},{value:"bank_transfer",title:"Transfer Bank",icon:"mdi-bank-transfer",description:"Transfer Bank"}],X=S({get:()=>g.modelValue,set:s=>G("update:modelValue",s)}),K=S(()=>g.cartItems.reduce((s,e)=>{const t=e.item_type==="package"?e.package_price||0:e.selling_price||0;return s+t*e.quantity},0)),ee=S(()=>{let s=0;return j.value>0&&(s+=j.value),P.value>0&&(s+=P.value),Math.min(s,K.value)}),p=S(()=>{const s=K.value-ee.value;return F.value=s*Q.value/100,s+F.value}),N=S(()=>{const s=Number(r.value)||0,e=Number(p.value)||0;return s-e}),we=S(()=>{const s=[5e4,1e5,2e5,5e5],e=Math.ceil(p.value/1e3)*1e3;return s.includes(e)||s.unshift(e),s.filter(t=>t>=p.value).sort((t,E)=>t-E)});S(()=>[{type:"percentage",value:5,label:"5%"},{type:"percentage",value:10,label:"10%"},{type:"percentage",value:15,label:"15%"},{type:"amount",value:5e3,label:"5K"},{type:"amount",value:1e4,label:"10K"},{type:"amount",value:2e4,label:"20K"}]);const Pe=S(()=>i.value==="cash"?r.value>=p.value:k.value.trim().length>0),Ce=(s,e)=>{if(e)switch(s){case"cash":return"#22c55e";case"card":return"#6366f1";case"qris":return"#ef4444";case"digital_wallet":return"#f59e0b";case"bank_transfer":return"#8b5cf6";default:return"#64748b"}return"#64748b"},ae=s=>{const e=s.replace(/\D/g,"");if(e){const t=parseInt(e);return new Intl.NumberFormat("id-ID").format(t)}return""},De=s=>{const e=s.replace(/\D/g,"");return e?parseInt(e):0};te(r,s=>{s===0?x.value="":x.value=ae(s.toString())},{immediate:!0});const Ie=s=>{const e=s.target,t=ae(e.value);x.value=t,r.value=De(t)},Se=s=>({cash:"Cash",card:"Credit Card",qris:"Split Payment",digital_wallet:"E-Wallet",bank_transfer:"Transfer Bank"})[s]||s,Te=s=>({takeaway:"Takeaway",dine_in:"Dine In",delivery:"Delivery"})[s]||s,Ae=()=>{M.value=!0},Re=()=>{M.value=!1,Ge()},se=()=>{h.value||(oe(),X.value=!1)},oe=()=>{i.value="cash",r.value=0,x.value="",k.value="",A.value="",U.value=null,w.value="takeaway",R.value=null,P.value=0,$.value=[],j.value=0},je=s=>{r.value=s,x.value=ae(s.toString())},ze=()=>{r.value=p.value,x.value=ae(p.value.toString())},qe=(s,e)=>{R.value=s,P.value=e},Me=()=>{R.value=null,P.value=0},Ne=(s,e)=>{$.value=s,j.value=e},Be=()=>{$.value=[],j.value=0},Ge=async()=>{var s,e,t,E,me;try{if(h.value=!0,!i.value)throw new Error("Pilih metode pembayaran terlebih dahulu");if(i.value==="cash"&&Number(r.value)<Number(p.value))throw new Error(`Jumlah bayar tidak mencukupi. Total: ${p.value}, Dibayar: ${r.value}`);if(i.value!=="cash"&&!k.value.trim())throw new Error("Nomor referensi diperlukan untuk pembayaran non-cash");const z={cart_items:g.cartItems.map(f=>{const pe=f.item_type==="package"?f.package_price||0:f.selling_price||0;return{product_id:f.item_type==="package"?void 0:f.id_product,package_id:f.item_type==="package"?f.id_package:void 0,item_type:f.item_type||"product",quantity:f.quantity,unit_price:pe,subtotal:pe*f.quantity}}),order_type:w.value,customer_id:U.value,payment_method:i.value,subtotal_amount:K.value,discount_amount:ee.value,tax_percentage:Q.value,tax_amount:F.value,discount_type:R.value?"code":$.value.length>0?"promotion":null,discount_code:((s=R.value)==null?void 0:s.code)||null,discount_code_id:((e=R.value)==null?void 0:e.id)||null,applied_promotions:$.value.map(f=>({id:f.id,name:f.name,type:f.type,calculated_discount:f.calculated_discount})),total_amount:p.value,paid_amount:i.value==="cash"?r.value:p.value,change_amount:i.value==="cash"?N.value:0,reference_number:k.value||null,notes:A.value||null,cashier_id:((t=L.user)==null?void 0:t.id)||1,transaction_date:new Date().toISOString()},y=await Xe.post("/api/pos/process-direct-payment",z);O.value=y.data.data,G("clear-cart"),G("payment-success",{paymentData:z,transactionData:y.data.data,receiptData:{transaction_id:y.data.data.id,transaction_number:y.data.data.transaction_number,total_amount:y.data.data.total_amount,paid_amount:y.data.data.paid_amount,change_amount:y.data.data.change_amount,payment_method:y.data.data.payment_method,transaction_date:y.data.data.created_at,items:y.data.data.items}}),setTimeout(()=>{oe(),X.value=!1},500)}catch(z){console.error("Payment processing error:",z);let y="Terjadi kesalahan saat memproses pembayaran";(me=(E=z.response)==null?void 0:E.data)!=null&&me.message?y=z.response.data.message:z.message&&(y=z.message),W.value={show:!0,message:y,color:"error"}}finally{h.value=!1}},Oe=()=>{window.print(),ce()},Ue=()=>{ce()},ce=()=>{T.value=!1,G("payment-success",O.value),oe()},v=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s);return te(X,s=>{s&&(r.value=p.value)}),te(i,s=>{s==="cash"?k.value="":r.value=p.value}),te(p,s=>{(i.value!=="cash"||i.value==="cash"&&Number(r.value)<Number(s))&&(r.value=s)}),(s,e)=>(_(),V(Z,null,[a(ue,{modelValue:X.value,"onUpdate:modelValue":e[10]||(e[10]=t=>X.value=t),"max-width":"1200","max-height":"90vh",persistent:"",scrollable:"",class:"payment-dialog",onKeydown:Qe(se,["esc"])},{default:l(()=>[a(C,{class:"coffee-dialog"},{default:l(()=>[a(I,{class:"d-flex align-center justify-space-between coffee-header"},{default:l(()=>[o("div",ma,[a(m,{icon:"mdi-cash-register",class:"text-white"}),e[12]||(e[12]=o("div",null,[o("div",{class:"coffee-title"},"Pembayaran"),o("div",{class:"coffee-subtitle"},"Proses pembayaran pesanan")],-1))]),a(b,{icon:"tabler-x",variant:"text",color:"white",onClick:se})]),_:1}),a(D,{class:"pa-6"},{default:l(()=>[a(le,null,{default:l(()=>[a(B,{cols:"12",md:"6"},{default:l(()=>[a(C,{class:"order-summary-card mb-4",variant:"tonal",color:"grey-lighten-4"},{default:l(()=>[a(I,{class:"text-h6 pb-2"},{default:l(()=>[a(m,{icon:"mdi-receipt",size:"20",class:"me-2"}),e[13]||(e[13]=n(" Ringkasan Pesanan ")),a(ye,{size:"small",color:"primary",variant:"tonal",class:"ml-2"},{default:l(()=>[n(u(Te(w.value)),1)]),_:1})]),_:1,__:[13]}),a(D,{class:"pt-0"},{default:l(()=>[o("div",pa,[(_(!0),V(Z,null,ne(s.cartItems,t=>(_(),V("div",{key:t.item_type==="package"?`pkg-${t.id_package}`:`prd-${t.id_product}`,class:"order-item d-flex justify-space-between align-center py-2"},[o("div",va,[o("div",fa,[n(u(t.name)+" ",1),t.item_type==="package"?(_(),ie(ye,{key:0,size:"x-small",color:"success",variant:"tonal",class:"ml-1"},{default:l(()=>e[14]||(e[14]=[n(" Paket ")])),_:1,__:[14]})):q("",!0)]),o("div",ya,u(t.quantity)+" Ã— "+u(v(t.item_type==="package"?t.package_price||0:t.selling_price||0)),1)]),o("div",_a,u(v((t.item_type==="package"?t.package_price||0:t.selling_price||0)*t.quantity)),1)]))),128))]),a(_e,{class:"my-3"}),o("div",ba,[o("div",ga,[e[15]||(e[15]=o("span",{class:"text-body-2"},"Subtotal:",-1)),o("span",ka,u(v(K.value)),1)]),j.value>0?(_(),V("div",Va,[o("span",ha,[a(m,{icon:"mdi-speakerphone",size:"16",class:"me-1"}),n(" Promosi ("+u($.value.length)+"): ",1)]),o("span",xa,"-"+u(v(j.value)),1)])):q("",!0),P.value>0?(_(),V("div",wa,[o("span",Pa,[a(m,{icon:"mdi-tag",size:"16",class:"me-1"}),e[16]||(e[16]=n(" Diskon Kode: "))]),o("span",Ca,"-"+u(v(P.value)),1)])):q("",!0),ee.value>0&&j.value+P.value>0?(_(),V("div",Da,[o("span",Ia,[a(m,{icon:"mdi-calculator",size:"16",class:"me-1"}),e[17]||(e[17]=n(" Total Diskon: "))]),o("span",Sa,"-"+u(v(ee.value)),1)])):q("",!0),F.value>0?(_(),V("div",Ta,[o("span",Aa,[a(m,{icon:"mdi-percent",size:"16",class:"me-1"}),n(" Pajak ("+u(Q.value)+"%): ",1)]),o("span",Ra,u(v(F.value)),1)])):q("",!0),a(_e,{class:"my-3"}),o("div",ja,[e[18]||(e[18]=o("span",{class:"text-h6 font-weight-bold"},"Total Bayar:",-1)),o("span",za,u(v(p.value)),1)])])]),_:1})]),_:1}),a(C,{class:"customer-order-card mb-6",variant:"tonal",color:"info"},{default:l(()=>[a(I,{class:"text-h6 pb-2"},{default:l(()=>[a(m,{icon:"mdi-account-details",size:"20",class:"me-2"}),e[19]||(e[19]=n(" Detail Pesanan "))]),_:1,__:[19]}),a(D,{class:"pt-0"},{default:l(()=>[a(le,{class:"mb-4"},{default:l(()=>[a(B,{cols:"12"},{default:l(()=>[a(aa,{modelValue:U.value,"onUpdate:modelValue":e[0]||(e[0]=t=>U.value=t),items:g.customers,"item-title":"name","item-value":"id_customer",label:"Pilih Pelanggan (Opsional)",density:"comfortable",variant:"outlined","prepend-inner-icon":"mdi-account",clearable:"",class:"customer-select"},null,8,["modelValue","items"])]),_:1})]),_:1}),o("div",qa,[e[26]||(e[26]=o("h3",{class:"payment-section-title mb-4"},"Tipe Pesanan",-1)),a(We,{modelValue:w.value,"onUpdate:modelValue":e[1]||(e[1]=t=>w.value=t),color:"primary",variant:"outlined",mandatory:"",class:"order-type-toggle"},{default:l(()=>[a(b,{value:"dine_in",class:Y(["order-type-btn",{active:w.value==="dine_in"}])},{default:l(()=>[a(m,{start:""},{default:l(()=>e[20]||(e[20]=[n("mdi-silverware-fork-knife")])),_:1,__:[20]}),e[21]||(e[21]=n(" Dine In "))]),_:1,__:[21]},8,["class"]),a(b,{value:"takeaway",class:Y(["order-type-btn",{active:w.value==="takeaway"}])},{default:l(()=>[a(m,{start:""},{default:l(()=>e[22]||(e[22]=[n("mdi-shopping")])),_:1,__:[22]}),e[23]||(e[23]=n(" Takeaway "))]),_:1,__:[23]},8,["class"]),a(b,{value:"delivery",class:Y(["order-type-btn",{active:w.value==="delivery"}])},{default:l(()=>[a(m,{start:""},{default:l(()=>e[24]||(e[24]=[n("mdi-truck-delivery")])),_:1,__:[24]}),e[25]||(e[25]=n(" Delivery "))]),_:1,__:[25]},8,["class"])]),_:1},8,["modelValue"])])]),_:1})]),_:1}),o("div",Ma,[e[27]||(e[27]=o("h3",{class:"payment-section-title mb-4"},"Pilih Metode Pembayaran",-1)),a(ca,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=t=>i.value=t),class:"payment-methods-horizontal"},{default:l(()=>[o("div",Na,[(_(),V(Z,null,ne(xe,t=>a(C,{key:t.value,class:Y(["payment-method-card",{selected:i.value===t.value}]),onClick:E=>i.value=t.value},{default:l(()=>[a(D,{class:"payment-method-content"},{default:l(()=>[o("div",Ba,[o("div",{class:Y(["payment-icon",{active:i.value===t.value}])},[a(m,{icon:t.icon,size:"24",color:Ce(t.value,i.value===t.value)},null,8,["icon","color"])],2)]),o("div",Ga,u(t.title),1),a(ra,{value:t.value,class:"payment-radio","hide-details":""},null,8,["value"])]),_:2},1024)]),_:2},1032,["class","onClick"])),64))])]),_:1},8,["modelValue"])])]),_:1}),a(B,{cols:"12",md:"6"},{default:l(()=>[a(C,{class:"payment-amount-card mb-6",variant:"tonal",color:"success"},{default:l(()=>[a(I,{class:"text-h6 pb-2"},{default:l(()=>[a(m,{icon:"mdi-calculator",size:"20",class:"me-2"}),e[28]||(e[28]=n(" Jumlah Pembayaran "))]),_:1,__:[28]}),a(D,{class:"pt-0"},{default:l(()=>[a(le,{class:"mb-4"},{default:l(()=>[a(B,{cols:"12",md:"6"},{default:l(()=>[a(H,{modelValue:x.value,"onUpdate:modelValue":e[3]||(e[3]=t=>x.value=t),type:"text",label:"Jumlah Bayar",variant:"outlined",prefix:"Rp",class:"payment-input",placeholder:"0",onInput:Ie,error:i.value==="cash"&&r.value<p.value,"error-messages":i.value==="cash"&&r.value<p.value?"Jumlah bayar kurang dari total":""},null,8,["modelValue","error","error-messages"])]),_:1}),a(B,{cols:"12",md:"6"},{default:l(()=>[a(H,{"model-value":N.value>=0?v(N.value):`- ${v(Math.abs(N.value))}`,label:"Kembalian",variant:"outlined",readonly:"",class:"change-input",color:N.value>=0?"success":"error"},null,8,["model-value","color"])]),_:1})]),_:1}),o("div",Oa,[e[30]||(e[30]=o("div",{class:"quick-amounts-label text-caption mb-2 text-medium-emphasis"}," Pilih nominal cepat: ",-1)),o("div",Ua,[(_(!0),V(Z,null,ne(we.value,t=>(_(),ie(b,{key:t,size:"small",variant:"outlined",color:"primary",class:"quick-btn",onClick:E=>je(t)},{default:l(()=>[n(u(v(t)),1)]),_:2},1032,["onClick"]))),128)),a(b,{size:"small",variant:"tonal",color:"success",class:"quick-btn",onClick:ze},{default:l(()=>[a(m,{icon:"mdi-check-circle",size:"14",class:"me-1"}),e[29]||(e[29]=n(" Pas "))]),_:1,__:[29]})])])]),_:1})]),_:1}),a(Ze,{"cart-items":s.cartItems,subtotal:K.value,onPromotionsApplied:Ne,onPromotionsRemoved:Be},null,8,["cart-items","subtotal"]),a(He,{subtotal:K.value,"quick-codes":["DISC10","SAVE20","WELCOME"],onDiscountApplied:qe,onDiscountRemoved:Me},null,8,["subtotal"]),a(C,{class:"tax-card mb-6",variant:"tonal",color:"orange-lighten-5"},{default:l(()=>[a(I,{class:"text-h6 pb-2"},{default:l(()=>[a(m,{icon:"mdi-percent",size:"20",class:"me-2"}),e[31]||(e[31]=n(" Pajak "))]),_:1,__:[31]}),a(D,{class:"pt-0"},{default:l(()=>[a(le,null,{default:l(()=>[a(B,{cols:"12",md:"6"},{default:l(()=>[a(H,{modelValue:Q.value,"onUpdate:modelValue":e[4]||(e[4]=t=>Q.value=t),modelModifiers:{number:!0},label:"Persentase Pajak (%)",type:"number",variant:"outlined",min:"0",max:"100",step:"0.1",suffix:"%"},null,8,["modelValue"])]),_:1}),a(B,{cols:"12",md:"6"},{default:l(()=>[a(H,{"model-value":v(F.value),label:"Jumlah Pajak",variant:"outlined",readonly:"","prepend-inner-icon":"mdi-currency-usd"},null,8,["model-value"])]),_:1})]),_:1}),o("div",$a,[a(m,{icon:"mdi-information",size:"16",class:"me-1"}),e[32]||(e[32]=n(" Pajak dihitung setelah diskon diterapkan "))])]),_:1})]),_:1}),i.value!=="cash"?(_(),ie(C,{key:0,class:"reference-card mb-6",variant:"tonal",color:"info"},{default:l(()=>[a(I,{class:"text-h6 pb-2"},{default:l(()=>[a(m,{icon:"mdi-card-account-details",size:"20",class:"me-2"}),e[33]||(e[33]=n(" Informasi Transaksi "))]),_:1,__:[33]}),a(D,{class:"pt-0"},{default:l(()=>[a(H,{modelValue:k.value,"onUpdate:modelValue":e[5]||(e[5]=t=>k.value=t),label:"Nomor Referensi/Transaksi",variant:"outlined",placeholder:"Contoh: TXN123456789","prepend-inner-icon":"mdi-card-text"},null,8,["modelValue"])]),_:1})]),_:1})):q("",!0),a(C,{class:"notes-card mb-6",variant:"tonal",color:"grey-lighten-3"},{default:l(()=>[a(I,{class:"text-h6 pb-2"},{default:l(()=>[a(m,{icon:"mdi-note-text",size:"20",class:"me-2"}),e[34]||(e[34]=n(" Catatan Transaksi "))]),_:1,__:[34]}),a(D,{class:"pt-0"},{default:l(()=>[a(ia,{modelValue:A.value,"onUpdate:modelValue":e[6]||(e[6]=t=>A.value=t),label:"Catatan (Opsional)",variant:"outlined",rows:"3",placeholder:"Catatan tambahan untuk transaksi ini...","prepend-inner-icon":"mdi-pencil"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(fe,{class:"payment-actions pa-6"},{default:l(()=>[a(b,{variant:"outlined",size:"large","prepend-icon":"mdi-close",onClick:se},{default:l(()=>e[35]||(e[35]=[n(" Batal ")])),_:1,__:[35]}),a(ge),a(b,{color:"success",variant:"flat",size:"large",disabled:!Pe.value||h.value,loading:h.value,"prepend-icon":"mdi-check-circle",class:"process-payment-btn",onClick:Ae},{default:l(()=>[n(u(h.value?"Memproses...":"Proses Pembayaran"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1}),a(ue,{modelValue:T.value,"onUpdate:modelValue":e[7]||(e[7]=t=>T.value=t),"max-width":"400"},{default:l(()=>[a(C,null,{default:l(()=>[a(I,null,{default:l(()=>e[36]||(e[36]=[n("Cetak Struk")])),_:1,__:[36]}),a(D,null,{default:l(()=>[e[39]||(e[39]=o("p",{class:"text-body-1 mb-4"},"Pembayaran berhasil! Apakah Anda ingin mencetak struk?",-1)),o("div",Fa,[a(b,{color:"primary",variant:"flat",onClick:Oe},{default:l(()=>e[37]||(e[37]=[n(" Cetak Struk ")])),_:1,__:[37]}),a(b,{variant:"outlined",onClick:Ue},{default:l(()=>e[38]||(e[38]=[n(" Lewati ")])),_:1,__:[38]})])]),_:1,__:[39]})]),_:1})]),_:1},8,["modelValue"]),a(ue,{modelValue:M.value,"onUpdate:modelValue":e[9]||(e[9]=t=>M.value=t),"max-width":"400",persistent:""},{default:l(()=>[a(C,null,{default:l(()=>[a(I,{class:"d-flex align-center"},{default:l(()=>[a(m,{icon:"mdi-help-circle",color:"warning",class:"me-2"}),e[40]||(e[40]=n(" Konfirmasi Pembayaran "))]),_:1,__:[40]}),a(D,null,{default:l(()=>[e[45]||(e[45]=o("p",{class:"text-body-1 mb-4"},"Apakah Anda yakin ingin memproses pembayaran ini?",-1)),o("div",Ka,[o("div",Ea,[e[41]||(e[41]=o("span",null,"Metode Pembayaran:",-1)),o("span",Ja,u(Se(i.value)),1)]),o("div",La,[e[42]||(e[42]=o("span",null,"Total Bayar:",-1)),o("span",Qa,u(v(p.value)),1)]),i.value==="cash"?(_(),V("div",Wa,[e[43]||(e[43]=o("span",null,"Jumlah Bayar:",-1)),o("span",Xa,u(v(r.value)),1)])):q("",!0),i.value==="cash"&&N.value>0?(_(),V("div",Ya,[e[44]||(e[44]=o("span",null,"Kembalian:",-1)),o("span",Ha,u(v(N.value)),1)])):q("",!0)])]),_:1,__:[45]}),a(fe,null,{default:l(()=>[a(b,{variant:"outlined",onClick:e[8]||(e[8]=t=>M.value=!1)},{default:l(()=>e[46]||(e[46]=[n(" Batal ")])),_:1,__:[46]}),a(ge),a(b,{color:"success",variant:"flat",loading:h.value,onClick:Re},{default:l(()=>e[47]||(e[47]=[n(" Ya, Proses ")])),_:1,__:[47]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),a(ea,{modelValue:W.value.show,"onUpdate:modelValue":e[11]||(e[11]=t=>W.value.show=t),color:W.value.color,timeout:4e3,location:"top right"},{default:l(()=>[n(u(W.value.message),1)]),_:1},8,["modelValue","color"])],64))}}),ht=Ye(Za,[["__scopeId","data-v-38ceed4a"]]);export{ht as default};
