var d=Object.defineProperty;var g=(s,e,t)=>e in s?d(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var p=(s,e,t)=>g(s,typeof e!="symbol"?e+"":e,t);import{au as n}from"./main-ty1KRTJn.js";class u{static async getCategories(e){var r;const t=new URLSearchParams({page:e.page.toString(),per_page:e.per_page.toString()});return(r=e.search)!=null&&r.trim()&&t.append("search",e.search.trim()),e.status&&e.status!=="all"&&t.append("status",e.status),(await n.get(`${this.baseUrl}?${t.toString()}`)).data}static async createCategory(e){const t=this.prepareFormData(e);return(await n.post(this.baseUrl,t,{headers:{"Content-Type":"multipart/form-data"}})).data}static async updateCategory(e,t){const a=this.prepareFormData(t);return a.append("_method","PUT"),(await n.post(`${this.baseUrl}/${e}`,a,{headers:{"Content-Type":"multipart/form-data"}})).data}static async deleteCategory(e){return(await n.delete(`${this.baseUrl}/${e}`)).data}static async toggleActiveStatus(e){return(await n.post(`${this.baseUrl}/${e}/toggle-active`)).data}static async getCategory(e){return(await n.get(`${this.baseUrl}/${e}`)).data}static prepareFormData(e){const t=new FormData;return t.append("name",e.name),t.append("description",e.description),t.append("active",e.active?"1":"0"),e.image&&t.append("image",e.image),t}static handleError(e){var t,a,r,i,o;if(((t=e.response)==null?void 0:t.status)===422&&((r=(a=e.response)==null?void 0:a.data)!=null&&r.errors)){const c=e.response.data.errors;return Object.values(c)[0][0]}return((o=(i=e.response)==null?void 0:i.data)==null?void 0:o.message)||"Terjadi kesalahan yang tidak diketahui"}static validateImage(e){if(!e.type.startsWith("image/"))return{valid:!1,error:"File harus berupa gambar"};const t=2*1024*1024;return e.size>t?{valid:!1,error:"Ukuran file maksimal 2MB"}:{valid:!0}}}p(u,"baseUrl","/api/categories");export{u as C};
