import{a6 as _e,a7 as ge,a8 as Ve,b as a,p as ue,b7 as Oe,V as S,b5 as Ue,c5 as Fe,am as me,ba as Ke,F as Z,d as $e,ab as Ee,r as c,w as te,c as V,f as t,aK as Je,o as y,e as o,X as m,a1 as b,s as n,t as u,i as ne,l as N,aw as Le,v as Y,g as pe,au as Qe,_ as We}from"./main-CJg0EYCp.js";import Xe from"./DiscountCodeInput-DykDbCYY.js";import Ye from"./PromotionSuggestions-D0nwRzBY.js";import{V as ie}from"./VDialog-BaxNEINA.js";import{V as He}from"./VSnackbar-DyKGqvv8.js";import{V as C,b as I,c as ve}from"./VCard-C79SokYp.js";import{V as D}from"./VCardText-KWZn6B8U.js";import{V as le,a as B}from"./VRow-BZoxxU3x.js";import{V as Ze}from"./VChip-sj5a4lih.js";import{V as fe}from"./VDivider-2vOS2_Ls.js";import{V as ea}from"./VSelect-D8wEdG2u.js";import{c as ye,d as aa,a as ta,V as H}from"./VTextField-C9YtoAna.js";import{a as re,b as la,c as sa,d as oa}from"./VCheckboxBtn-B9UNi-iA.js";import{V as na}from"./VTextarea-CK8p77TT.js";import{V as be}from"./VSpacer-3TLQGxQ0.js";import"./VOverlay-L4-5gHYG.js";import"./forwardRefs-B931MWyl.js";import"./VImg-urBLiN1y.js";import"./VAvatar--4VqPA90.js";/* empty css              */import"./VList-DjxQnYJR.js";import"./VMenu-BPM9f4dW.js";const ia=ge({...la({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),ua=_e()({name:"VRadio",props:ia(),setup(d,J){let{slots:L}=J;return Ve(()=>{const _=re.filterProps(d);return a(re,ue(_,{class:["v-radio",d.class],style:d.style,type:"radio"}),L)}),{}}}),ra=ge({height:{type:[Number,String],default:"auto"},...aa(),...Ke(sa(),["multiple"]),trueIcon:{type:me,default:"$radioOn"},falseIcon:{type:me,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),da=_e()({name:"VRadioGroup",inheritAttrs:!1,props:ra(),emits:{"update:modelValue":d=>!0},setup(d,J){let{attrs:L,slots:_}=J;const G=Oe(),k=S(()=>d.id||`radio-group-${G}`),T=Ue(d,"modelValue");return Ve(()=>{const[q,i]=Fe(L),r=ye.filterProps(d),h=re.filterProps(d),g=_.label?_.label({label:d.label,props:{for:k.value}}):d.label;return a(ye,ue({class:["v-radio-group",d.class],style:d.style},q,r,{modelValue:T.value,"onUpdate:modelValue":A=>T.value=A,id:k.value}),{..._,default:A=>{let{id:O,messagesId:U,isDisabled:x,isReadonly:R}=A;return a(Z,null,[g&&a(ta,{id:O.value},{default:()=>[g]}),a(oa,ue(h,{id:O.value,"aria-describedby":U.value,defaultsTarget:"VRadio",trueIcon:d.trueIcon,falseIcon:d.falseIcon,type:d.type,disabled:x.value,readonly:R.value,"aria-labelledby":g?O.value:void 0,multiple:!1},i,{modelValue:T.value,"onUpdate:modelValue":w=>T.value=w}),_)])}})}),{}}}),ca={class:"d-flex align-items-center gap-2"},ma={class:"order-items mb-4"},pa={class:"item-info"},va={class:"item-name text-body-1 font-weight-medium"},fa={class:"item-quantity text-caption text-medium-emphasis"},ya={class:"item-total text-body-1 font-weight-medium"},ba={class:"order-totals"},_a={class:"total-row d-flex justify-space-between align-center py-1"},ga={class:"text-body-2"},Va={key:0,class:"total-row d-flex justify-space-between align-center py-1"},ka={class:"text-body-2 text-purple"},ha={class:"text-body-2 text-purple"},xa={key:1,class:"total-row d-flex justify-space-between align-center py-1"},wa={class:"text-body-2 text-success"},Pa={class:"text-body-2 text-success"},Ca={key:2,class:"total-row d-flex justify-space-between align-center py-1"},Da={class:"text-body-2 font-weight-medium text-success"},Ia={class:"text-body-2 font-weight-medium text-success"},Sa={key:3,class:"total-row d-flex justify-space-between align-center py-1"},Ta={class:"text-body-2 text-orange"},Aa={class:"text-body-2 text-orange"},Ra={class:"final-total d-flex justify-space-between align-center py-2"},ja={class:"text-h5 font-weight-bold text-primary"},za={class:"order-type-section"},qa={class:"payment-methods-section mb-6"},Ma={class:"payment-methods-row"},Na={class:"payment-icon-wrapper"},Ba={class:"payment-method-title"},Ga={class:"quick-amounts"},Oa={class:"quick-buttons"},Ua={class:"text-caption text-medium-emphasis"},Fa={class:"d-flex gap-2"},Ka={class:"confirmation-details"},$a={class:"d-flex justify-space-between mb-2"},Ea={class:"font-weight-medium"},Ja={class:"d-flex justify-space-between mb-2"},La={class:"font-weight-medium text-primary"},Qa={key:0,class:"d-flex justify-space-between mb-2"},Wa={class:"font-weight-medium"},Xa={key:1,class:"d-flex justify-space-between"},Ya={class:"font-weight-medium text-success"},Ha=$e({__name:"PaymentDialog",props:{modelValue:{type:Boolean},cartItems:{},customers:{},discountAmount:{default:0},discountType:{default:"amount"}},emits:["update:modelValue","payment-success","clear-cart"],setup(d,{emit:J}){const L=Ee(),_=d,G=J,k=c(!1),T=c(!1),q=c(!1),i=c("cash"),r=c(0),h=c(""),g=c(""),A=c(""),O=c(null),U=c(null),x=c("dine_in"),R=c(null),w=c(0),F=c([]),j=c(0),Q=c(11),K=c(0),W=c({show:!1,message:"",color:"success"}),ke=[{value:"cash",title:"Cash",icon:"mdi-cash-multiple",description:"Pembayaran dengan uang cash"},{value:"qris",title:"QRIS",icon:"mdi-qrcode-scan",description:"Pembayaran menggunakan QRIS"},{value:"digital_wallet",title:"E-Wallet",icon:"mdi-wallet",description:"GoPay, OVO, DANA, dll"},{value:"gojek",title:"Gojek",icon:"mdi-wallet",description:"Pembayaran melalui Gojek/GoFood"},{value:"Grab",title:"Grab",icon:"mdi-wallet",description:"Pembayaran melalui Grab/GrabFood"},{value:"Shopee",title:"Shopee",icon:"mdi-wallet",description:"Pembayaran melalui Shopee/ShopeeFood"},{value:"card",title:"Debit/Credit Card",icon:"mdi-credit-card",description:"Kartu Debit/Credit"},{value:"bank_transfer",title:"Transfer Bank",icon:"mdi-bank-transfer",description:"Transfer Bank"}],X=S({get:()=>_.modelValue,set:l=>G("update:modelValue",l)}),$=S(()=>_.cartItems.reduce((l,e)=>l+e.selling_price*e.quantity,0)),ee=S(()=>{let l=0;return j.value>0&&(l+=j.value),w.value>0&&(l+=w.value),Math.min(l,$.value)}),p=S(()=>{const l=$.value-ee.value;return K.value=l*Q.value/100,l+K.value}),M=S(()=>{const l=Number(r.value)||0,e=Number(p.value)||0;return l-e}),he=S(()=>{const l=[5e4,1e5,2e5,5e5],e=Math.ceil(p.value/1e3)*1e3;return l.includes(e)||l.unshift(e),l.filter(s=>s>=p.value).sort((s,E)=>s-E)});S(()=>[{type:"percentage",value:5,label:"5%"},{type:"percentage",value:10,label:"10%"},{type:"percentage",value:15,label:"15%"},{type:"amount",value:5e3,label:"5K"},{type:"amount",value:1e4,label:"10K"},{type:"amount",value:2e4,label:"20K"}]);const xe=S(()=>i.value==="cash"?r.value>=p.value:g.value.trim().length>0),we=(l,e)=>{if(e)switch(l){case"cash":return"#22c55e";case"card":return"#6366f1";case"qris":return"#ef4444";case"digital_wallet":return"#f59e0b";case"bank_transfer":return"#8b5cf6";default:return"#64748b"}return"#64748b"},ae=l=>{const e=l.replace(/\D/g,"");if(e){const s=parseInt(e);return new Intl.NumberFormat("id-ID").format(s)}return""},Pe=l=>{const e=l.replace(/\D/g,"");return e?parseInt(e):0};te(r,l=>{l===0?h.value="":h.value=ae(l.toString())},{immediate:!0});const Ce=l=>{const e=l.target,s=ae(e.value);h.value=s,r.value=Pe(s)},De=l=>({cash:"Cash",card:"Credit Card",qris:"Split Payment",digital_wallet:"E-Wallet",bank_transfer:"Transfer Bank"})[l]||l,Ie=l=>({takeaway:"Takeaway",dine_in:"Dine In",delivery:"Delivery"})[l]||l,Se=()=>{q.value=!0},Te=()=>{q.value=!1,Ne()},se=()=>{k.value||(oe(),X.value=!1)},oe=()=>{i.value="cash",r.value=0,h.value="",g.value="",A.value="",U.value=null,x.value="takeaway",R.value=null,w.value=0,F.value=[],j.value=0},Ae=l=>{r.value=l,h.value=ae(l.toString())},Re=()=>{r.value=p.value,h.value=ae(p.value.toString())},je=(l,e)=>{R.value=l,w.value=e},ze=()=>{R.value=null,w.value=0},qe=(l,e)=>{F.value=l,j.value=e},Me=()=>{F.value=[],j.value=0},Ne=async()=>{var l,e,s,E,ce;try{if(k.value=!0,!i.value)throw new Error("Pilih metode pembayaran terlebih dahulu");if(i.value==="cash"&&Number(r.value)<Number(p.value))throw new Error(`Jumlah bayar tidak mencukupi. Total: ${p.value}, Dibayar: ${r.value}`);if(i.value!=="cash"&&!g.value.trim())throw new Error("Nomor referensi diperlukan untuk pembayaran non-cash");const z={cart_items:_.cartItems.map(P=>({product_id:P.id_product,quantity:P.quantity,unit_price:P.selling_price,subtotal:P.selling_price*P.quantity})),order_type:x.value,customer_id:U.value,payment_method:i.value,subtotal_amount:$.value,discount_amount:ee.value,tax_percentage:Q.value,tax_amount:K.value,discount_type:R.value?"code":F.value.length>0?"promotion":null,discount_code:((l=R.value)==null?void 0:l.code)||null,discount_code_id:((e=R.value)==null?void 0:e.id)||null,applied_promotions:F.value.map(P=>({id:P.id,name:P.name,type:P.type,calculated_discount:P.calculated_discount})),total_amount:p.value,paid_amount:i.value==="cash"?r.value:p.value,change_amount:i.value==="cash"?M.value:0,reference_number:g.value||null,notes:A.value||null,cashier_id:((s=L.user)==null?void 0:s.id)||1,transaction_date:new Date().toISOString()},f=await Qe.post("/api/pos/process-direct-payment",z);O.value=f.data.data,G("clear-cart"),G("payment-success",{paymentData:z,transactionData:f.data.data,receiptData:{transaction_id:f.data.data.id,transaction_number:f.data.data.transaction_number,total_amount:f.data.data.total_amount,paid_amount:f.data.data.paid_amount,change_amount:f.data.data.change_amount,payment_method:f.data.data.payment_method,transaction_date:f.data.data.created_at,items:f.data.data.items}}),setTimeout(()=>{oe(),X.value=!1},500)}catch(z){console.error("Payment processing error:",z);let f="Terjadi kesalahan saat memproses pembayaran";(ce=(E=z.response)==null?void 0:E.data)!=null&&ce.message?f=z.response.data.message:z.message&&(f=z.message),W.value={show:!0,message:f,color:"error"}}finally{k.value=!1}},Be=()=>{window.print(),de()},Ge=()=>{de()},de=()=>{T.value=!1,G("payment-success",O.value),oe()},v=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l);return te(X,l=>{l&&(r.value=p.value)}),te(i,l=>{l==="cash"?g.value="":r.value=p.value}),te(p,l=>{(i.value!=="cash"||i.value==="cash"&&Number(r.value)<Number(l))&&(r.value=l)}),(l,e)=>(y(),V(Z,null,[a(ie,{modelValue:X.value,"onUpdate:modelValue":e[10]||(e[10]=s=>X.value=s),"max-width":"1200","max-height":"90vh",persistent:"",scrollable:"",class:"payment-dialog",onKeydown:Je(se,["esc"])},{default:t(()=>[a(C,{class:"coffee-dialog"},{default:t(()=>[a(I,{class:"d-flex align-center justify-space-between coffee-header"},{default:t(()=>[o("div",ca,[a(m,{icon:"mdi-cash-register",class:"text-white"}),e[12]||(e[12]=o("div",null,[o("div",{class:"coffee-title"},"Pembayaran"),o("div",{class:"coffee-subtitle"},"Proses pembayaran pesanan")],-1))]),a(b,{icon:"tabler-x",variant:"text",color:"white",onClick:se})]),_:1}),a(D,{class:"pa-6"},{default:t(()=>[a(le,null,{default:t(()=>[a(B,{cols:"12",md:"6"},{default:t(()=>[a(C,{class:"order-summary-card mb-4",variant:"tonal",color:"grey-lighten-4"},{default:t(()=>[a(I,{class:"text-h6 pb-2"},{default:t(()=>[a(m,{icon:"mdi-receipt",size:"20",class:"me-2"}),e[13]||(e[13]=n(" Ringkasan Pesanan ")),a(Ze,{size:"small",color:"primary",variant:"tonal",class:"ml-2"},{default:t(()=>[n(u(Ie(x.value)),1)]),_:1})]),_:1,__:[13]}),a(D,{class:"pt-0"},{default:t(()=>[o("div",ma,[(y(!0),V(Z,null,ne(l.cartItems,s=>(y(),V("div",{key:s.id_product,class:"order-item d-flex justify-space-between align-center py-2"},[o("div",pa,[o("div",va,u(s.name),1),o("div",fa,u(s.quantity)+" Ã— "+u(v(s.selling_price)),1)]),o("div",ya,u(v(s.selling_price*s.quantity)),1)]))),128))]),a(fe,{class:"my-3"}),o("div",ba,[o("div",_a,[e[14]||(e[14]=o("span",{class:"text-body-2"},"Subtotal:",-1)),o("span",ga,u(v($.value)),1)]),j.value>0?(y(),V("div",Va,[o("span",ka,[a(m,{icon:"mdi-speakerphone",size:"16",class:"me-1"}),n(" Promosi ("+u(F.value.length)+"): ",1)]),o("span",ha,"-"+u(v(j.value)),1)])):N("",!0),w.value>0?(y(),V("div",xa,[o("span",wa,[a(m,{icon:"mdi-tag",size:"16",class:"me-1"}),e[15]||(e[15]=n(" Diskon Kode: "))]),o("span",Pa,"-"+u(v(w.value)),1)])):N("",!0),ee.value>0&&j.value+w.value>0?(y(),V("div",Ca,[o("span",Da,[a(m,{icon:"mdi-calculator",size:"16",class:"me-1"}),e[16]||(e[16]=n(" Total Diskon: "))]),o("span",Ia,"-"+u(v(ee.value)),1)])):N("",!0),K.value>0?(y(),V("div",Sa,[o("span",Ta,[a(m,{icon:"mdi-percent",size:"16",class:"me-1"}),n(" Pajak ("+u(Q.value)+"%): ",1)]),o("span",Aa,u(v(K.value)),1)])):N("",!0),a(fe,{class:"my-3"}),o("div",Ra,[e[17]||(e[17]=o("span",{class:"text-h6 font-weight-bold"},"Total Bayar:",-1)),o("span",ja,u(v(p.value)),1)])])]),_:1})]),_:1}),a(C,{class:"customer-order-card mb-6",variant:"tonal",color:"info"},{default:t(()=>[a(I,{class:"text-h6 pb-2"},{default:t(()=>[a(m,{icon:"mdi-account-details",size:"20",class:"me-2"}),e[18]||(e[18]=n(" Detail Pesanan "))]),_:1,__:[18]}),a(D,{class:"pt-0"},{default:t(()=>[a(le,{class:"mb-4"},{default:t(()=>[a(B,{cols:"12"},{default:t(()=>[a(ea,{modelValue:U.value,"onUpdate:modelValue":e[0]||(e[0]=s=>U.value=s),items:_.customers,"item-title":"name","item-value":"id_customer",label:"Pilih Pelanggan (Opsional)",density:"comfortable",variant:"outlined","prepend-inner-icon":"mdi-account",clearable:"",class:"customer-select"},null,8,["modelValue","items"])]),_:1})]),_:1}),o("div",za,[e[25]||(e[25]=o("h3",{class:"payment-section-title mb-4"},"Tipe Pesanan",-1)),a(Le,{modelValue:x.value,"onUpdate:modelValue":e[1]||(e[1]=s=>x.value=s),color:"primary",variant:"outlined",mandatory:"",class:"order-type-toggle"},{default:t(()=>[a(b,{value:"dine_in",class:Y(["order-type-btn",{active:x.value==="dine_in"}])},{default:t(()=>[a(m,{start:""},{default:t(()=>e[19]||(e[19]=[n("mdi-silverware-fork-knife")])),_:1,__:[19]}),e[20]||(e[20]=n(" Dine In "))]),_:1,__:[20]},8,["class"]),a(b,{value:"takeaway",class:Y(["order-type-btn",{active:x.value==="takeaway"}])},{default:t(()=>[a(m,{start:""},{default:t(()=>e[21]||(e[21]=[n("mdi-shopping")])),_:1,__:[21]}),e[22]||(e[22]=n(" Takeaway "))]),_:1,__:[22]},8,["class"]),a(b,{value:"delivery",class:Y(["order-type-btn",{active:x.value==="delivery"}])},{default:t(()=>[a(m,{start:""},{default:t(()=>e[23]||(e[23]=[n("mdi-truck-delivery")])),_:1,__:[23]}),e[24]||(e[24]=n(" Delivery "))]),_:1,__:[24]},8,["class"])]),_:1},8,["modelValue"])])]),_:1})]),_:1}),o("div",qa,[e[26]||(e[26]=o("h3",{class:"payment-section-title mb-4"},"Pilih Metode Pembayaran",-1)),a(da,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=s=>i.value=s),class:"payment-methods-horizontal"},{default:t(()=>[o("div",Ma,[(y(),V(Z,null,ne(ke,s=>a(C,{key:s.value,class:Y(["payment-method-card",{selected:i.value===s.value}]),onClick:E=>i.value=s.value},{default:t(()=>[a(D,{class:"payment-method-content"},{default:t(()=>[o("div",Na,[o("div",{class:Y(["payment-icon",{active:i.value===s.value}])},[a(m,{icon:s.icon,size:"24",color:we(s.value,i.value===s.value)},null,8,["icon","color"])],2)]),o("div",Ba,u(s.title),1),a(ua,{value:s.value,class:"payment-radio","hide-details":""},null,8,["value"])]),_:2},1024)]),_:2},1032,["class","onClick"])),64))])]),_:1},8,["modelValue"])])]),_:1}),a(B,{cols:"12",md:"6"},{default:t(()=>[a(C,{class:"payment-amount-card mb-6",variant:"tonal",color:"success"},{default:t(()=>[a(I,{class:"text-h6 pb-2"},{default:t(()=>[a(m,{icon:"mdi-calculator",size:"20",class:"me-2"}),e[27]||(e[27]=n(" Jumlah Pembayaran "))]),_:1,__:[27]}),a(D,{class:"pt-0"},{default:t(()=>[a(le,{class:"mb-4"},{default:t(()=>[a(B,{cols:"12",md:"6"},{default:t(()=>[a(H,{modelValue:h.value,"onUpdate:modelValue":e[3]||(e[3]=s=>h.value=s),type:"text",label:"Jumlah Bayar",variant:"outlined",prefix:"Rp",class:"payment-input",placeholder:"0",onInput:Ce,error:i.value==="cash"&&r.value<p.value,"error-messages":i.value==="cash"&&r.value<p.value?"Jumlah bayar kurang dari total":""},null,8,["modelValue","error","error-messages"])]),_:1}),a(B,{cols:"12",md:"6"},{default:t(()=>[a(H,{"model-value":M.value>=0?v(M.value):`- ${v(Math.abs(M.value))}`,label:"Kembalian",variant:"outlined",readonly:"",class:"change-input",color:M.value>=0?"success":"error"},null,8,["model-value","color"])]),_:1})]),_:1}),o("div",Ga,[e[29]||(e[29]=o("div",{class:"quick-amounts-label text-caption mb-2 text-medium-emphasis"}," Pilih nominal cepat: ",-1)),o("div",Oa,[(y(!0),V(Z,null,ne(he.value,s=>(y(),pe(b,{key:s,size:"small",variant:"outlined",color:"primary",class:"quick-btn",onClick:E=>Ae(s)},{default:t(()=>[n(u(v(s)),1)]),_:2},1032,["onClick"]))),128)),a(b,{size:"small",variant:"tonal",color:"success",class:"quick-btn",onClick:Re},{default:t(()=>[a(m,{icon:"mdi-check-circle",size:"14",class:"me-1"}),e[28]||(e[28]=n(" Pas "))]),_:1,__:[28]})])])]),_:1})]),_:1}),a(Ye,{"cart-items":l.cartItems,subtotal:$.value,onPromotionsApplied:qe,onPromotionsRemoved:Me},null,8,["cart-items","subtotal"]),a(Xe,{subtotal:$.value,"quick-codes":["DISC10","SAVE20","WELCOME"],onDiscountApplied:je,onDiscountRemoved:ze},null,8,["subtotal"]),a(C,{class:"tax-card mb-6",variant:"tonal",color:"orange-lighten-5"},{default:t(()=>[a(I,{class:"text-h6 pb-2"},{default:t(()=>[a(m,{icon:"mdi-percent",size:"20",class:"me-2"}),e[30]||(e[30]=n(" Pajak "))]),_:1,__:[30]}),a(D,{class:"pt-0"},{default:t(()=>[a(le,null,{default:t(()=>[a(B,{cols:"12",md:"6"},{default:t(()=>[a(H,{modelValue:Q.value,"onUpdate:modelValue":e[4]||(e[4]=s=>Q.value=s),modelModifiers:{number:!0},label:"Persentase Pajak (%)",type:"number",variant:"outlined",min:"0",max:"100",step:"0.1",suffix:"%"},null,8,["modelValue"])]),_:1}),a(B,{cols:"12",md:"6"},{default:t(()=>[a(H,{"model-value":v(K.value),label:"Jumlah Pajak",variant:"outlined",readonly:"","prepend-inner-icon":"mdi-currency-usd"},null,8,["model-value"])]),_:1})]),_:1}),o("div",Ua,[a(m,{icon:"mdi-information",size:"16",class:"me-1"}),e[31]||(e[31]=n(" Pajak dihitung setelah diskon diterapkan "))])]),_:1})]),_:1}),i.value!=="cash"?(y(),pe(C,{key:0,class:"reference-card mb-6",variant:"tonal",color:"info"},{default:t(()=>[a(I,{class:"text-h6 pb-2"},{default:t(()=>[a(m,{icon:"mdi-card-account-details",size:"20",class:"me-2"}),e[32]||(e[32]=n(" Informasi Transaksi "))]),_:1,__:[32]}),a(D,{class:"pt-0"},{default:t(()=>[a(H,{modelValue:g.value,"onUpdate:modelValue":e[5]||(e[5]=s=>g.value=s),label:"Nomor Referensi/Transaksi",variant:"outlined",placeholder:"Contoh: TXN123456789","prepend-inner-icon":"mdi-card-text"},null,8,["modelValue"])]),_:1})]),_:1})):N("",!0),a(C,{class:"notes-card mb-6",variant:"tonal",color:"grey-lighten-3"},{default:t(()=>[a(I,{class:"text-h6 pb-2"},{default:t(()=>[a(m,{icon:"mdi-note-text",size:"20",class:"me-2"}),e[33]||(e[33]=n(" Catatan Transaksi "))]),_:1,__:[33]}),a(D,{class:"pt-0"},{default:t(()=>[a(na,{modelValue:A.value,"onUpdate:modelValue":e[6]||(e[6]=s=>A.value=s),label:"Catatan (Opsional)",variant:"outlined",rows:"3",placeholder:"Catatan tambahan untuk transaksi ini...","prepend-inner-icon":"mdi-pencil"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(ve,{class:"payment-actions pa-6"},{default:t(()=>[a(b,{variant:"outlined",size:"large","prepend-icon":"mdi-close",onClick:se},{default:t(()=>e[34]||(e[34]=[n(" Batal ")])),_:1,__:[34]}),a(be),a(b,{color:"success",variant:"flat",size:"large",disabled:!xe.value||k.value,loading:k.value,"prepend-icon":"mdi-check-circle",class:"process-payment-btn",onClick:Se},{default:t(()=>[n(u(k.value?"Memproses...":"Proses Pembayaran"),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1}),a(ie,{modelValue:T.value,"onUpdate:modelValue":e[7]||(e[7]=s=>T.value=s),"max-width":"400"},{default:t(()=>[a(C,null,{default:t(()=>[a(I,null,{default:t(()=>e[35]||(e[35]=[n("Cetak Struk")])),_:1,__:[35]}),a(D,null,{default:t(()=>[e[38]||(e[38]=o("p",{class:"text-body-1 mb-4"},"Pembayaran berhasil! Apakah Anda ingin mencetak struk?",-1)),o("div",Fa,[a(b,{color:"primary",variant:"flat",onClick:Be},{default:t(()=>e[36]||(e[36]=[n(" Cetak Struk ")])),_:1,__:[36]}),a(b,{variant:"outlined",onClick:Ge},{default:t(()=>e[37]||(e[37]=[n(" Lewati ")])),_:1,__:[37]})])]),_:1,__:[38]})]),_:1})]),_:1},8,["modelValue"]),a(ie,{modelValue:q.value,"onUpdate:modelValue":e[9]||(e[9]=s=>q.value=s),"max-width":"400",persistent:""},{default:t(()=>[a(C,null,{default:t(()=>[a(I,{class:"d-flex align-center"},{default:t(()=>[a(m,{icon:"mdi-help-circle",color:"warning",class:"me-2"}),e[39]||(e[39]=n(" Konfirmasi Pembayaran "))]),_:1,__:[39]}),a(D,null,{default:t(()=>[e[44]||(e[44]=o("p",{class:"text-body-1 mb-4"},"Apakah Anda yakin ingin memproses pembayaran ini?",-1)),o("div",Ka,[o("div",$a,[e[40]||(e[40]=o("span",null,"Metode Pembayaran:",-1)),o("span",Ea,u(De(i.value)),1)]),o("div",Ja,[e[41]||(e[41]=o("span",null,"Total Bayar:",-1)),o("span",La,u(v(p.value)),1)]),i.value==="cash"?(y(),V("div",Qa,[e[42]||(e[42]=o("span",null,"Jumlah Bayar:",-1)),o("span",Wa,u(v(r.value)),1)])):N("",!0),i.value==="cash"&&M.value>0?(y(),V("div",Xa,[e[43]||(e[43]=o("span",null,"Kembalian:",-1)),o("span",Ya,u(v(M.value)),1)])):N("",!0)])]),_:1,__:[44]}),a(ve,null,{default:t(()=>[a(b,{variant:"outlined",onClick:e[8]||(e[8]=s=>q.value=!1)},{default:t(()=>e[45]||(e[45]=[n(" Batal ")])),_:1,__:[45]}),a(be),a(b,{color:"success",variant:"flat",loading:k.value,onClick:Te},{default:t(()=>e[46]||(e[46]=[n(" Ya, Proses ")])),_:1,__:[46]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),a(He,{modelValue:W.value.show,"onUpdate:modelValue":e[11]||(e[11]=s=>W.value.show=s),color:W.value.color,timeout:4e3,location:"top right"},{default:t(()=>[n(u(W.value.message),1)]),_:1},8,["modelValue","color"])],64))}}),kt=We(Ha,[["__scopeId","data-v-0e956561"]]);export{kt as default};
