var l=Object.defineProperty;var d=(s,e,t)=>e in s?l(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var c=(s,e,t)=>d(s,typeof e!="symbol"?e+"":e,t);import{ay as o}from"./main-Ck3oUqWb.js";class g{static async getCategories(e){var n;const t=new URLSearchParams({page:e.page.toString(),per_page:e.per_page.toString()});console.log("=== CATEGORIES API CALL ==="),console.log("Input params:",e),(n=e.search)!=null&&n.trim()&&(t.append("search",e.search.trim()),console.log("Added search param:",e.search.trim())),e.status&&e.status!=="all"&&(t.append("status",e.status),console.log("Added status param:",e.status));const a=`${this.baseUrl}?${t.toString()}`;console.log("Request URL:",a);const r=await o.get(a);return console.log("Categories API response:",r.data),r.data}static async createCategory(e){const t=this.prepareFormData(e);return(await o.post(this.baseUrl,t,{headers:{"Content-Type":"multipart/form-data"}})).data}static async updateCategory(e,t){const a=this.prepareFormData(t);return a.append("_method","PUT"),(await o.post(`${this.baseUrl}/${e}`,a,{headers:{"Content-Type":"multipart/form-data"}})).data}static async deleteCategory(e){return(await o.delete(`${this.baseUrl}/${e}`)).data}static async toggleActiveStatus(e){return(await o.post(`${this.baseUrl}/${e}/toggle-active`)).data}static async getCategory(e){return(await o.get(`${this.baseUrl}/${e}`)).data}static prepareFormData(e){const t=new FormData;return t.append("name",e.name),t.append("description",e.description),t.append("active",e.active?"1":"0"),e.image&&t.append("image",e.image),t}static handleError(e){var t,a,r,n,i;if(((t=e.response)==null?void 0:t.status)===422&&((r=(a=e.response)==null?void 0:a.data)!=null&&r.errors)){const p=e.response.data.errors;return Object.values(p)[0][0]}return((i=(n=e.response)==null?void 0:n.data)==null?void 0:i.message)||"Terjadi kesalahan yang tidak diketahui"}static validateImage(e){if(!e.type.startsWith("image/"))return{valid:!1,error:"File harus berupa gambar"};const t=2*1024*1024;return e.size>t?{valid:!1,error:"Ukuran file maksimal 2MB"}:{valid:!0}}}c(g,"baseUrl","/api/categories");export{g as C};
