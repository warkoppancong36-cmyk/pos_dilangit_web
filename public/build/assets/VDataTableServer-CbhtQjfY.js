import{c as Z,b as $,d as ee,e as ae,u as te,p as oe,f as le,g as re,h as se,i as de,j as ue,k as ne,l as S,m as T,n as V,o as ie,q as ce,r as me}from"./VDataTable-BUt1YD7T.js";import{a8 as ge,a9 as ve,ch as be,V as m,W as l,aH as pe,aa as Pe,b as o,p as x,F as w,L as fe}from"./main-BJG8mpGz.js";import{V as B}from"./VTable-D8AqnKO6.js";import{V as he}from"./VDivider-C67JGP98.js";const ye=ve({itemsLength:{type:[Number,String],required:!0},...me(),...ce(),...ie()},"VDataTableServer"),xe=ge()({name:"VDataTableServer",props:ye(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,I){let{attrs:k,slots:a}=I;const{groupBy:d}=Z(e),{sortBy:r,multiSort:F,mustSort:H}=$(e),{page:u,itemsPerPage:i}=ee(e),{disableSort:R}=be(e),G=m(()=>parseInt(e.itemsLength,10)),{columns:g,headers:E}=ae(e,{groupBy:d,showSelect:l(()=>e.showSelect),showExpand:l(()=>e.showExpand)}),{items:n}=te(e,g),{toggleSort:v}=oe({sortBy:r,multiSort:F,mustSort:H,page:u}),{opened:L,isGroupOpen:N,toggleGroup:_,extractRows:C}=le({groupBy:d,sortBy:r,disableSort:R}),{pageCount:q,setItemsPerPage:O}=re({page:u,itemsPerPage:i,itemsLength:G}),{flatItems:b}=se(n,d,L),{isSelected:W,select:j,selectAll:A,toggleSelect:z,someSelected:J,allSelected:K}=de(e,{allItems:n,currentPage:n}),{isExpanded:M,toggleExpand:Q}=ue(e),p=m(()=>C(n.value));ne({page:u,itemsPerPage:i,sortBy:r,groupBy:d,search:l(()=>e.search)}),fe("v-data-table",{toggleSort:v,sortBy:r}),pe({VDataTableRows:{hideNoData:l(()=>e.hideNoData),noDataText:l(()=>e.noDataText),loading:l(()=>e.loading),loadingText:l(()=>e.loadingText)}});const t=m(()=>({page:u.value,itemsPerPage:i.value,sortBy:r.value,pageCount:q.value,toggleSort:v,setItemsPerPage:O,someSelected:J.value,allSelected:K.value,isSelected:W,select:j,selectAll:A,toggleSelect:z,isExpanded:M,toggleExpand:Q,isGroupOpen:N,toggleGroup:_,items:p.value.map(c=>c.raw),internalItems:p.value,groupedItems:b.value,columns:g.value,headers:E.value}));Pe(()=>{const c=S.filterProps(e),U=T.filterProps(e),X=V.filterProps(e),Y=B.filterProps(e);return o(B,x({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},Y,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>{var s;return(s=a.top)==null?void 0:s.call(a,t.value)},default:()=>{var s,P,f,h,y,D;return a.default?a.default(t.value):o(w,null,[(s=a.colgroup)==null?void 0:s.call(a,t.value),!e.hideDefaultHeader&&o("thead",{key:"thead",class:"v-data-table__thead",role:"rowgroup"},[o(T,U,a)]),(P=a.thead)==null?void 0:P.call(a,t.value),!e.hideDefaultBody&&o("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(f=a["body.prepend"])==null?void 0:f.call(a,t.value),a.body?a.body(t.value):o(V,x(k,X,{items:b.value}),a),(h=a["body.append"])==null?void 0:h.call(a,t.value)]),(y=a.tbody)==null?void 0:y.call(a,t.value),(D=a.tfoot)==null?void 0:D.call(a,t.value)])},bottom:()=>a.bottom?a.bottom(t.value):!e.hideDefaultFooter&&o(w,null,[o(he,null,null),o(S,c,{prepend:a["footer.prepend"]})])})})}});export{xe as V};
