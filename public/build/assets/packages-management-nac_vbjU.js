import{d as Ae,r as i,V as E,w as pe,D as Le,c as J,b as l,g,l as w,f as t,au as S,j as qe,o as p,e as r,a1 as k,s as u,at as F,t as c,X as D,F as ve,i as fe,_ as Ke}from"./main-24jsE5B8.js";import{V as T,a as n}from"./VRow-VuVxoIUW.js";import{V as oe}from"./VDialog-DZymRYYe.js";import{V as f}from"./VTextField-DwGkqUgg.js";import{V as N}from"./VSelect-DuX3cw0o.js";import{V as W,b as se,c as ge}from"./VCard-81xWS9tH.js";import{V as Re,a as Ee}from"./VDataTable-BXi48pCg.js";import{V as ue}from"./VChip-CqH5M1on.js";import{V as Ge}from"./VAvatar-Boabezwh.js";import{V as x}from"./VDivider-CEqkt4Xn.js";import{V as ie}from"./VCardText-Coho3Kj4.js";import{V as Oe}from"./VForm-CHgt9xEL.js";import{V as Qe}from"./VTextarea-B5jZClZn.js";import{V as ke,a as _e,b as be,d as ye}from"./VList-BZJmnVxE.js";import{V as re}from"./VCheckbox-COzQjIG_.js";import{V as Ve}from"./VSpacer-DUcoug-T.js";/* empty css              */import"./VOverlay-CFVhjsOG.js";import"./forwardRefs-B931MWyl.js";import"./VImg-BwGI18en.js";import"./VMenu-u44_zTt1.js";import"./VCheckboxBtn-DuT5ftrk.js";import"./VTable-CNZWrnp_.js";import"./filter-aVFjFGO-.js";const Xe={class:"d-flex justify-space-between align-center mb-6"},Je={class:"d-flex justify-space-between align-center w-100"},We={class:"d-flex align-center gap-3"},Ye={class:"font-weight-medium"},Ze={key:0,class:"text-caption text-medium-emphasis"},ea={class:"text-decoration-line-through text-medium-emphasis"},aa={class:"font-weight-bold text-success"},la={class:"d-flex gap-2"},ta={class:"d-flex justify-end pa-4"},oa={class:"d-flex align-center gap-2"},sa={class:"text-white"},ua={class:"text-h6 mb-4 d-flex align-center gap-2"},ia={class:"d-flex justify-space-between align-center mb-4"},ra={class:"text-h6 mb-0 d-flex align-center gap-2"},na={class:"d-flex gap-3 align-center mt-2 flex-wrap"},da={class:"text-h6 mb-4 d-flex align-center gap-2"},ca={class:"text-h6 mb-4 d-flex align-center gap-2"},ma=Ae({__name:"packages-management",setup(pa){qe();const Y=i(!1),Z=i(!1),M=i(!1),ne=i([]),G=i([]),ee=i([]),C=i([]),$=i(1),de=i(0),ae=i(15),H=i(""),j=i(null),B=i(null),A=i(null),L=i(!1),q=i(!1),I=i(!1),b=i(null),U=i(""),_=i(""),h=i(""),s=i({name:"",description:"",sku:"",barcode:"",image:"",package_type:"fixed",package_price:null,category_id:null,is_active:!0,is_featured:!1,status:"published",stock:0,track_stock:!1,tags:[],sort_order:0,items:[]}),K=i(""),O=i(!1),R=i(""),m=i({}),xe=[{title:"Nama Paket",key:"name",sortable:!0},{title:"SKU",key:"sku",sortable:!1},{title:"Isi",key:"items_count",sortable:!0},{title:"Harga Normal",key:"regular_price",sortable:!0},{title:"Harga Paket",key:"package_price",sortable:!0},{title:"Hemat",key:"savings_amount",sortable:!0},{title:"Status",key:"is_active",sortable:!0},{title:"Aksi",key:"actions",sortable:!1}],he=[{title:"Semua",value:null},{title:"Draft",value:"draft"},{title:"Published",value:"published"},{title:"Archived",value:"archived"}],Pe=[{title:"Semua",value:null},{title:"Fixed",value:"fixed"},{title:"Customizable",value:"customizable"}],we=E(()=>s.value.name&&s.value.package_price!==null&&s.value.category_id!==null&&s.value.items.length>0),Q=E(()=>s.value.items.reduce((o,e)=>{const a=G.value.find(d=>d.id_product===e.id_product);return a?o+a.price*e.quantity:o},0)),le=E(()=>s.value.package_price===null||s.value.package_price===0?0:Math.abs(Q.value-s.value.package_price)),Ce=E(()=>Q.value===0||le.value===0?0:le.value/Q.value*100),Ue=E(()=>{if(!K.value)return G.value;const o=K.value.toLowerCase();return G.value.filter(e=>e.name.toLowerCase().includes(o)||e.id_product.toString().includes(o))}),z=async()=>{var o,e;Y.value=!0,U.value="";try{const a={page:$.value,per_page:ae.value};H.value&&(a.search=H.value),j.value&&(a.status=j.value),B.value&&(a.category_id=B.value),A.value&&(a.package_type=A.value);const d=await S.get("/api/packages",{params:a});ne.value=d.data.data.data,de.value=d.data.data.total}catch(a){U.value=((e=(o=a.response)==null?void 0:o.data)==null?void 0:e.message)||"Gagal memuat data paket"}finally{Y.value=!1}},Se=async()=>{try{const o=await S.get("/api/pos/products");G.value=o.data.data.map(e=>{var a,d;return{id_product:e.id_product,name:e.name,price:parseFloat(e.price||e.selling_price||0),stock:e.stock||0,real_stock:((a=e.stock_info)==null?void 0:a.available_stock)||((d=e.stock_info)==null?void 0:d.current_stock)||e.stock||0,active:e.active,unit:e.unit,productItems:e.productItems}})}catch(o){console.error("Gagal memuat produk:",o)}},De=async()=>{try{const o=await S.get("/api/categories",{params:{paginate:!1}});ee.value=o.data.data}catch(o){console.error("Gagal memuat kategori:",o)}},Te=()=>{I.value=!1,ce(),L.value=!0},Ie=o=>{I.value=!0,b.value=o,s.value={name:o.name,description:o.description||"",sku:o.sku||"",barcode:o.barcode||"",image:o.image||"",package_type:o.package_type,package_price:o.package_price,category_id:o.category_id||null,is_active:o.is_active,is_featured:o.is_featured,status:o.status,stock:o.stock,track_stock:o.track_stock,tags:o.tags||[],sort_order:o.sort_order,items:o.items.map(e=>({id_product:e.id_product,product:e.product,quantity:e.quantity,unit:e.unit,is_optional:e.is_optional,sort_order:e.sort_order,notes:e.notes}))},R.value=me(o.package_price),L.value=!0},te=()=>{L.value=!1,h.value="",m.value={},setTimeout(ce,300)},ce=()=>{s.value={name:"",description:"",sku:"",barcode:"",image:"",package_type:"fixed",package_price:null,category_id:null,is_active:!0,is_featured:!1,status:"published",stock:0,track_stock:!1,tags:[],sort_order:0,items:[]},R.value="",m.value={},b.value=null},ze=async()=>{var e,a,d,y;m.value={};let o=!1;if((!s.value.name||s.value.name.trim()==="")&&(m.value.name="Nama paket wajib diisi",o=!0),s.value.category_id||(m.value.category_id="Kategori wajib dipilih",o=!0),(!s.value.package_price||s.value.package_price<=0)&&(m.value.package_price="Harga paket wajib diisi",o=!0),s.value.items.length===0&&(m.value.items="Minimal harus ada 1 produk dalam paket",o=!0),o){h.value="Mohon lengkapi semua field yang wajib diisi";return}Z.value=!0,h.value="";try{const V={...s.value,items:s.value.items.map((v,X)=>({id_product:v.id_product,quantity:v.quantity,unit:v.unit,is_optional:v.is_optional,sort_order:X,notes:v.notes}))};I.value&&b.value?(await S.put(`/api/packages/${b.value.id_package}`,V),_.value="Paket berhasil diperbarui"):(await S.post("/api/packages",V),_.value="Paket berhasil dibuat"),te(),z(),setTimeout(()=>{_.value=""},3e3)}catch(V){if((a=(e=V.response)==null?void 0:e.data)!=null&&a.errors){const v=V.response.data.errors;Object.keys(v).forEach(X=>{m.value[X]=v[X][0]})}h.value=((y=(d=V.response)==null?void 0:d.data)==null?void 0:y.message)||"Gagal menyimpan paket"}finally{Z.value=!1}},Fe=o=>{b.value=o,q.value=!0},Ne=async()=>{var o,e;if(b.value){M.value=!0;try{await S.delete(`/api/packages/${b.value.id_package}`),_.value="Paket berhasil dihapus",q.value=!1,b.value=null,z(),setTimeout(()=>{_.value=""},3e3)}catch(a){U.value=((e=(o=a.response)==null?void 0:o.data)==null?void 0:e.message)||"Gagal menghapus paket"}finally{M.value=!1}}},Me=async()=>{var o,e;if(C.value.length!==0){M.value=!0;try{const a=C.value.map(d=>d.id_package);await S.post("/api/packages/bulk-delete",{ids:a}),_.value=`${a.length} paket berhasil dihapus`,C.value=[],z(),setTimeout(()=>{_.value=""},3e3)}catch(a){U.value=((e=(o=a.response)==null?void 0:o.data)==null?void 0:e.message)||"Gagal menghapus paket"}finally{M.value=!1}}},$e=o=>{if(s.value.items.find(a=>a.id_product===o.id_product)){h.value="Produk sudah ditambahkan";return}s.value.items.push({id_product:o.id_product,product:o,quantity:1,unit:o.unit||"pcs",is_optional:!1,sort_order:s.value.items.length,notes:""}),O.value=!1,K.value=""},He=o=>{s.value.items.splice(o,1)},P=o=>"Rp "+new Intl.NumberFormat("id-ID").format(o),je=o=>{if(!o)return 0;const e=o.replace(/Rp\s?/g,"").replace(/\./g,"").replace(/,/g,""),a=parseFloat(e);return isNaN(a)?0:a},me=o=>o===null||o===0?"":new Intl.NumberFormat("id-ID").format(o),Be=o=>{const a=o.target.value,d=je(a);s.value.package_price=d,R.value=me(d)};return pe([H,j,B,A],()=>{$.value=1,z()}),pe($,()=>{z()}),Le(()=>{z(),Se(),De()}),(o,e)=>(p(),J("div",null,[l(T,null,{default:t(()=>[l(n,{cols:"12"},{default:t(()=>[r("div",Xe,[e[27]||(e[27]=r("div",null,[r("h2",{class:"text-h4 font-weight-bold mb-1"}," Manajemen Paket "),r("p",{class:"text-body-1 text-medium-emphasis"}," Kelola paket bundling produk ")],-1)),l(k,{color:"primary","prepend-icon":"tabler-plus",onClick:Te},{default:t(()=>e[26]||(e[26]=[u(" Buat Paket Baru ")])),_:1,__:[26]})])]),_:1})]),_:1}),_.value?(p(),g(T,{key:0},{default:t(()=>[l(n,{cols:"12"},{default:t(()=>[l(F,{type:"success",closable:"","onClick:close":e[0]||(e[0]=a=>_.value="")},{default:t(()=>[u(c(_.value),1)]),_:1})]),_:1})]),_:1})):w("",!0),U.value?(p(),g(T,{key:1},{default:t(()=>[l(n,{cols:"12"},{default:t(()=>[l(F,{type:"error",closable:"","onClick:close":e[1]||(e[1]=a=>U.value="")},{default:t(()=>[u(c(U.value),1)]),_:1})]),_:1})]),_:1})):w("",!0),l(T,null,{default:t(()=>[l(n,{cols:"12",md:"4"},{default:t(()=>[l(f,{modelValue:H.value,"onUpdate:modelValue":e[2]||(e[2]=a=>H.value=a),placeholder:"Cari nama, SKU, barcode...","prepend-inner-icon":"tabler-search",clearable:"",density:"comfortable"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"3"},{default:t(()=>[l(N,{modelValue:j.value,"onUpdate:modelValue":e[3]||(e[3]=a=>j.value=a),items:he,"item-title":"title","item-value":"value",label:"Status",density:"comfortable",clearable:""},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"3"},{default:t(()=>[l(N,{modelValue:B.value,"onUpdate:modelValue":e[4]||(e[4]=a=>B.value=a),items:ee.value,"item-title":"name","item-value":"id_category",label:"Kategori",density:"comfortable",clearable:""},null,8,["modelValue","items"])]),_:1}),l(n,{cols:"12",md:"2"},{default:t(()=>[l(N,{modelValue:A.value,"onUpdate:modelValue":e[5]||(e[5]=a=>A.value=a),items:Pe,"item-title":"title","item-value":"value",label:"Tipe",density:"comfortable",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),C.value.length>0?(p(),g(T,{key:2},{default:t(()=>[l(n,{cols:"12"},{default:t(()=>[l(F,{type:"info",class:"d-flex align-center"},{default:t(()=>[r("div",Je,[r("span",null,c(C.value.length)+" paket dipilih",1),l(k,{color:"error",size:"small",onClick:Me},{default:t(()=>e[28]||(e[28]=[u(" Hapus Terpilih ")])),_:1,__:[28]})])]),_:1})]),_:1})]),_:1})):w("",!0),l(T,null,{default:t(()=>[l(n,{cols:"12"},{default:t(()=>[l(W,null,{default:t(()=>[l(Re,{modelValue:C.value,"onUpdate:modelValue":e[6]||(e[6]=a=>C.value=a),headers:xe,items:ne.value,loading:Y.value,"items-per-page":ae.value,"hide-default-footer":"","show-select":"","item-value":"id_package"},{"item.name":t(({item:a})=>[r("div",We,[l(Ge,{image:a.image,size:"40",rounded:""},{default:t(()=>[a.image?w("",!0):(p(),g(D,{key:0,icon:"tabler-package"}))]),_:2},1032,["image"]),r("div",null,[r("div",Ye,c(a.name),1),a.description?(p(),J("div",Ze,c(a.description.substring(0,50))+c(a.description.length>50?"...":""),1)):w("",!0)])])]),"item.items_count":t(({item:a})=>[l(ue,{size:"small",color:"primary",variant:"tonal"},{default:t(()=>[u(c(a.items_count)+" item ",1)]),_:2},1024)]),"item.regular_price":t(({item:a})=>[r("span",ea,c(P(a.regular_price)),1)]),"item.package_price":t(({item:a})=>[r("span",aa,c(P(a.package_price)),1)]),"item.savings_amount":t(({item:a})=>[l(ue,{size:"small",color:"success",variant:"tonal"},{default:t(()=>[u(c(P(a.savings_amount||0))+" ("+c(parseFloat(a.savings_percentage||0).toFixed(0))+"%) ",1)]),_:2},1024)]),"item.is_active":t(({item:a})=>[l(ue,{size:"small",color:a.is_active?"success":"error"},{default:t(()=>[u(c(a.is_active?"Aktif":"Nonaktif"),1)]),_:2},1032,["color"])]),"item.actions":t(({item:a})=>[r("div",la,[l(k,{icon:"tabler-edit",size:"small",variant:"text",onClick:d=>Ie(a)},null,8,["onClick"]),l(k,{icon:"tabler-trash",size:"small",variant:"text",color:"error",onClick:d=>Fe(a)},null,8,["onClick"])])]),_:2},1032,["modelValue","items","loading","items-per-page"]),l(x),r("div",ta,[l(Ee,{modelValue:$.value,"onUpdate:modelValue":e[7]||(e[7]=a=>$.value=a),length:Math.ceil(de.value/ae.value),"total-visible":7},null,8,["modelValue","length"])])]),_:1})]),_:1})]),_:1}),l(oe,{modelValue:L.value,"onUpdate:modelValue":e[21]||(e[21]=a=>L.value=a),"max-width":"900",persistent:"",scrollable:""},{default:t(()=>[l(W,{class:"package-dialog coffee-dialog"},{default:t(()=>[l(se,{class:"d-flex align-center justify-space-between coffee-header"},{default:t(()=>[r("div",oa,[l(D,{icon:I.value?"tabler-edit":"tabler-plus",class:"text-white"},null,8,["icon"]),r("span",sa,c(I.value?"Edit Paket":"Tambah Paket Baru"),1)]),l(k,{icon:"tabler-x",variant:"text",color:"white",onClick:te})]),_:1}),l(x),l(ie,{class:"pa-6"},{default:t(()=>[h.value?(p(),g(F,{key:0,type:"error",closable:"",class:"mb-4","onClick:close":e[8]||(e[8]=a=>h.value="")},{default:t(()=>[u(c(h.value),1)]),_:1})):w("",!0),l(Oe,null,{default:t(()=>[l(T,null,{default:t(()=>[l(n,{cols:"12"},{default:t(()=>[r("h6",ua,[l(D,{icon:"tabler-info-circle",size:"20",class:"coffee-icon"}),e[29]||(e[29]=u(" Informasi Dasar "))])]),_:1}),l(n,{cols:"12",md:"6"},{default:t(()=>[l(f,{modelValue:s.value.name,"onUpdate:modelValue":e[9]||(e[9]=a=>s.value.name=a),label:"Nama Paket",placeholder:"Contoh: Paket Hemat A",variant:"outlined",error:!!m.value.name,"error-messages":m.value.name},{label:t(()=>e[30]||(e[30]=[u(" Nama Paket "),r("span",{class:"text-error"},"*",-1)])),_:1},8,["modelValue","error","error-messages"])]),_:1}),l(n,{cols:"12",md:"6"},{default:t(()=>[l(N,{modelValue:s.value.package_type,"onUpdate:modelValue":e[10]||(e[10]=a=>s.value.package_type=a),items:[{title:"Fixed",value:"fixed"},{title:"Customizable",value:"customizable"}],"item-title":"title","item-value":"value",label:"Tipe Paket",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12"},{default:t(()=>[l(Qe,{modelValue:s.value.description,"onUpdate:modelValue":e[11]||(e[11]=a=>s.value.description=a),label:"Deskripsi",rows:"2",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"4"},{default:t(()=>[l(f,{modelValue:s.value.sku,"onUpdate:modelValue":e[12]||(e[12]=a=>s.value.sku=a),label:"SKU",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"4"},{default:t(()=>[l(f,{modelValue:s.value.barcode,"onUpdate:modelValue":e[13]||(e[13]=a=>s.value.barcode=a),label:"Barcode",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"4"},{default:t(()=>[l(N,{modelValue:s.value.category_id,"onUpdate:modelValue":e[14]||(e[14]=a=>s.value.category_id=a),items:ee.value,"item-title":"name","item-value":"id_category",variant:"outlined",error:!!m.value.category_id,"error-messages":m.value.category_id},{label:t(()=>e[31]||(e[31]=[u(" Kategori "),r("span",{class:"text-error"},"*",-1)])),_:1},8,["modelValue","items","error","error-messages"])]),_:1}),l(n,{cols:"12"},{default:t(()=>[l(x,{class:"my-4"}),r("div",ia,[r("h6",ra,[l(D,{icon:"tabler-package",size:"20",class:"coffee-icon"}),e[32]||(e[32]=u(" Isi Paket ")),e[33]||(e[33]=r("span",{class:"text-error"},"*",-1))]),l(k,{size:"small","prepend-icon":"tabler-plus",color:"primary",onClick:e[15]||(e[15]=a=>O.value=!0)},{default:t(()=>e[34]||(e[34]=[u(" Tambah Produk ")])),_:1,__:[34]})]),m.value.items?(p(),g(F,{key:0,type:"error",variant:"tonal",class:"mb-3",density:"compact"},{default:t(()=>[u(c(m.value.items),1)]),_:1})):w("",!0),s.value.items.length===0?(p(),g(F,{key:1,type:"info",variant:"tonal"},{default:t(()=>e[35]||(e[35]=[u(' Belum ada produk. Klik "Tambah Produk" untuk menambahkan. ')])),_:1,__:[35]})):(p(),g(ke,{key:2},{default:t(()=>[(p(!0),J(ve,null,fe(s.value.items,(a,d)=>(p(),g(_e,{key:d,class:"mb-2 border rounded"},{prepend:t(()=>[l(D,{icon:"tabler-drag-drop",class:"cursor-move"})]),append:t(()=>[l(k,{icon:"tabler-trash",size:"small",variant:"text",color:"error",onClick:y=>He(d)},null,8,["onClick"])]),default:t(()=>[l(be,null,{default:t(()=>{var y;return[u(c((y=a.product)==null?void 0:y.name),1)]}),_:2},1024),l(ye,null,{default:t(()=>{var y,V;return[r("div",na,[l(f,{modelValue:a.quantity,"onUpdate:modelValue":v=>a.quantity=v,modelModifiers:{number:!0},type:"number",label:"Qty",density:"compact",style:{"max-width":"100px"},min:"0.01",step:"0.01"},null,8,["modelValue","onUpdate:modelValue"]),l(f,{modelValue:a.unit,"onUpdate:modelValue":v=>a.unit=v,label:"Unit",density:"compact",style:{"max-width":"100px"}},null,8,["modelValue","onUpdate:modelValue"]),l(f,{"model-value":P(((y=a.product)==null?void 0:y.price)||0),label:"Harga Satuan",density:"compact",style:{"max-width":"150px"},readonly:"",hint:"Dari produk","persistent-hint":""},null,8,["model-value"]),l(f,{"model-value":P((((V=a.product)==null?void 0:V.price)||0)*a.quantity),label:"Subtotal",density:"compact",style:{"max-width":"150px"},readonly:"",class:"font-weight-bold"},null,8,["model-value"]),l(re,{modelValue:a.is_optional,"onUpdate:modelValue":v=>a.is_optional=v,label:"Optional",density:"compact","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])])]}),_:2},1024)]),_:2},1024))),128))]),_:1}))]),_:1}),l(n,{cols:"12"},{default:t(()=>[l(x,{class:"my-4"}),r("h6",da,[l(D,{icon:"tabler-currency-dollar",size:"20",class:"coffee-icon"}),e[36]||(e[36]=u(" Harga "))])]),_:1}),l(n,{cols:"12",md:"4"},{default:t(()=>[l(f,{"model-value":P(Q.value),label:"Harga Normal",readonly:"",variant:"outlined",hint:"Dihitung otomatis dari item","persistent-hint":""},null,8,["model-value"])]),_:1}),l(n,{cols:"12",md:"4"},{default:t(()=>[l(f,{modelValue:R.value,"onUpdate:modelValue":e[16]||(e[16]=a=>R.value=a),variant:"outlined",prefix:"Rp",placeholder:"0",error:!!m.value.package_price,"error-messages":m.value.package_price,onInput:Be,hint:"Masukkan harga paket","persistent-hint":""},{label:t(()=>e[37]||(e[37]=[u(" Harga Paket "),r("span",{class:"text-error"},"*",-1)])),_:1},8,["modelValue","error","error-messages"])]),_:1}),l(n,{cols:"12",md:"4"},{default:t(()=>[l(f,{"model-value":`${P(le.value)} (${Ce.value.toFixed(1)}%)`,label:"Hemat",readonly:"",variant:"outlined",color:"success"},null,8,["model-value"])]),_:1}),l(n,{cols:"12"},{default:t(()=>[l(x,{class:"my-4"}),r("h6",ca,[l(D,{icon:"tabler-settings",size:"20",class:"coffee-icon"}),e[38]||(e[38]=u(" Stok & Status "))])]),_:1}),l(n,{cols:"12",md:"3"},{default:t(()=>[l(re,{modelValue:s.value.track_stock,"onUpdate:modelValue":e[17]||(e[17]=a=>s.value.track_stock=a),label:"Track Stok Paket",density:"comfortable"},null,8,["modelValue"])]),_:1}),s.value.track_stock?(p(),g(n,{key:0,cols:"12",md:"3"},{default:t(()=>[l(f,{modelValue:s.value.stock,"onUpdate:modelValue":e[18]||(e[18]=a=>s.value.stock=a),modelModifiers:{number:!0},label:"Stok",type:"number",variant:"outlined",min:"0"},null,8,["modelValue"])]),_:1})):w("",!0),l(n,{cols:"12",md:"3"},{default:t(()=>[l(N,{modelValue:s.value.status,"onUpdate:modelValue":e[19]||(e[19]=a=>s.value.status=a),items:[{title:"Draft",value:"draft"},{title:"Published",value:"published"},{title:"Archived",value:"archived"}],"item-title":"title","item-value":"value",label:"Status",variant:"outlined"},null,8,["modelValue"])]),_:1}),l(n,{cols:"12",md:"3"},{default:t(()=>[l(re,{modelValue:s.value.is_active,"onUpdate:modelValue":e[20]||(e[20]=a=>s.value.is_active=a),label:"Aktif",density:"comfortable"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),l(x),l(ge,{class:"pa-4"},{default:t(()=>[l(Ve),l(k,{variant:"outlined",class:"coffee-secondary",onClick:te},{default:t(()=>e[39]||(e[39]=[u(" Batal ")])),_:1,__:[39]}),l(k,{color:"primary",class:"coffee-primary",loading:Z.value,disabled:!we.value,onClick:ze},{default:t(()=>[u(c(I.value?"Perbarui":"Simpan")+" Paket ",1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(oe,{modelValue:O.value,"onUpdate:modelValue":e[23]||(e[23]=a=>O.value=a),"max-width":"600"},{default:t(()=>[l(W,null,{default:t(()=>[l(se,null,{default:t(()=>e[40]||(e[40]=[u("Pilih Produk")])),_:1,__:[40]}),l(x),l(ie,null,{default:t(()=>[l(f,{modelValue:K.value,"onUpdate:modelValue":e[22]||(e[22]=a=>K.value=a),placeholder:"Cari produk...","prepend-inner-icon":"tabler-search",density:"comfortable",class:"mb-4",clearable:""},null,8,["modelValue"]),l(ke,{"max-height":"400",class:"overflow-y-auto"},{default:t(()=>[(p(!0),J(ve,null,fe(Ue.value,a=>(p(),g(_e,{key:a.id_product,onClick:d=>$e(a)},{default:t(()=>[l(be,null,{default:t(()=>[u(c(a.name),1)]),_:2},1024),l(ye,null,{default:t(()=>[u(c(P(a.price))+" | Stok Real: "+c(a.real_stock||0),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(oe,{modelValue:q.value,"onUpdate:modelValue":e[25]||(e[25]=a=>q.value=a),"max-width":"400"},{default:t(()=>[l(W,null,{default:t(()=>[l(se,null,{default:t(()=>e[41]||(e[41]=[u("Konfirmasi Hapus")])),_:1,__:[41]}),l(x),l(ie,null,{default:t(()=>{var a;return[e[42]||(e[42]=u(" Apakah Anda yakin ingin menghapus paket ")),r("strong",null,c((a=b.value)==null?void 0:a.name),1),e[43]||(e[43]=u("? "))]}),_:1,__:[42,43]}),l(x),l(ge,null,{default:t(()=>[l(Ve),l(k,{variant:"outlined",onClick:e[24]||(e[24]=a=>q.value=!1)},{default:t(()=>e[44]||(e[44]=[u(" Batal ")])),_:1,__:[44]}),l(k,{color:"error",loading:M.value,onClick:Ne},{default:t(()=>e[45]||(e[45]=[u(" Hapus ")])),_:1,__:[45]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),ja=Ke(ma,[["__scopeId","data-v-d4c1be4a"]]);export{ja as default};
