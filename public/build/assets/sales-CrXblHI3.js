import{d as ke,r as P,D as we,c as p,e as r,b as e,m as Pe,a1 as K,f as a,ax as Ae,g as I,l as C,X as h,au as Se,av as Te,j as Re,o as d,s as y,t as u,F as M,i as j,as as U,a5 as De,_ as Ie}from"./main-BijUd6T-.js";import{C as Oe}from"./auto-Cz6uSJnr.js";import{V as f,b as A}from"./VCard-CMT1c5nk.js";import{V as S,a as v}from"./VRow-BFqQWa29.js";import{V as x}from"./VCardText-DbpZjpmZ.js";import{V as se}from"./VSelect-v0BibMxW.js";import{V as le}from"./VTextField-C70vt0Fa.js";import{V as E}from"./VChip-GffCK2lJ.js";import{V as Ve}from"./VDivider-CG5xWyCd.js";import{V as G}from"./VDataTable-CUetaiyn.js";import{b as oe}from"./route-block-B_A1xBdJ.js";import"./VAvatar-DgN_TwIn.js";import"./VImg-CKFZa8w1.js";/* empty css              */import"./forwardRefs-B931MWyl.js";import"./VList-BHibH57e.js";import"./VOverlay-DKEOQQcg.js";import"./VMenu-DQW9VRnd.js";import"./VCheckboxBtn-B2UUS7pw.js";import"./VTable-ygMG1a7A.js";import"./filter-BcOisvCt.js";const Ne={class:"sales-report-page"},Ce={class:"d-flex flex-column flex-md-row justify-space-between align-start align-md-center mb-6 ga-4"},Ee={class:"d-flex align-center mb-2"},Le={key:0,class:"text-center py-8"},Me={key:1},je={class:"text-h5 font-weight-bold text-success"},$e={key:0,class:"mt-1"},He={class:"text-h5 font-weight-bold text-primary"},Be={class:"text-caption text-medium-emphasis mt-1"},Fe={class:"text-h5 font-weight-bold text-info"},Je={class:"text-caption text-medium-emphasis mt-1"},ze={class:"text-h5 font-weight-bold text-warning"},Ke={class:"text-caption text-medium-emphasis mt-1"},Ue={key:0},Ge={key:1,class:"text-center py-8"},qe={class:"top-products-container"},Ye={class:"d-flex justify-space-between align-center"},Xe={class:"d-flex align-center"},Qe={class:"font-weight-medium"},We={class:"text-caption text-medium-emphasis"},Ze={class:"text-end"},et={class:"font-weight-bold text-success"},tt={class:"font-weight-bold text-success"},at={class:"font-weight-bold text-success"},st={key:0},lt={class:"d-flex justify-space-between align-center"},ot={class:"d-flex align-center gap-2"},rt={class:"font-weight-medium"},nt={class:"text-end"},it={class:"text-body-2 font-weight-bold"},ut={class:"text-caption text-success"},dt={key:1,class:"text-center py-4"},ct={key:0},mt={class:"d-flex justify-space-between align-center mb-1"},_t={class:"d-flex align-center gap-2"},pt={class:"font-weight-medium"},vt={class:"text-end"},yt={class:"d-flex justify-space-between align-center"},gt={class:"text-body-2"},ht={class:"text-body-2 font-weight-bold text-success"},ft={key:1,class:"text-center py-4"},xt={class:"text-center"},bt={class:"text-h6 font-weight-bold text-primary"},kt={class:"text-caption text-medium-emphasis mb-1"},wt={class:"text-body-2 font-weight-medium text-success"},Pt={class:"d-flex align-center gap-2"},At={class:"font-weight-medium"},St={class:"font-weight-bold"},Tt={class:"font-weight-bold text-success"},Rt={class:"text-body-2"},Dt={key:2,class:"text-center py-12"},re=ke({__name:"sales",setup(It){const ne=Re(),T=P(!1),$=P(!1),t=P(null),R=P("month"),D=P(""),V=P(""),N=P(""),H=P();let B=null;const ie=[{title:"Filter per Bulan",value:"month"},{title:"Custom Range",value:"custom"}],b=new Date().getFullYear(),ue=[{title:"Januari",value:`${b}-01`},{title:"Februari",value:`${b}-02`},{title:"Maret",value:`${b}-03`},{title:"April",value:`${b}-04`},{title:"Mei",value:`${b}-05`},{title:"Juni",value:`${b}-06`},{title:"Juli",value:`${b}-07`},{title:"Agustus",value:`${b}-08`},{title:"September",value:`${b}-09`},{title:"Oktober",value:`${b}-10`},{title:"November",value:`${b}-11`},{title:"Desember",value:`${b}-12`}],de=[{title:"Customer",key:"name",align:"start"},{title:"Total Order",key:"orders",align:"center"},{title:"Total Belanja",key:"revenue",align:"end"},{title:"AOV",key:"avg_order",align:"end"}],ce=[{title:"Tanggal",key:"date",align:"start"},{title:"Pendapatan",key:"total",align:"end"}],me=[{title:"Kategori",key:"category",align:"start"},{title:"Order",key:"orders_count",align:"center"},{title:"Qty Terjual",key:"quantity_sold",align:"center"},{title:"Revenue",key:"revenue",align:"end"},{title:"Harga Rata2",key:"avg_price",align:"end"}],w=o=>typeof o=="string"?o.startsWith("Rp")?o:`Rp ${o}`:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(o),q=o=>new Date(o).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),_e=o=>["warning","success","info","secondary","primary"][o]||"primary",Y=o=>o.sort((s,l)=>l.order_count-s.order_count).slice(0,5),pe=(o,s)=>{const l=Math.max(...s.map(c=>c.order_count));return l>0?o/l*100:0},ve=(o,s)=>{const l=Math.max(...s.map(c=>c.order_count));return l>0?o/l*100:0},ye=o=>o>=6&&o<12?"mdi-weather-sunny":o>=12&&o<18?"mdi-weather-partly-cloudy":(o>=18&&o<22,"mdi-weather-night"),ge=o=>{switch(o==null?void 0:o.toLowerCase()){case"cash":case"tunai":return"mdi-cash";case"card":case"kartu":return"mdi-credit-card";case"digital":case"e-wallet":return"mdi-cellphone";case"transfer":return"mdi-bank-transfer";default:return"mdi-credit-card-outline"}},F=o=>{switch(o==null?void 0:o.toLowerCase()){case"cash":return"Tunai";case"card":return"Kartu";case"digital":return"Digital";case"transfer":return"Transfer";default:return o||"Lainnya"}},he=()=>{if(R.value==="month"){const o=new Date().toISOString().slice(0,7);D.value=o}O()},O=async()=>{if(!T.value){T.value=!0;try{let o={};if(R.value==="custom")if(V.value&&N.value)o.start_date=V.value,o.end_date=N.value;else{T.value=!1;return}else if(D.value)o.month=D.value;else{T.value=!1;return}const s=await Se.get("/api/reports/sales",{params:o});s.data.success&&(t.value=s.data.data,await Te(),setTimeout(()=>{fe()},100))}catch(o){console.error("Error loading sales report:",o)}finally{T.value=!1}}},fe=()=>{if(!H.value||!t.value)return;B&&B.destroy();const o=H.value.getContext("2d");if(!o)return;const s=t.value.daily_sales.map(c=>q(c.date)),l=t.value.daily_sales.map(c=>{if(typeof c.total=="string"&&c.total.includes("Rp")){const L=c.total.replace(/\D/g,"");return parseInt(L,10)||0}return typeof c.total=="number"?c.total:0});B=new Oe(o,{type:"line",data:{labels:s,datasets:[{label:"Pendapatan Harian",data:l,borderColor:"rgb(76, 175, 80)",backgroundColor:"rgba(76, 175, 80, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{callback:function(c){return w(c)}}}}}})},xe=async()=>{var s,l,c,L,X,Q,W,Z;if(!t.value){console.warn("No data to export");return}$.value=!0;const o=i=>{if(!i&&i!==0)return"Rp 0";let _=0;try{if(typeof i=="string"&&i.includes("Rp")){const k=i.replace(/\D/g,"");_=parseInt(k,10)}else typeof i=="string"?_=parseFloat(i.replace(/[^\d]/g,"")):typeof i=="number"&&(_=i);return(isNaN(_)||!isFinite(_)||_<0)&&(_=0),`Rp ${_.toLocaleString("id-ID").replace(/,/g,".")}`}catch{return"Rp 0"}};try{const i=await De(()=>import("./xlsx-CfQreh1U.js"),[]),_=R.value==="custom"?`${V.value} s/d ${N.value}`:`Bulan ${D.value}`,J=[["LAPORAN PENJUALAN ENHANCED"],["Periode:",_],["Tanggal Export:",new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})],[],["RINGKASAN PENJUALAN"],["Total Order:",t.value.summary.total_orders],["Total Pendapatan:",o(t.value.summary.total_revenue)],["Rata-rata Order (AOV):",o(t.value.summary.average_order)],["Total Item Terjual:",t.value.summary.total_items],["Order Selesai:",t.value.summary.completed_orders],["Order Dibatalkan:",t.value.summary.cancelled_orders],t.value.summary.growth_percentage!==void 0?["Growth vs Periode Sebelumnya:",`${t.value.summary.growth_percentage}%`]:[],[],["ANALISIS CUSTOMER"],["Customer Baru:",((s=t.value.customer_behavior)==null?void 0:s.new_customers)||0],["Returning Customer:",((l=t.value.customer_behavior)==null?void 0:l.returning_customers)||0],["One-time Customer:",((c=t.value.customer_behavior)==null?void 0:c.one_time_customers)||0],["Retention Rate:",`${((L=t.value.customer_behavior)==null?void 0:L.retention_rate)||0}%`],[]],k=i.utils.book_new(),ee=i.utils.aoa_to_sheet(J);if(ee["!cols"]=[{wch:20},{wch:25}],i.utils.book_append_sheet(k,ee,"Ringkasan"),t.value.daily_sales&&t.value.daily_sales.length>0){const g=[["PENJUALAN HARIAN"],["Periode:",_],[],["Tanggal","Total Penjualan"],...t.value.daily_sales.map(n=>[new Date(n.date).toLocaleDateString("id-ID"),o(n.total)])],m=i.utils.aoa_to_sheet(g);m["!cols"]=[{wch:15},{wch:20}],i.utils.book_append_sheet(k,m,"Penjualan Harian")}if(t.value.top_products&&t.value.top_products.length>0){const g=[["PRODUK TERLARIS"],["Periode:",_],[],["No","Nama Produk","Jumlah Terjual","Total Pendapatan"],...t.value.top_products.map((n,z)=>[z+1,n.name,n.quantity,o(n.revenue)])],m=i.utils.aoa_to_sheet(g);m["!cols"]=[{wch:5},{wch:30},{wch:15},{wch:20}],i.utils.book_append_sheet(k,m,"Produk Terlaris")}if(t.value.top_customers&&t.value.top_customers.length>0){const g=[["CUSTOMER TERBAIK - ANALISIS LENGKAP"],["Periode:",_],[],["No","Nama Customer","Jumlah Order","Total Belanja","AOV","Customer Lifetime (hari)"],...t.value.top_customers.map((n,z)=>[z+1,n.name,n.orders,o(n.revenue),o(n.avg_order),n.customer_lifetime||0])],m=i.utils.aoa_to_sheet(g);m["!cols"]=[{wch:5},{wch:25},{wch:15},{wch:20},{wch:15},{wch:20}],i.utils.book_append_sheet(k,m,"Customer Analytics")}if(t.value.peak_hours&&t.value.peak_hours.length>0){const g=[["ANALISIS JAM RAMAI"],["Periode:",_],[],["Jam","Jumlah Order","Total Revenue","AOV"],...t.value.peak_hours.map(n=>[n.hour_display,n.order_count,o(n.revenue),o(n.avg_order)])],m=i.utils.aoa_to_sheet(g);m["!cols"]=[{wch:10},{wch:15},{wch:20},{wch:15}],i.utils.book_append_sheet(k,m,"Peak Hours")}if(t.value.sales_by_day&&t.value.sales_by_day.length>0){const g=[["ANALISIS PENJUALAN PER HARI"],["Periode:",_],[],["Hari","Jumlah Order","Total Revenue","AOV"],...t.value.sales_by_day.map(n=>[n.day_name,n.order_count,o(n.revenue),o(n.avg_order)])],m=i.utils.aoa_to_sheet(g);m["!cols"]=[{wch:15},{wch:15},{wch:20},{wch:15}],i.utils.book_append_sheet(k,m,"Sales by Day")}if(t.value.payment_methods&&t.value.payment_methods.length>0){const g=[["ANALISIS METODE PEMBAYARAN"],["Periode:",_],[],["Metode","Jumlah Order","Total Revenue","AOV","Persentase"],...t.value.payment_methods.map(n=>[F(n.method),n.order_count,o(n.revenue),o(n.avg_order),`${n.percentage}%`])],m=i.utils.aoa_to_sheet(g);m["!cols"]=[{wch:15},{wch:15},{wch:20},{wch:15},{wch:12}],i.utils.book_append_sheet(k,m,"Payment Methods")}if(t.value.category_performance&&t.value.category_performance.length>0){const g=[["PERFORMA KATEGORI PRODUK"],["Periode:",_],[],["Kategori","Order dengan Kategori","Qty Terjual","Total Revenue","Harga Rata-rata"],...t.value.category_performance.map(n=>[n.category,n.orders_count,n.quantity_sold,o(n.revenue),o(n.avg_price)])],m=i.utils.aoa_to_sheet(g);m["!cols"]=[{wch:20},{wch:18},{wch:15},{wch:20},{wch:18}],i.utils.book_append_sheet(k,m,"Category Performance")}const be=[["BUSINESS INSIGHTS & RECOMMENDATIONS"],["Periode:",_],[],["RINGKASAN PERFORMA"],["Growth Rate:",t.value.summary.growth_percentage!==void 0?`${t.value.summary.growth_percentage}%`:"N/A"],["Customer Retention:",`${((X=t.value.customer_behavior)==null?void 0:X.retention_rate)||0}%`],[],["TOP PERFORMERS"],["Jam Tersibuk:",t.value.peak_hours&&t.value.peak_hours.length>0?(Q=Y(t.value.peak_hours)[0])==null?void 0:Q.hour_display:"N/A"],["Hari Terbaik:",t.value.sales_by_day&&t.value.sales_by_day.length>0?(W=t.value.sales_by_day.sort((g,m)=>m.order_count-g.order_count)[0])==null?void 0:W.day_name:"N/A"],["Metode Bayar Favorit:",t.value.payment_methods&&t.value.payment_methods.length>0?F((Z=t.value.payment_methods[0])==null?void 0:Z.method):"N/A"],[],["REKOMENDASI BISNIS"],["1. Optimasi Operasional:","Focus staff scheduling pada jam dan hari ramai"],["2. Customer Retention:","Implementasi loyalty program untuk meningkatkan retention"],["3. Product Strategy:","Push produk top-selling dan evaluasi slow-moving items"],["4. Payment Strategy:","Optimalkan metode pembayaran yang paling disukai customer"],["5. Marketing Time:","Jalankan promosi saat jam dan hari dengan traffic rendah"]],te=i.utils.aoa_to_sheet(be);te["!cols"]=[{wch:25},{wch:50}],i.utils.book_append_sheet(k,te,"Business Insights");const ae=`laporan-penjualan-enhanced-analytics-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.xlsx`;i.writeFile(k,ae),console.log("✅ Enhanced Sales Analytics report exported successfully:",ae)}catch(i){console.error("Error exporting sales report:",i)}finally{$.value=!1}};return we(()=>{const o=new Date,s=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;D.value=s,O()}),(o,s)=>(d(),p("div",Ne,[r("div",Ce,[r("div",null,[r("div",Ee,[e(K,{icon:"mdi-arrow-left",variant:"text",size:"small",onClick:s[0]||(s[0]=l=>Pe(ne).back()),class:"me-2"}),s[5]||(s[5]=r("h1",{class:"text-h4 font-weight-bold"},"Laporan Penjualan",-1))]),s[6]||(s[6]=r("p",{class:"text-body-1 text-medium-emphasis"}," Analisis lengkap penjualan dan performa produk ",-1))]),e(K,{color:"success","prepend-icon":"mdi-file-excel",onClick:xe,loading:$.value},{default:a(()=>s[7]||(s[7]=[y(" Export Excel ")])),_:1,__:[7]},8,["loading"])]),e(f,{class:"mb-6"},{default:a(()=>[e(x,null,{default:a(()=>[e(S,null,{default:a(()=>[e(v,{cols:"12",md:"4"},{default:a(()=>[e(se,{modelValue:R.value,"onUpdate:modelValue":[s[1]||(s[1]=l=>R.value=l),he],items:ie,label:"Pilih Periode",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),R.value==="custom"?(d(),I(v,{key:0,cols:"12",md:"3"},{default:a(()=>[e(le,{modelValue:V.value,"onUpdate:modelValue":[s[2]||(s[2]=l=>V.value=l),O],type:"date",label:"Tanggal Mulai",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})):C("",!0),R.value==="custom"?(d(),I(v,{key:1,cols:"12",md:"3"},{default:a(()=>[e(le,{modelValue:N.value,"onUpdate:modelValue":[s[3]||(s[3]=l=>N.value=l),O],type:"date",label:"Tanggal Akhir",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})):(d(),I(v,{key:2,cols:"12",md:"3"},{default:a(()=>[e(se,{modelValue:D.value,"onUpdate:modelValue":[s[4]||(s[4]=l=>D.value=l),O],items:ue,label:"Pilih Bulan",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})),e(v,{cols:"12",md:"2"},{default:a(()=>[e(K,{color:"primary",block:"",onClick:O,loading:T.value},{default:a(()=>s[8]||(s[8]=[y(" Refresh ")])),_:1,__:[8]},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1}),T.value?(d(),p("div",Le,[e(Ae,{indeterminate:"",color:"primary",size:"64"}),s[9]||(s[9]=r("p",{class:"text-body-1 mt-4"},"Memuat data laporan...",-1))])):t.value?(d(),p("div",Me,[e(S,{class:"mb-6"},{default:a(()=>[e(v,{cols:"6",md:"3"},{default:a(()=>[e(f,null,{default:a(()=>[e(x,{class:"text-center"},{default:a(()=>[e(h,{icon:"mdi-currency-usd",size:"32",class:"text-success mb-2"}),r("div",je,u(w(t.value.summary.total_revenue)),1),s[10]||(s[10]=r("div",{class:"text-body-2 text-medium-emphasis"},"Total Pendapatan",-1)),t.value.summary.growth_percentage!==void 0?(d(),p("div",$e,[e(E,{color:t.value.summary.growth_percentage>=0?"success":"error",size:"x-small",variant:"tonal"},{default:a(()=>[y(u(t.value.summary.growth_percentage>=0?"+":"")+u(t.value.summary.growth_percentage)+"% ",1)]),_:1},8,["color"])])):C("",!0)]),_:1,__:[10]})]),_:1})]),_:1}),e(v,{cols:"6",md:"3"},{default:a(()=>[e(f,null,{default:a(()=>[e(x,{class:"text-center"},{default:a(()=>[e(h,{icon:"mdi-cart",size:"32",class:"text-primary mb-2"}),r("div",He,u(t.value.summary.total_orders),1),s[11]||(s[11]=r("div",{class:"text-body-2 text-medium-emphasis"},"Total Order",-1)),r("div",Be," AOV: "+u(w(t.value.summary.average_order)),1)]),_:1,__:[11]})]),_:1})]),_:1}),e(v,{cols:"6",md:"3"},{default:a(()=>[e(f,null,{default:a(()=>[e(x,{class:"text-center"},{default:a(()=>[e(h,{icon:"mdi-package",size:"32",class:"text-info mb-2"}),r("div",Fe,u(t.value.summary.total_items),1),s[12]||(s[12]=r("div",{class:"text-body-2 text-medium-emphasis"},"Total Item",-1)),r("div",Je,u(t.value.summary.completed_orders)+" selesai ",1)]),_:1,__:[12]})]),_:1})]),_:1}),e(v,{cols:"6",md:"3"},{default:a(()=>[e(f,null,{default:a(()=>[e(x,{class:"text-center"},{default:a(()=>{var l,c;return[e(h,{icon:"mdi-account-group",size:"32",class:"text-warning mb-2"}),r("div",ze,u(((l=t.value.customer_behavior)==null?void 0:l.new_customers)||0),1),s[13]||(s[13]=r("div",{class:"text-body-2 text-medium-emphasis"},"Customer Baru",-1)),r("div",Ke," Retention: "+u(((c=t.value.customer_behavior)==null?void 0:c.retention_rate)||0)+"% ",1)]}),_:1,__:[13]})]),_:1})]),_:1})]),_:1}),e(S,{class:"mb-6"},{default:a(()=>[e(v,{cols:"12"},{default:a(()=>[e(f,null,{default:a(()=>[e(A,null,{default:a(()=>s[14]||(s[14]=[y("Trend Penjualan Harian")])),_:1,__:[14]}),e(x,null,{default:a(()=>[t.value&&t.value.daily_sales&&t.value.daily_sales.length>0?(d(),p("div",Ue,[r("canvas",{ref_key:"dailySalesChart",ref:H,class:"w-100",style:{"max-height":"300px"}},null,512)])):(d(),p("div",Ge,[e(h,{icon:"mdi-chart-line",size:"48",class:"text-medium-emphasis mb-2"}),s[15]||(s[15]=r("p",{class:"text-body-2 text-medium-emphasis"},"Tidak ada data penjualan harian",-1))]))]),_:1})]),_:1})]),_:1})]),_:1}),e(S,{class:"mb-6"},{default:a(()=>[e(v,{cols:"12",md:"4"},{default:a(()=>[e(f,null,{default:a(()=>[e(A,null,{default:a(()=>s[16]||(s[16]=[y("Top 5 Produk")])),_:1,__:[16]}),e(x,null,{default:a(()=>[r("div",qe,[(d(!0),p(M,null,j(t.value.top_products,(l,c)=>(d(),p("div",{key:l.id,class:"mb-3"},[r("div",Ye,[r("div",Xe,[e(E,{color:_e(c),size:"small",class:"me-2"},{default:a(()=>[y(u(c+1),1)]),_:2},1032,["color"]),r("div",null,[r("div",Qe,u(l.name),1),r("div",We,u(l.quantity)+" terjual ",1)])]),r("div",Ze,[r("div",et,u(w(l.revenue)),1)])]),c<t.value.top_products.length-1?(d(),I(Ve,{key:0,class:"mt-3"})):C("",!0)]))),128))])]),_:1})]),_:1})]),_:1}),e(v,{cols:"12",md:"4"},{default:a(()=>[e(f,null,{default:a(()=>[e(A,null,{default:a(()=>s[17]||(s[17]=[y("Top Customer")])),_:1,__:[17]}),e(x,null,{default:a(()=>[e(G,{headers:de,items:t.value.top_customers,"items-per-page":5,class:"elevation-0","no-data-text":"Tidak ada data customer"},{"item.orders":a(({item:l})=>[e(E,{size:"small",color:"primary",variant:"tonal"},{default:a(()=>[y(u(l.orders),1)]),_:2},1024)]),"item.revenue":a(({item:l})=>[r("span",tt,u(w(l.revenue)),1)]),_:1},8,["items"])]),_:1})]),_:1})]),_:1}),e(v,{cols:"12",md:"4"},{default:a(()=>[e(f,null,{default:a(()=>[e(A,null,{default:a(()=>s[18]||(s[18]=[y("Penjualan per Hari")])),_:1,__:[18]}),e(x,null,{default:a(()=>[e(G,{headers:ce,items:t.value.daily_sales,"items-per-page":7,class:"elevation-0","no-data-text":"Tidak ada data penjualan"},{"item.date":a(({item:l})=>[y(u(q(l.date)),1)]),"item.total":a(({item:l})=>[r("span",at,u(w(l.total)),1)]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1}),e(S,{class:"mb-6"},{default:a(()=>[e(v,{cols:"12",md:"6"},{default:a(()=>[e(f,null,{default:a(()=>[e(A,{class:"d-flex align-center gap-2"},{default:a(()=>[e(h,{icon:"mdi-clock-outline"}),s[19]||(s[19]=y(" Jam Ramai (Peak Hours) "))]),_:1,__:[19]}),e(x,null,{default:a(()=>[t.value.peak_hours&&t.value.peak_hours.length>0?(d(),p("div",st,[(d(!0),p(M,null,j(Y(t.value.peak_hours),l=>(d(),p("div",{key:l.hour,class:"mb-2"},[r("div",lt,[r("div",ot,[e(h,{icon:ye(l.hour),size:"16"},null,8,["icon"]),r("span",rt,u(l.hour_display),1)]),r("div",nt,[r("div",it,u(l.order_count)+" order",1),r("div",ut,u(w(l.revenue)),1)])]),e(U,{"model-value":pe(l.order_count,t.value.peak_hours),color:"primary",height:"4",class:"mt-1"},null,8,["model-value"])]))),128))])):(d(),p("div",dt,s[20]||(s[20]=[r("p",{class:"text-body-2 text-medium-emphasis"},"Tidak ada data jam ramai",-1)])))]),_:1})]),_:1})]),_:1}),e(v,{cols:"12",md:"6"},{default:a(()=>[e(f,null,{default:a(()=>[e(A,{class:"d-flex align-center gap-2"},{default:a(()=>[e(h,{icon:"mdi-credit-card-outline"}),s[21]||(s[21]=y(" Metode Pembayaran "))]),_:1,__:[21]}),e(x,null,{default:a(()=>[t.value.payment_methods&&t.value.payment_methods.length>0?(d(),p("div",ct,[(d(!0),p(M,null,j(t.value.payment_methods,l=>(d(),p("div",{key:l.method,class:"mb-3"},[r("div",mt,[r("div",_t,[e(h,{icon:ge(l.method),size:"16"},null,8,["icon"]),r("span",pt,u(F(l.method)),1)]),r("div",vt,[e(E,{size:"small",color:"primary",variant:"tonal"},{default:a(()=>[y(u(l.percentage)+"% ",1)]),_:2},1024)])]),r("div",yt,[r("span",gt,u(l.order_count)+" transaksi",1),r("span",ht,u(w(l.revenue)),1)]),e(U,{"model-value":l.percentage,color:"success",height:"4",class:"mt-1"},null,8,["model-value"])]))),128))])):(d(),p("div",ft,s[22]||(s[22]=[r("p",{class:"text-body-2 text-medium-emphasis"},"Tidak ada data metode pembayaran",-1)])))]),_:1})]),_:1})]),_:1})]),_:1}),t.value.sales_by_day&&t.value.sales_by_day.length>0?(d(),I(S,{key:0,class:"mb-6"},{default:a(()=>[e(v,{cols:"12"},{default:a(()=>[e(f,null,{default:a(()=>[e(A,{class:"d-flex align-center gap-2"},{default:a(()=>[e(h,{icon:"mdi-calendar-week"}),s[23]||(s[23]=y(" Performa Penjualan per Hari "))]),_:1,__:[23]}),e(x,null,{default:a(()=>[e(S,null,{default:a(()=>[(d(!0),p(M,null,j(t.value.sales_by_day,l=>(d(),I(v,{key:l.day_name,cols:"6",md:"1.7"},{default:a(()=>[r("div",xt,[r("div",bt,u(l.order_count),1),r("div",kt,u(l.day_name),1),r("div",wt,u(w(l.revenue)),1),e(U,{"model-value":ve(l.order_count,t.value.sales_by_day),color:"primary",height:"3",class:"mt-1"},null,8,["model-value"])])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):C("",!0),t.value.category_performance&&t.value.category_performance.length>0?(d(),I(S,{key:1,class:"mb-6"},{default:a(()=>[e(v,{cols:"12"},{default:a(()=>[e(f,null,{default:a(()=>[e(A,{class:"d-flex align-center gap-2"},{default:a(()=>[e(h,{icon:"mdi-shape-outline"}),s[24]||(s[24]=y(" Performa Kategori Produk "))]),_:1,__:[24]}),e(x,null,{default:a(()=>[e(G,{headers:me,items:t.value.category_performance,"items-per-page":10,class:"elevation-0","no-data-text":"Tidak ada data kategori"},{"item.category":a(({item:l})=>[r("div",Pt,[e(h,{icon:"mdi-tag",size:"16",color:"primary"}),r("span",At,u(l.category),1)])]),"item.orders_count":a(({item:l})=>[e(E,{size:"small",color:"info",variant:"tonal"},{default:a(()=>[y(u(l.orders_count),1)]),_:2},1024)]),"item.quantity_sold":a(({item:l})=>[r("span",St,u(l.quantity_sold),1)]),"item.revenue":a(({item:l})=>[r("span",Tt,u(w(l.revenue)),1)]),"item.avg_price":a(({item:l})=>[r("span",Rt,u(w(l.avg_price)),1)]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1})):C("",!0)])):(d(),p("div",Dt,[e(h,{icon:"mdi-chart-line-variant",size:"64",class:"text-medium-emphasis mb-4"}),s[25]||(s[25]=r("h3",{class:"text-h6 mb-2"},"Tidak ada data laporan",-1)),s[26]||(s[26]=r("p",{class:"text-body-2 text-medium-emphasis"}," Silakan pilih periode yang berbeda atau periksa kembali filter Anda ",-1))]))]))}});typeof oe=="function"&&oe(re);const Zt=Ie(re,[["__scopeId","data-v-24fe379d"]]);export{Zt as default};
