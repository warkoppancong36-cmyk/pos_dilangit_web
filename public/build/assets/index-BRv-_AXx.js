import{d as h,au as A,j as T,D,c as g,o as a,b as n,g as u,l as d,f as o,m as r,e as l,s,t as m,a0 as p,F as L,i as W}from"./main-BJG8mpGz.js";import{V as f}from"./VCardText-CklbQ-AC.js";import{V as b}from"./VChip-CmJcIuPZ.js";import{c as M,V as _}from"./VCard-B46mwe6I.js";import"./VAvatar-DqLZBU2d.js";import"./VImg-Be5kvLAw.js";const S={key:0},N={key:0},R={key:1},j={class:"d-flex flex-wrap gap-3"},B={class:"d-flex flex-wrap gap-2"},K=h({__name:"index",setup(J){const t=A(),i=T();D(async()=>{t.token&&!t.user?await t.fetchProfile()||i.push("/login"):t.isLoggedIn||i.push("/login")});const v=()=>{switch(t.userRole){case"Super Admin":return"error";case"Manager":return"warning";case"Kasir":return"success";default:return"primary"}},x=()=>{t.isAdmin?i.push("/admin/dashboard"):t.isManager?i.push("/manager/dashboard"):t.isCashier?i.push("/cashier/dashboard"):i.push("/dashboard")},C=async()=>{await t.logout(),i.push("/login")};return(V,e)=>{var c,y;return a(),g("div",null,[n(_,{class:"mb-6",title:"Welcome to POS Dashboard! ðŸŽ‰"},{default:o(()=>[n(f,null,{default:o(()=>[r(t).user?(a(),g("div",S,[l("p",null,[e[0]||(e[0]=s("Hello ")),l("strong",null,m(r(t).user.name),1),e[1]||(e[1]=s("! You are successfully logged in."))]),l("p",null,[e[2]||(e[2]=s("Username: ")),l("strong",null,m(r(t).user.username),1)]),l("p",null,[e[3]||(e[3]=s("Email: ")),l("strong",null,m(r(t).user.email),1)]),l("p",null,[e[4]||(e[4]=s("Role: ")),n(b,{color:v(),size:"small"},{default:o(()=>[s(m(r(t).userRole),1)]),_:1},8,["color"])]),r(t).user.last_login_at?(a(),g("p",N," Last Login: "+m(new Date(r(t).user.last_login_at).toLocaleString("id-ID")),1)):d("",!0)])):(a(),g("div",R,e[5]||(e[5]=[l("p",null,"Loading user information...",-1)])))]),_:1}),n(M,null,{default:o(()=>[n(p,{color:"primary",variant:"outlined",onClick:x},{default:o(()=>e[6]||(e[6]=[s(" Go to Dashboard ")])),_:1,__:[6]}),n(p,{color:"error",variant:"outlined",onClick:C},{default:o(()=>e[7]||(e[7]=[s(" Logout ")])),_:1,__:[7]})]),_:1})]),_:1}),r(t).user?(a(),u(_,{key:0,class:"mb-6",title:"Quick Actions"},{default:o(()=>[n(f,null,{default:o(()=>[l("div",j,[r(t).isAdmin?(a(),u(p,{key:0,color:"error",variant:"outlined","prepend-icon":"mdi-account-multiple"},{default:o(()=>e[8]||(e[8]=[s(" Manage Users ")])),_:1,__:[8]})):d("",!0),r(t).isManager||r(t).isAdmin?(a(),u(p,{key:1,color:"warning",variant:"outlined","prepend-icon":"mdi-chart-line"},{default:o(()=>e[9]||(e[9]=[s(" Sales Report ")])),_:1,__:[9]})):d("",!0),r(t).isManager||r(t).isAdmin?(a(),u(p,{key:2,color:"info",variant:"outlined","prepend-icon":"mdi-package"},{default:o(()=>e[10]||(e[10]=[s(" Inventory ")])),_:1,__:[10]})):d("",!0),r(t).isCashier||r(t).isManager||r(t).isAdmin?(a(),u(p,{key:3,color:"success",variant:"outlined","prepend-icon":"mdi-cash-register"},{default:o(()=>e[11]||(e[11]=[s(" New Transaction ")])),_:1,__:[11]})):d("",!0)])]),_:1})]),_:1})):d("",!0),(y=(c=r(t).user)==null?void 0:c.role)!=null&&y.permissions&&Object.keys(r(t).user.role.permissions).length>0?(a(),u(_,{key:1,class:"mb-6",title:"Your Permissions"},{default:o(()=>[n(f,null,{default:o(()=>[l("div",B,[(a(!0),g(L,null,W(r(t).user.role.permissions,(k,w)=>(a(),u(b,{key:w,color:k?"success":"error",size:"small"},{default:o(()=>[s(m(w)+": "+m(k?"Yes":"No"),1)]),_:2},1032,["color"]))),128))])]),_:1})]),_:1})):d("",!0),n(_,{class:"mb-6",title:"Kick start your project ðŸš€"},{default:o(()=>[n(f,null,{default:o(()=>e[12]||(e[12]=[s("All the best for your new project.")])),_:1,__:[12]}),n(f,null,{default:o(()=>e[13]||(e[13]=[s(" Please make sure to read our "),l("a",{href:"https://demos.pixinvent.com/vuexy-vuejs-admin-template/documentation/",target:"_blank",rel:"noopener noreferrer",class:"text-decoration-none"}," Template Documentation ",-1),s(" to understand where to go from here and how to use our template. ")])),_:1,__:[13]})]),_:1}),n(_,{title:"Want to integrate JWT? ðŸ”’"},{default:o(()=>[n(f,null,{default:o(()=>e[14]||(e[14]=[s("We carefully crafted JWT flow so you can implement JWT with ease and with minimum efforts.")])),_:1,__:[14]}),n(f,null,{default:o(()=>e[15]||(e[15]=[s("Please read our JWT Documentation to get more out of JWT authentication.")])),_:1,__:[15]})]),_:1})])}}});export{K as default};
