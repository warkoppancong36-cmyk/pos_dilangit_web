import{d as de,r as A,V as te,w as De,g as w,f as t,b as e,s as l,X as p,t as r,a0 as g,$ as ee,o as _,l as D,e as m,D as Te,c as K,m as f,av as ze,aw as Me,F as $e,i as Be,v as Ee}from"./main-eg9Pf7yP.js";import{u as Fe}from"./useAssetsTest-5leUtS5j.js";import{f as ne}from"./formatters-BD6tdLx_.js";import{V as ue}from"./VDialog-CwqqLG5j.js";import{b as L,c as ae,V as y}from"./VCard-BtzUmw9U.js";import{V as Y}from"./VSpacer-D-gRU1pn.js";import{V as P}from"./VDivider-CcYYcDvj.js";import{V as S}from"./VCardText-LY4-K7v_.js";import{V as Le}from"./VForm-CPOwovMd.js";import{V as G,a as v}from"./VRow-CVc6ma9j.js";import{V as M}from"./VTextField-tHxWfMiz.js";import{V as I}from"./VSelect-CKu76hON.js";import{V as Ke}from"./VTextarea-BrsJ89jO.js";import{V as Ie}from"./VContainer-D3TF9Cs3.js";import{V as N}from"./VChip-BVqwL-Yv.js";import{V as re,a as V,b as C,d as h}from"./VList-CUK6Wel-.js";import{V as W}from"./VAvatar-lUjSHcTr.js";import{V as Pe}from"./VCheckbox-D1N01Yk2.js";import{V as qe,a as He}from"./VDataTable-Cf0ZTTUt.js";import{V as Oe}from"./VAlert-CjmBLgH6.js";import{_ as Re}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./auth-a9M5ekjn.js";import"./VOverlay-Ew3gGBm7.js";import"./forwardRefs-B931MWyl.js";import"./VImg-BiarJe7k.js";/* empty css              */import"./VMenu-Ck9W-sT1.js";import"./VCheckboxBtn-D-8lwIcc.js";import"./VTable-YVg_QoCW.js";import"./filter-D91But4O.js";const je=de({__name:"AssetFormDialog",props:{show:{type:Boolean},asset:{}},emits:["update:show","saved"],setup(Z,{emit:$}){const x=Z,k=$,U=A(!1),z=A(!1),E=A(),d=A({asset_code:"",name:"",category:"",location:"",condition:"good",status:"active"}),q=te({get:()=>x.show,set:c=>k("update:show",c)}),F=te(()=>{var c;return!!((c=x.asset)!=null&&c.id)}),Q=["Kitchen Equipment","Electronics","Furniture","Beverage Equipment","Cleaning Equipment","Storage","Other"],X=["Main Kitchen","Front Counter","Dining Area","Cold Storage","Beverage Station","Dish Pit","Back Office","Storage Room"],H=[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"},{title:"Maintenance",value:"maintenance"},{title:"Disposed",value:"disposed"}],O=[{title:"Excellent",value:"excellent"},{title:"Good",value:"good"},{title:"Fair",value:"fair"},{title:"Poor",value:"poor"},{title:"Damaged",value:"damaged"}],s=["Kitchen","Front of House","Beverage","Management","Maintenance","Storage"],o=[c=>!!c||"Field ini wajib diisi"],T=()=>{d.value={asset_code:"",name:"",category:"",location:"",condition:"good",status:"active"},E.value&&E.value.resetValidation()},B=()=>{k("update:show",!1),T()},R=async()=>{if(!E.value)return;const{valid:c}=await E.value.validate();if(c){z.value=!0;try{console.log("Saving asset:",d.value),await new Promise(n=>setTimeout(n,1e3)),k("saved"),B()}catch(n){console.error("Error saving asset:",n)}finally{z.value=!1}}};return De(()=>x.show,c=>{c&&x.asset?Object.assign(d.value,x.asset):c||T()}),(c,n)=>(_(),w(ue,{modelValue:q.value,"onUpdate:modelValue":n[17]||(n[17]=u=>q.value=u),"max-width":"800px",persistent:""},{default:t(()=>[e(y,null,{default:t(()=>[e(L,{class:"text-h5 pa-6 pb-4"},{default:t(()=>[e(p,{icon:"tabler-plus",class:"me-2"}),l(" "+r(F.value?"Edit Asset":"Tambah Asset Baru")+" ",1),e(Y),e(g,{icon:"",variant:"text",onClick:B},{default:t(()=>[e(p,null,{default:t(()=>n[18]||(n[18]=[l("tabler-x")])),_:1,__:[18]})]),_:1})]),_:1}),e(P),e(S,{class:"pa-6"},{default:t(()=>[e(Le,{ref_key:"formRef",ref:E,modelValue:U.value,"onUpdate:modelValue":n[16]||(n[16]=u=>U.value=u),onSubmit:ee(R,["prevent"])},{default:t(()=>[e(G,null,{default:t(()=>[e(v,{cols:"12",md:"6"},{default:t(()=>[e(M,{modelValue:d.value.asset_code,"onUpdate:modelValue":n[0]||(n[0]=u=>d.value.asset_code=u),label:"Kode Asset",rules:o,variant:"outlined","prepend-inner-icon":"tabler-barcode",required:""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"6"},{default:t(()=>[e(M,{modelValue:d.value.name,"onUpdate:modelValue":n[1]||(n[1]=u=>d.value.name=u),label:"Nama Asset",rules:o,variant:"outlined","prepend-inner-icon":"tabler-tag",required:""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"6"},{default:t(()=>[e(I,{modelValue:d.value.category,"onUpdate:modelValue":n[2]||(n[2]=u=>d.value.category=u),label:"Kategori",items:Q,rules:o,variant:"outlined","prepend-inner-icon":"tabler-category",required:""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"6"},{default:t(()=>[e(I,{modelValue:d.value.location,"onUpdate:modelValue":n[3]||(n[3]=u=>d.value.location=u),label:"Lokasi",items:X,rules:o,variant:"outlined","prepend-inner-icon":"tabler-map-pin",required:""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"6"},{default:t(()=>[e(M,{modelValue:d.value.brand,"onUpdate:modelValue":n[4]||(n[4]=u=>d.value.brand=u),label:"Merek",variant:"outlined","prepend-inner-icon":"tabler-award"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"6"},{default:t(()=>[e(M,{modelValue:d.value.model,"onUpdate:modelValue":n[5]||(n[5]=u=>d.value.model=u),label:"Model",variant:"outlined","prepend-inner-icon":"tabler-versions"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"6"},{default:t(()=>[e(M,{modelValue:d.value.serial_number,"onUpdate:modelValue":n[6]||(n[6]=u=>d.value.serial_number=u),label:"Serial Number",variant:"outlined","prepend-inner-icon":"tabler-hash"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"6"},{default:t(()=>[e(M,{modelValue:d.value.purchase_price,"onUpdate:modelValue":n[7]||(n[7]=u=>d.value.purchase_price=u),label:"Harga Pembelian",type:"number",variant:"outlined","prepend-inner-icon":"tabler-currency-dollar",prefix:"$"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"6"},{default:t(()=>[e(M,{modelValue:d.value.purchase_date,"onUpdate:modelValue":n[8]||(n[8]=u=>d.value.purchase_date=u),label:"Tanggal Pembelian",type:"date",variant:"outlined","prepend-inner-icon":"tabler-calendar"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"6"},{default:t(()=>[e(M,{modelValue:d.value.warranty_until,"onUpdate:modelValue":n[9]||(n[9]=u=>d.value.warranty_until=u),label:"Garansi Sampai",type:"date",variant:"outlined","prepend-inner-icon":"tabler-shield-check"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"6"},{default:t(()=>[e(I,{modelValue:d.value.status,"onUpdate:modelValue":n[10]||(n[10]=u=>d.value.status=u),label:"Status",items:H,rules:o,variant:"outlined","prepend-inner-icon":"tabler-toggle-left",required:""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"6"},{default:t(()=>[e(I,{modelValue:d.value.condition,"onUpdate:modelValue":n[11]||(n[11]=u=>d.value.condition=u),label:"Kondisi",items:O,rules:o,variant:"outlined","prepend-inner-icon":"tabler-heart-rate-monitor",required:""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"6"},{default:t(()=>[e(M,{modelValue:d.value.supplier,"onUpdate:modelValue":n[12]||(n[12]=u=>d.value.supplier=u),label:"Supplier",variant:"outlined","prepend-inner-icon":"tabler-building"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"6"},{default:t(()=>[e(M,{modelValue:d.value.assigned_to,"onUpdate:modelValue":n[13]||(n[13]=u=>d.value.assigned_to=u),label:"Ditugaskan Kepada",variant:"outlined","prepend-inner-icon":"tabler-user"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12"},{default:t(()=>[e(I,{modelValue:d.value.department,"onUpdate:modelValue":n[14]||(n[14]=u=>d.value.department=u),label:"Departemen",items:s,variant:"outlined","prepend-inner-icon":"tabler-building-bank"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12"},{default:t(()=>[e(Ke,{modelValue:d.value.description,"onUpdate:modelValue":n[15]||(n[15]=u=>d.value.description=u),label:"Deskripsi",variant:"outlined","prepend-inner-icon":"tabler-notes",rows:"3"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(P),e(ae,{class:"pa-6"},{default:t(()=>[e(Y),e(g,{variant:"text",onClick:B},{default:t(()=>n[19]||(n[19]=[l(" Batal ")])),_:1,__:[19]}),e(g,{color:"primary",loading:z.value,onClick:R},{default:t(()=>[l(r(F.value?"Update":"Simpan"),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Ne={class:"d-flex justify-space-between align-center"},Ge={class:"text-h4 font-weight-bold text-primary"},Qe=de({__name:"AssetDetailsDialog",props:{show:{type:Boolean},asset:{}},emits:["update:show","edit","delete"],setup(Z,{emit:$}){const x=Z,k=$,U=te({get:()=>x.show,set:s=>k("update:show",s)}),z=()=>{k("update:show",!1)},E=()=>{k("edit",x.asset),z()},d=()=>{k("delete",x.asset),z()},q=s=>{switch(s){case"active":return"success";case"inactive":return"secondary";case"maintenance":return"warning";case"disposed":return"error";default:return"primary"}},F=s=>{switch(s){case"excellent":return"success";case"good":return"info";case"fair":return"warning";case"poor":return"orange";case"damaged":return"error";default:return"secondary"}},Q=s=>{switch(s){case"active":return"tabler-check-circle";case"inactive":return"tabler-circle";case"maintenance":return"tabler-tool";case"disposed":return"tabler-trash";default:return"tabler-circle"}},X=s=>{switch(s==null?void 0:s.toLowerCase()){case"kitchen equipment":return"tabler-chef-hat";case"electronics":return"tabler-device-desktop";case"furniture":return"tabler-armchair";case"beverage equipment":return"tabler-coffee";default:return"tabler-box"}},H=s=>s?new Date(s).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}):"-",O=s=>s?new Date(s).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-";return(s,o)=>(_(),w(ue,{modelValue:U.value,"onUpdate:modelValue":o[0]||(o[0]=T=>U.value=T),"max-width":"900px",scrollable:""},{default:t(()=>[s.asset?(_(),w(y,{key:0},{default:t(()=>[e(L,{class:"text-h5 pa-6 pb-4"},{default:t(()=>[e(p,{icon:X(s.asset.category),class:"me-3 text-primary"},null,8,["icon"]),l(" "+r(s.asset.name)+" ",1),e(Y),e(g,{icon:"",variant:"text",onClick:z},{default:t(()=>[e(p,null,{default:t(()=>o[1]||(o[1]=[l("tabler-x")])),_:1,__:[1]})]),_:1})]),_:1}),e(P),e(S,{class:"pa-0"},{default:t(()=>[e(Ie,{class:"pa-6"},{default:t(()=>[e(G,{class:"mb-6"},{default:t(()=>[e(v,{cols:"12"},{default:t(()=>{var T;return[m("div",Ne,[m("div",null,[e(N,{color:q(s.asset.status),size:"large",variant:"tonal",class:"me-3"},{default:t(()=>[e(p,{start:"",icon:Q(s.asset.status)},null,8,["icon"]),l(" "+r(s.asset.status.toUpperCase()),1)]),_:1},8,["color"]),e(N,{color:F(s.asset.condition),size:"large",variant:"outlined"},{default:t(()=>[l(r(s.asset.condition.toUpperCase()),1)]),_:1},8,["color"])]),m("div",Ge," $"+r(((T=s.asset.purchase_price)==null?void 0:T.toLocaleString())||"0"),1)])]}),_:1})]),_:1}),e(G,null,{default:t(()=>[e(v,{cols:"12",md:"6"},{default:t(()=>[e(y,{variant:"outlined",class:"h-100"},{default:t(()=>[e(L,{class:"text-h6 pa-4 pb-2"},{default:t(()=>[e(p,{icon:"tabler-info-circle",class:"me-2"}),o[2]||(o[2]=l(" Informasi Dasar "))]),_:1,__:[2]}),e(S,{class:"pa-4 pt-2"},{default:t(()=>[e(re,{density:"compact",class:"pa-0"},{default:t(()=>[e(V,null,{prepend:t(()=>[e(p,{icon:"tabler-barcode",class:"me-3"})]),default:t(()=>[e(C,{class:"text-body-2 text-medium-emphasis"},{default:t(()=>o[3]||(o[3]=[l("Kode Asset")])),_:1,__:[3]}),e(h,{class:"font-weight-bold"},{default:t(()=>[l(r(s.asset.asset_code),1)]),_:1})]),_:1}),e(V,null,{prepend:t(()=>[e(p,{icon:"tabler-category",class:"me-3"})]),default:t(()=>[e(C,{class:"text-body-2 text-medium-emphasis"},{default:t(()=>o[4]||(o[4]=[l("Kategori")])),_:1,__:[4]}),e(h,{class:"font-weight-bold"},{default:t(()=>[l(r(s.asset.category),1)]),_:1})]),_:1}),e(V,null,{prepend:t(()=>[e(p,{icon:"tabler-map-pin",class:"me-3"})]),default:t(()=>[e(C,{class:"text-body-2 text-medium-emphasis"},{default:t(()=>o[5]||(o[5]=[l("Lokasi")])),_:1,__:[5]}),e(h,{class:"font-weight-bold"},{default:t(()=>[l(r(s.asset.location),1)]),_:1})]),_:1}),s.asset.brand?(_(),w(V,{key:0},{prepend:t(()=>[e(p,{icon:"tabler-award",class:"me-3"})]),default:t(()=>[e(C,{class:"text-body-2 text-medium-emphasis"},{default:t(()=>o[6]||(o[6]=[l("Merek")])),_:1,__:[6]}),e(h,{class:"font-weight-bold"},{default:t(()=>[l(r(s.asset.brand),1)]),_:1})]),_:1})):D("",!0),s.asset.model?(_(),w(V,{key:1},{prepend:t(()=>[e(p,{icon:"tabler-versions",class:"me-3"})]),default:t(()=>[e(C,{class:"text-body-2 text-medium-emphasis"},{default:t(()=>o[7]||(o[7]=[l("Model")])),_:1,__:[7]}),e(h,{class:"font-weight-bold"},{default:t(()=>[l(r(s.asset.model),1)]),_:1})]),_:1})):D("",!0),s.asset.serial_number?(_(),w(V,{key:2},{prepend:t(()=>[e(p,{icon:"tabler-hash",class:"me-3"})]),default:t(()=>[e(C,{class:"text-body-2 text-medium-emphasis"},{default:t(()=>o[8]||(o[8]=[l("Serial Number")])),_:1,__:[8]}),e(h,{class:"font-weight-bold"},{default:t(()=>[l(r(s.asset.serial_number),1)]),_:1})]),_:1})):D("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),e(v,{cols:"12",md:"6"},{default:t(()=>[e(y,{variant:"outlined",class:"h-100"},{default:t(()=>[e(L,{class:"text-h6 pa-4 pb-2"},{default:t(()=>[e(p,{icon:"tabler-calendar-dollar",class:"me-2"}),o[9]||(o[9]=l(" Informasi Pembelian "))]),_:1,__:[9]}),e(S,{class:"pa-4 pt-2"},{default:t(()=>[e(re,{density:"compact",class:"pa-0"},{default:t(()=>[s.asset.purchase_date?(_(),w(V,{key:0},{prepend:t(()=>[e(p,{icon:"tabler-calendar",class:"me-3"})]),default:t(()=>[e(C,{class:"text-body-2 text-medium-emphasis"},{default:t(()=>o[10]||(o[10]=[l("Tanggal Pembelian")])),_:1,__:[10]}),e(h,{class:"font-weight-bold"},{default:t(()=>[l(r(H(s.asset.purchase_date)),1)]),_:1})]),_:1})):D("",!0),e(V,null,{prepend:t(()=>[e(p,{icon:"tabler-currency-dollar",class:"me-3"})]),default:t(()=>[e(C,{class:"text-body-2 text-medium-emphasis"},{default:t(()=>o[11]||(o[11]=[l("Harga Pembelian")])),_:1,__:[11]}),e(h,{class:"font-weight-bold"},{default:t(()=>{var T;return[l("$"+r(((T=s.asset.purchase_price)==null?void 0:T.toLocaleString())||"0"),1)]}),_:1})]),_:1}),s.asset.supplier?(_(),w(V,{key:1},{prepend:t(()=>[e(p,{icon:"tabler-building",class:"me-3"})]),default:t(()=>[e(C,{class:"text-body-2 text-medium-emphasis"},{default:t(()=>o[12]||(o[12]=[l("Supplier")])),_:1,__:[12]}),e(h,{class:"font-weight-bold"},{default:t(()=>[l(r(s.asset.supplier),1)]),_:1})]),_:1})):D("",!0),s.asset.warranty_until?(_(),w(V,{key:2},{prepend:t(()=>[e(p,{icon:"tabler-shield-check",class:"me-3"})]),default:t(()=>[e(C,{class:"text-body-2 text-medium-emphasis"},{default:t(()=>o[13]||(o[13]=[l("Garansi Sampai")])),_:1,__:[13]}),e(h,{class:"font-weight-bold"},{default:t(()=>[l(r(H(s.asset.warranty_until)),1)]),_:1})]),_:1})):D("",!0),s.asset.assigned_to?(_(),w(V,{key:3},{prepend:t(()=>[e(p,{icon:"tabler-user",class:"me-3"})]),default:t(()=>[e(C,{class:"text-body-2 text-medium-emphasis"},{default:t(()=>o[14]||(o[14]=[l("Ditugaskan Kepada")])),_:1,__:[14]}),e(h,{class:"font-weight-bold"},{default:t(()=>[l(r(s.asset.assigned_to),1)]),_:1})]),_:1})):D("",!0),s.asset.department?(_(),w(V,{key:4},{prepend:t(()=>[e(p,{icon:"tabler-building-bank",class:"me-3"})]),default:t(()=>[e(C,{class:"text-body-2 text-medium-emphasis"},{default:t(()=>o[15]||(o[15]=[l("Departemen")])),_:1,__:[15]}),e(h,{class:"font-weight-bold"},{default:t(()=>[l(r(s.asset.department),1)]),_:1})]),_:1})):D("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),s.asset.description?(_(),w(v,{key:0,cols:"12"},{default:t(()=>[e(y,{variant:"outlined"},{default:t(()=>[e(L,{class:"text-h6 pa-4 pb-2"},{default:t(()=>[e(p,{icon:"tabler-notes",class:"me-2"}),o[16]||(o[16]=l(" Deskripsi "))]),_:1,__:[16]}),e(S,{class:"pa-4 pt-2"},{default:t(()=>[l(r(s.asset.description),1)]),_:1})]),_:1})]),_:1})):D("",!0),e(v,{cols:"12"},{default:t(()=>[e(y,{variant:"outlined"},{default:t(()=>[e(L,{class:"text-h6 pa-4 pb-2"},{default:t(()=>[e(p,{icon:"tabler-clock",class:"me-2"}),o[17]||(o[17]=l(" Riwayat "))]),_:1,__:[17]}),e(S,{class:"pa-4 pt-2"},{default:t(()=>[e(re,{density:"compact",class:"pa-0"},{default:t(()=>[e(V,null,{prepend:t(()=>[e(p,{icon:"tabler-plus",class:"me-3"})]),default:t(()=>[e(C,{class:"text-body-2 text-medium-emphasis"},{default:t(()=>o[18]||(o[18]=[l("Dibuat")])),_:1,__:[18]}),e(h,{class:"font-weight-bold"},{default:t(()=>[l(r(O(s.asset.created_at)),1)]),_:1})]),_:1}),e(V,null,{prepend:t(()=>[e(p,{icon:"tabler-edit",class:"me-3"})]),default:t(()=>[e(C,{class:"text-body-2 text-medium-emphasis"},{default:t(()=>o[19]||(o[19]=[l("Terakhir Diupdate")])),_:1,__:[19]}),e(h,{class:"font-weight-bold"},{default:t(()=>[l(r(O(s.asset.updated_at)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(P),e(ae,{class:"pa-6"},{default:t(()=>[e(Y),e(g,{variant:"outlined","prepend-icon":"tabler-edit",color:"primary",onClick:E},{default:t(()=>o[20]||(o[20]=[l(" Edit Asset ")])),_:1,__:[20]}),e(g,{variant:"outlined","prepend-icon":"tabler-trash",color:"error",onClick:d},{default:t(()=>o[21]||(o[21]=[l(" Hapus ")])),_:1,__:[21]}),e(g,{variant:"text",onClick:z},{default:t(()=>o[22]||(o[22]=[l(" Tutup ")])),_:1,__:[22]})]),_:1})]),_:1})):D("",!0)]),_:1},8,["modelValue"]))}}),Xe={class:"text-h4 font-weight-bold mb-2"},Je={class:"d-flex gap-3"},We={class:"text-h4 font-weight-bold"},Ye={class:"text-h4 font-weight-bold"},Ze={class:"text-h4 font-weight-bold"},et={class:"text-h4 font-weight-bold"},tt={class:"d-flex gap-2"},at={class:"d-flex justify-space-between align-center"},lt={class:"d-flex gap-2"},st={key:0,class:"text-center pa-12"},ot={key:1,class:"text-center pa-12"},it={class:"text-body-1 text-medium-emphasis mb-6"},nt={key:2},rt={key:0,class:"pa-6"},dt={class:"d-flex justify-space-between align-start mb-3"},ut={class:"mb-3"},mt={class:"text-subtitle-1 font-weight-bold mb-1"},pt={class:"text-body-2 text-medium-emphasis"},ct={class:"text-body-2 space-y-1"},ft={class:"d-flex align-center mb-1"},vt={class:"d-flex align-center mb-1"},bt={class:"d-flex align-center mb-1"},gt={key:1},_t={class:"font-weight-bold"},Vt={class:"text-caption text-medium-emphasis"},yt={class:"d-flex gap-1"},kt={key:2,class:"pa-6 border-t"},wt={class:"d-flex justify-space-between align-center"},xt={class:"text-body-2 text-medium-emphasis"},Ct={class:"mb-4"},ht=de({__name:"assets-main",setup(Z){const{assets:$,loading:x,pagination:k,filters:U,hasAssets:z,isEmpty:E,activeAssets:d,maintenanceAssets:q,fetchAssets:F,searchAssets:Q,filterAssets:X,deleteAsset:H,bulkDeleteAssets:O,resetFilters:s,getCategories:o,getLocations:T}=Fe(),B=A(""),R=A("grid"),c=A([]),n=A(!1),u=A(!1),J=A(!1),me=A(null),le=A(null),pe=A([]),ce=A([]),ge=[{title:"Asset",value:"name",sortable:!0},{title:"Kategori",value:"category",sortable:!0},{title:"Lokasi",value:"location",sortable:!0},{title:"Status",value:"status",sortable:!0},{title:"Kondisi",value:"condition",sortable:!0},{title:"Harga",value:"purchase_price",sortable:!0},{title:"Aksi",value:"actions",sortable:!1}],_e=te(()=>Array.isArray($.value)?$.value.reduce((b,a)=>b+(a.purchase_price||0),0):0),fe=b=>{switch(b){case"active":return"success";case"inactive":return"secondary";case"maintenance":return"warning";case"disposed":return"error";default:return"primary"}},Ve=b=>{switch(b){case"excellent":return"success";case"good":return"info";case"fair":return"warning";case"poor":return"orange";case"damaged":return"error";default:return"secondary"}};let ve;const ye=()=>{clearTimeout(ve),ve=setTimeout(()=>{Q(B.value)},300)},se=()=>{X(U.value)},ke=()=>{B.value="",s()},we=b=>{const a=c.value.indexOf(b);a>-1?c.value.splice(a,1):c.value.push(b)},xe=()=>{c.value=[]},be=b=>{me.value=b,u.value=!0},oe=b=>{le.value=b,n.value=!0},ie=async b=>{if(confirm(`Apakah Anda yakin ingin menghapus ${b.name}?`))try{await H(b.id),c.value=c.value.filter(a=>a!==b.id)}catch(a){console.error("Error deleting asset:",a)}},Ce=async()=>{try{await O(c.value),c.value=[],J.value=!1}catch(b){console.error("Error bulk deleting assets:",b)}},he=()=>{console.log("Bulk update status for:",c.value)},Ae=()=>{F()},Se=()=>{n.value=!1,le.value=null,F()},Ue=async()=>{try{const[b,a]=await Promise.all([o(),T()]);pe.value=b||[],ce.value=a||[]}catch(b){console.error("Error loading filter options:",b)}};return Te(async()=>{try{await Promise.all([F(),Ue()])}catch(b){console.error("Error loading data:",b)}}),(b,a)=>(_(),K("div",null,[e(y,{class:"mb-6"},{default:t(()=>[e(L,{class:"d-flex justify-space-between align-center pa-6"},{default:t(()=>[m("div",null,[m("h1",Xe,[e(p,{icon:"tabler-building-store",class:"me-3 text-primary"}),a[15]||(a[15]=l(" Asset Management "))]),a[16]||(a[16]=m("p",{class:"text-subtitle-1 text-medium-emphasis"}," Kelola aset fisik restoran, peralatan dapur, dan inventaris ",-1))]),m("div",Je,[e(g,{color:"primary","prepend-icon":"tabler-plus",onClick:a[0]||(a[0]=i=>n.value=!0)},{default:t(()=>a[17]||(a[17]=[l(" Tambah Asset ")])),_:1,__:[17]}),e(g,{variant:"outlined",color:"secondary","prepend-icon":"tabler-refresh",loading:f(x),onClick:Ae},{default:t(()=>a[18]||(a[18]=[l(" Refresh ")])),_:1,__:[18]},8,["loading"])])]),_:1})]),_:1}),e(G,{class:"mb-6"},{default:t(()=>[e(v,{cols:"12",md:"3"},{default:t(()=>[e(y,null,{default:t(()=>[e(S,{class:"text-center pa-6"},{default:t(()=>[e(W,{size:"56",color:"primary",class:"mb-4"},{default:t(()=>[e(p,{icon:"tabler-box",size:"28"})]),_:1}),m("div",We,r(Array.isArray(f($))?f($).length:0),1),a[19]||(a[19]=m("div",{class:"text-subtitle-2 text-medium-emphasis"},"Total Assets",-1))]),_:1,__:[19]})]),_:1})]),_:1}),e(v,{cols:"12",md:"3"},{default:t(()=>[e(y,null,{default:t(()=>[e(S,{class:"text-center pa-6"},{default:t(()=>[e(W,{size:"56",color:"success",class:"mb-4"},{default:t(()=>[e(p,{icon:"tabler-check-circle",size:"28"})]),_:1}),m("div",Ye,r(Array.isArray(f(d))?f(d).length:0),1),a[20]||(a[20]=m("div",{class:"text-subtitle-2 text-medium-emphasis"},"Active Assets",-1))]),_:1,__:[20]})]),_:1})]),_:1}),e(v,{cols:"12",md:"3"},{default:t(()=>[e(y,null,{default:t(()=>[e(S,{class:"text-center pa-6"},{default:t(()=>[e(W,{size:"56",color:"warning",class:"mb-4"},{default:t(()=>[e(p,{icon:"tabler-tool",size:"28"})]),_:1}),m("div",Ze,r(Array.isArray(f(q))?f(q).length:0),1),a[21]||(a[21]=m("div",{class:"text-subtitle-2 text-medium-emphasis"},"In Maintenance",-1))]),_:1,__:[21]})]),_:1})]),_:1}),e(v,{cols:"12",md:"3"},{default:t(()=>[e(y,null,{default:t(()=>[e(S,{class:"text-center pa-6"},{default:t(()=>[e(W,{size:"56",color:"info",class:"mb-4"},{default:t(()=>[e(p,{icon:"tabler-currency-dollar",size:"28"})]),_:1}),m("div",et,r(f(ne)(_e.value)),1),a[22]||(a[22]=m("div",{class:"text-subtitle-2 text-medium-emphasis"},"Total Value",-1))]),_:1,__:[22]})]),_:1})]),_:1})]),_:1}),e(y,{class:"mb-6"},{default:t(()=>[e(L,{class:"pa-6 pb-4"},{default:t(()=>[e(p,{icon:"tabler-filter",class:"me-2"}),a[23]||(a[23]=l(" Filter & Pencarian "))]),_:1,__:[23]}),e(S,{class:"pa-6 pt-0"},{default:t(()=>[e(G,null,{default:t(()=>[e(v,{cols:"12",md:"4"},{default:t(()=>[e(M,{modelValue:B.value,"onUpdate:modelValue":a[1]||(a[1]=i=>B.value=i),label:"Cari assets...","prepend-inner-icon":"tabler-search",variant:"outlined",density:"compact",clearable:"",onInput:ye},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"2"},{default:t(()=>[e(I,{modelValue:f(U).category,"onUpdate:modelValue":[a[2]||(a[2]=i=>f(U).category=i),se],label:"Kategori",items:pe.value,variant:"outlined",density:"compact",clearable:""},{"prepend-item":t(()=>[e(V,{title:"Semua Kategori",value:""}),e(P)]),_:1},8,["modelValue","items"])]),_:1}),e(v,{cols:"12",md:"2"},{default:t(()=>[e(I,{modelValue:f(U).location,"onUpdate:modelValue":[a[3]||(a[3]=i=>f(U).location=i),se],label:"Lokasi",items:ce.value,variant:"outlined",density:"compact",clearable:""},{"prepend-item":t(()=>[e(V,{title:"Semua Lokasi",value:""}),e(P)]),_:1},8,["modelValue","items"])]),_:1}),e(v,{cols:"12",md:"2"},{default:t(()=>[e(I,{modelValue:f(U).status,"onUpdate:modelValue":[a[4]||(a[4]=i=>f(U).status=i),se],label:"Status",items:[{title:"Active",value:"active"},{title:"Inactive",value:"inactive"},{title:"Maintenance",value:"maintenance"},{title:"Disposed",value:"disposed"}],variant:"outlined",density:"compact",clearable:""},{"prepend-item":t(()=>[e(V,{title:"Semua Status",value:""}),e(P)]),_:1},8,["modelValue"])]),_:1}),e(v,{cols:"12",md:"2"},{default:t(()=>[m("div",tt,[e(g,{size:"small",variant:"outlined",color:"secondary",onClick:ke},{default:t(()=>a[24]||(a[24]=[l(" Clear ")])),_:1,__:[24]}),e(ze,{modelValue:R.value,"onUpdate:modelValue":a[5]||(a[5]=i=>R.value=i),variant:"outlined",color:"primary",density:"compact"},{default:t(()=>[e(g,{value:"grid",icon:"tabler-grid-dots"}),e(g,{value:"list",icon:"tabler-list"})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1})]),_:1}),c.value.length>0?(_(),w(y,{key:0,class:"mb-6",color:"blue-lighten-5"},{default:t(()=>[e(S,{class:"pa-4"},{default:t(()=>[m("div",at,[m("div",null,[e(N,{color:"primary",variant:"outlined"},{default:t(()=>[l(r(c.value.length)+" asset"+r(c.value.length!==1?"s":"")+" dipilih ",1)]),_:1})]),m("div",lt,[e(g,{color:"error",variant:"outlined","prepend-icon":"tabler-trash",onClick:a[6]||(a[6]=i=>J.value=!0)},{default:t(()=>a[25]||(a[25]=[l(" Hapus Terpilih ")])),_:1,__:[25]}),e(g,{color:"primary",variant:"outlined","prepend-icon":"tabler-edit",onClick:he},{default:t(()=>a[26]||(a[26]=[l(" Update Status ")])),_:1,__:[26]}),e(g,{variant:"text",onClick:xe},{default:t(()=>a[27]||(a[27]=[l(" Clear Selection ")])),_:1,__:[27]})])])]),_:1})]),_:1})):D("",!0),e(y,null,{default:t(()=>[f(x)&&!f(z)?(_(),K("div",st,[e(Me,{indeterminate:"",color:"primary",size:"64"}),a[28]||(a[28]=m("div",{class:"text-h6 mt-4"},"Memuat assets...",-1))])):f(E)?(_(),K("div",ot,[e(W,{size:"120",color:"grey-lighten-3",class:"mb-6"},{default:t(()=>[e(p,{icon:"tabler-box-off",size:"60",color:"grey-darken-1"})]),_:1}),a[30]||(a[30]=m("h3",{class:"text-h5 font-weight-bold mb-4"},"Tidak ada assets ditemukan",-1)),m("p",it,r(B.value?"Tidak ada assets yang sesuai dengan pencarian Anda":"Mulai dengan menambahkan asset fisik restoran pertama"),1),B.value?D("",!0):(_(),w(g,{key:0,color:"primary","prepend-icon":"tabler-plus",onClick:a[7]||(a[7]=i=>n.value=!0)},{default:t(()=>a[29]||(a[29]=[l(" Tambah Asset Pertama ")])),_:1,__:[29]}))])):(_(),K("div",nt,[R.value==="grid"?(_(),K("div",rt,[e(G,null,{default:t(()=>[(_(!0),K($e,null,Be(f($),i=>(_(),w(v,{key:i.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:t(()=>[e(y,{class:Ee(["asset-card",{selected:c.value.includes(i.id)}]),onClick:j=>be(i),hover:""},{default:t(()=>[e(S,{class:"pa-4"},{default:t(()=>[m("div",dt,[e(N,{color:fe(i.status),size:"small",variant:"tonal"},{default:t(()=>[l(r(i.status),1)]),_:2},1032,["color"]),e(Pe,{"model-value":c.value.includes(i.id),onClick:a[8]||(a[8]=ee(()=>{},["stop"])),"onUpdate:modelValue":j=>we(i.id),density:"compact","hide-details":""},null,8,["model-value","onUpdate:modelValue"])]),m("div",ut,[m("h4",mt,r(i.name),1),m("p",pt,r(i.asset_code),1)]),e(P,{class:"mb-3"}),m("div",ct,[m("div",ft,[e(p,{icon:"tabler-category",size:"16",class:"me-2"}),l(" "+r(i.category),1)]),m("div",vt,[e(p,{icon:"tabler-map-pin",size:"16",class:"me-2"}),l(" "+r(i.location),1)]),m("div",bt,[e(p,{icon:"tabler-currency-dollar",size:"16",class:"me-2"}),l(" "+r(f(ne)(i.purchase_price)),1)])])]),_:2},1024),e(ae,{class:"pa-4 pt-0"},{default:t(()=>[e(g,{size:"small",variant:"outlined",color:"primary",onClick:ee(j=>oe(i),["stop"])},{default:t(()=>a[31]||(a[31]=[l(" Edit ")])),_:2,__:[31]},1032,["onClick"]),e(g,{size:"small",variant:"outlined",color:"error",onClick:ee(j=>ie(i),["stop"])},{default:t(()=>a[32]||(a[32]=[l(" Hapus ")])),_:2,__:[32]},1032,["onClick"])]),_:2},1024)]),_:2},1032,["class","onClick"])]),_:2},1024))),128))]),_:1})])):(_(),K("div",gt,[e(qe,{headers:ge,items:f($),loading:f(x),"item-value":"id",class:"elevation-0","show-select":"",modelValue:c.value,"onUpdate:modelValue":a[9]||(a[9]=i=>c.value=i)},{"item.name":t(({item:i})=>[m("div",null,[m("div",_t,r(i.name),1),m("div",Vt,r(i.asset_code),1)])]),"item.status":t(({item:i})=>[e(N,{color:fe(i.status),size:"small",variant:"tonal"},{default:t(()=>[l(r(i.status),1)]),_:2},1032,["color"])]),"item.condition":t(({item:i})=>[e(N,{color:Ve(i.condition),size:"small",variant:"outlined"},{default:t(()=>[l(r(i.condition),1)]),_:2},1032,["color"])]),"item.purchase_price":t(({item:i})=>[l(r(f(ne)(i.purchase_price)),1)]),"item.actions":t(({item:i})=>[m("div",yt,[e(g,{size:"small",icon:"tabler-eye",variant:"text",onClick:j=>be(i)},null,8,["onClick"]),e(g,{size:"small",icon:"tabler-edit",variant:"text",color:"primary",onClick:j=>oe(i)},null,8,["onClick"]),e(g,{size:"small",icon:"tabler-trash",variant:"text",color:"error",onClick:j=>ie(i)},null,8,["onClick"])])]),_:1},8,["items","loading","modelValue"])])),f(z)?(_(),K("div",kt,[m("div",wt,[m("div",xt," Menampilkan "+r(f(k).from)+" sampai "+r(f(k).to)+" dari "+r(f(k).total)+" hasil ",1),e(He,{modelValue:f(k).current_page,"onUpdate:modelValue":[a[10]||(a[10]=i=>f(k).current_page=i),f(F)],length:f(k).last_page,"total-visible":5},null,8,["modelValue","length","onUpdate:modelValue"])])])):D("",!0)]))]),_:1}),e(je,{show:n.value,"onUpdate:show":a[11]||(a[11]=i=>n.value=i),asset:le.value,onSaved:Se},null,8,["show","asset"]),e(Qe,{show:u.value,"onUpdate:show":a[12]||(a[12]=i=>u.value=i),asset:me.value,onEdit:oe,onDelete:ie},null,8,["show","asset"]),e(ue,{modelValue:J.value,"onUpdate:modelValue":a[14]||(a[14]=i=>J.value=i),"max-width":"500"},{default:t(()=>[e(y,null,{default:t(()=>[e(L,{class:"text-h5"},{default:t(()=>[e(p,{icon:"tabler-alert-triangle",class:"me-2 text-warning"}),a[33]||(a[33]=l(" Konfirmasi Hapus Massal "))]),_:1,__:[33]}),e(S,null,{default:t(()=>[m("p",Ct,[a[34]||(a[34]=l(" Apakah Anda yakin ingin menghapus ")),m("strong",null,r(c.value.length),1),l(" asset"+r(c.value.length!==1?"s":"")+" yang dipilih? ",1)]),e(Oe,{type:"warning",variant:"tonal",class:"mb-0"},{default:t(()=>a[35]||(a[35]=[l(" Tindakan ini tidak dapat dibatalkan! ")])),_:1,__:[35]})]),_:1}),e(ae,null,{default:t(()=>[e(Y),e(g,{variant:"text",onClick:a[13]||(a[13]=i=>J.value=!1)},{default:t(()=>a[36]||(a[36]=[l(" Batal ")])),_:1,__:[36]}),e(g,{color:"error",loading:f(x),onClick:Ce},{default:t(()=>a[37]||(a[37]=[l(" Hapus ")])),_:1,__:[37]},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}}),aa=Re(ht,[["__scopeId","data-v-7ebedb9e"]]);export{aa as default};
