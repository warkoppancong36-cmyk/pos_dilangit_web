import{d as B,au as F,r as d,V as S,c as T,b as s,f as a,j,o as g,e as r,$ as L,g as w,l as x,a0 as y,m as k,s as n}from"./main-R97giqwx.js";import{V as $}from"./VContainer-Qi0oYnnr.js";import{V as E,a as N}from"./VRow-BgL17Z3t.js";import{V as C,b as _,c as q}from"./VCard-DJRWT7L6.js";import{V as h}from"./VCardText-DiEpMQ6l.js";import{V as D}from"./VForm-AiviPr_I.js";import{V as M}from"./VTextField-CF_M1G05.js";import{V as I}from"./VCheckbox-BDQvTdK7.js";import{V as P}from"./VAlert-DOdhsnzD.js";import{V as z}from"./VDivider-CB-4_THw.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css              */import"./VAvatar-Li0HyZyG.js";import"./VImg-BpEKGNdh.js";import"./forwardRefs-B931MWyl.js";import"./VCheckboxBtn-DB2wsXEV.js";const K={class:"auth-page"},O={class:"text-body-2 text-medium-emphasis"},G=B({__name:"login",setup(H){const i=F(),m=j(),t=d({login:"",password:""}),f=d(!1),v=d(!1),u=d(""),p=d(""),c=d(),V={required:l=>!!l||"Field ini wajib diisi"},U=S(()=>t.value.login&&t.value.password),b=l=>i.errors[l]||[],A=async()=>{if(c.value.validate()){u.value="",p.value="",i.clearErrors();try{const l=await i.login({login:t.value.login,password:t.value.password});l.success?(p.value=l.message||"Login berhasil!",setTimeout(()=>{i.isAdmin?m.push("/admin/dashboard"):i.isManager?m.push("/manager/dashboard"):i.isCashier?m.push("/cashier/dashboard"):m.push("/dashboard")},1e3)):u.value=l.message||"Login gagal"}catch(l){u.value=l.message||"Terjadi kesalahan saat login"}}};return(l,e)=>(g(),T("div",K,[s($,{class:"fill-height",fluid:""},{default:a(()=>[s(E,{justify:"center",align:"center"},{default:a(()=>[s(N,{cols:"12",sm:"8",md:"6",lg:"4"},{default:a(()=>[s(C,{class:"elevation-12",rounded:"lg"},{default:a(()=>[s(_,{class:"text-center py-6"},{default:a(()=>e[7]||(e[7]=[r("h2",{class:"text-h4 font-weight-bold"},"POS Login",-1),r("p",{class:"text-subtitle-1 text-medium-emphasis mt-2"}," Masuk ke sistem Point of Sale ",-1)])),_:1,__:[7]}),s(h,null,{default:a(()=>[s(D,{onSubmit:L(A,["prevent"]),ref_key:"form",ref:c},{default:a(()=>[s(M,{modelValue:t.value.login,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.login=o),label:"Username atau Email","prepend-inner-icon":"mdi-account",variant:"outlined",rules:[V.required],"error-messages":b("login"),class:"mb-3"},null,8,["modelValue","rules","error-messages"]),s(M,{modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.password=o),type:f.value?"text":"password",label:"Password","prepend-inner-icon":"mdi-lock","append-inner-icon":f.value?"mdi-eye":"mdi-eye-off","onClick:appendInner":e[2]||(e[2]=o=>f.value=!f.value),variant:"outlined",rules:[V.required],"error-messages":b("password"),class:"mb-3"},null,8,["modelValue","type","append-inner-icon","rules","error-messages"]),s(I,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=o=>v.value=o),label:"Ingat saya",color:"primary","hide-details":"",class:"mb-4"},null,8,["modelValue"]),u.value?(g(),w(P,{key:0,type:"error",variant:"outlined",class:"mb-4",text:u.value,closable:"","onClick:close":e[4]||(e[4]=o=>u.value="")},null,8,["text"])):x("",!0),p.value?(g(),w(P,{key:1,type:"success",variant:"outlined",class:"mb-4",text:p.value,closable:"","onClick:close":e[5]||(e[5]=o=>p.value="")},null,8,["text"])):x("",!0),s(y,{type:"submit",color:"primary",size:"large",block:"",loading:k(i).isLoading,disabled:!U.value},{default:a(()=>e[8]||(e[8]=[n(" Masuk ")])),_:1,__:[8]},8,["loading","disabled"])]),_:1},512)]),_:1}),s(z,{class:"mx-6"}),s(q,{class:"justify-center py-4"},{default:a(()=>[r("p",O,[e[10]||(e[10]=n(" Belum punya akun? ")),s(y,{variant:"text",color:"primary",size:"small",onClick:e[6]||(e[6]=o=>k(m).push("/register"))},{default:a(()=>e[9]||(e[9]=[n(" Daftar disini ")])),_:1,__:[9]})])]),_:1})]),_:1}),s(C,{class:"mt-4",variant:"outlined"},{default:a(()=>[s(_,{class:"text-h6"},{default:a(()=>e[11]||(e[11]=[n("Demo Accounts")])),_:1,__:[11]}),s(h,null,{default:a(()=>e[12]||(e[12]=[r("div",{class:"mb-2"},[r("strong",null,"Super Admin:"),r("br"),n("Username: admin | Password: password123 ")],-1),r("div",{class:"mb-2"},[r("strong",null,"Manager:"),r("br"),n("Username: manager | Password: password123 ")],-1),r("div",null,[r("strong",null,"Kasir:"),r("br"),n("Username: kasir | Password: password123 ")],-1)])),_:1,__:[12]})]),_:1})]),_:1})]),_:1})]),_:1})]))}}),de=R(G,[["__scopeId","data-v-0aadf39b"]]);export{de as default};
