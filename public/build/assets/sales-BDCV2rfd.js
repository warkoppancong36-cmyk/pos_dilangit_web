import{d as Te,r as A,D as Re,c as v,e as r,b as e,m as De,a1 as Y,f as a,ax as Ie,g as O,l as j,X as f,au as oe,av as Oe,j as Ve,o as c,s as y,t as n,F as H,i as F,as as X,a5 as Ne,_ as Ce}from"./main-ty1KRTJn.js";import{C as Ee}from"./auto-Cz6uSJnr.js";import{V as h,b as S}from"./VCard-CsS9dD_V.js";import{V as P,a as _}from"./VRow-CoFMZBg0.js";import{V as x}from"./VCardText-BeSJ0McA.js";import{V as re}from"./VSelect-BKlBMAUD.js";import{V as ne}from"./VTextField-CFY9BbUW.js";import{V as L}from"./VChip-jcZVzdQz.js";import{V as je}from"./VDivider-Dlb0Lzdk.js";import{V as Q}from"./VDataTable-yhkkcy80.js";import{b as ie}from"./route-block-B_A1xBdJ.js";import"./VAvatar-B94a89PO.js";import"./VImg-DdMMVt4S.js";/* empty css              */import"./forwardRefs-B931MWyl.js";import"./VList-C3HMFU6i.js";import"./VOverlay-B-Q2NSgi.js";import"./VMenu-DdYP-ZrW.js";import"./VCheckboxBtn-BXCNf2fe.js";import"./VTable-CCGYyhp1.js";import"./filter-IzpahQ_q.js";const Le={class:"sales-report-page"},Me={class:"d-flex flex-column flex-md-row justify-space-between align-start align-md-center mb-6 ga-4"},$e={class:"d-flex align-center mb-2"},He={key:0,class:"text-center py-8"},Fe={key:1},ze={class:"text-h5 font-weight-bold text-purple"},Be={class:"text-caption text-medium-emphasis mt-1"},Je={class:"text-h5 font-weight-bold text-indigo"},Ke={class:"text-caption text-medium-emphasis mt-1"},Ue={class:"text-h5 font-weight-bold text-success"},Ge={key:0,class:"mt-1"},qe={class:"text-h5 font-weight-bold text-primary"},Ye={class:"text-caption text-medium-emphasis mt-1"},Xe={class:"text-h5 font-weight-bold text-info"},Qe={class:"text-caption text-medium-emphasis mt-1"},We={class:"text-h5 font-weight-bold text-warning"},Ze={class:"text-caption text-medium-emphasis mt-1"},et={key:0},tt={key:1,class:"text-center py-8"},at={class:"top-products-container"},st={class:"d-flex justify-space-between align-center"},lt={class:"d-flex align-center"},ot={class:"font-weight-medium"},rt={class:"text-caption text-medium-emphasis"},nt={class:"text-end"},it={class:"font-weight-bold text-success"},ut={class:"font-weight-bold text-success"},dt={class:"font-weight-bold text-success"},ct={key:0},mt={class:"d-flex justify-space-between align-center"},_t={class:"d-flex align-center gap-2"},pt={class:"font-weight-medium"},vt={class:"text-end"},yt={class:"text-body-2 font-weight-bold"},gt={class:"text-caption text-success"},ft={key:1,class:"text-center py-4"},ht={key:0},xt={class:"d-flex justify-space-between align-center mb-1"},bt={class:"d-flex align-center gap-2"},wt={class:"font-weight-medium"},kt={class:"text-end"},At={class:"d-flex justify-space-between align-center"},Pt={class:"text-body-2"},St={class:"text-body-2 font-weight-bold text-success"},Tt={key:1,class:"text-center py-4"},Rt={class:"text-center"},Dt={class:"text-h6 font-weight-bold text-primary"},It={class:"text-caption text-medium-emphasis mb-1"},Ot={class:"text-body-2 font-weight-medium text-success"},Vt={class:"d-flex align-center gap-2"},Nt={class:"font-weight-medium"},Ct={class:"font-weight-bold"},Et={class:"font-weight-bold text-success"},jt={class:"text-body-2"},Lt={key:2,class:"text-center py-12"},ue=Te({__name:"sales",setup(Mt){const de=Ve(),T=A(!1),z=A(!1),t=A(null),M=A({total_sales:0,total_orders:0,avg_order_value:0}),R=A("month"),D=A(""),C=A(""),E=A(""),B=A();let J=null;const ce=[{title:"Filter per Bulan",value:"month"},{title:"Custom Range",value:"custom"}],w=new Date().getFullYear(),me=[{title:"Januari",value:`${w}-01`},{title:"Februari",value:`${w}-02`},{title:"Maret",value:`${w}-03`},{title:"April",value:`${w}-04`},{title:"Mei",value:`${w}-05`},{title:"Juni",value:`${w}-06`},{title:"Juli",value:`${w}-07`},{title:"Agustus",value:`${w}-08`},{title:"September",value:`${w}-09`},{title:"Oktober",value:`${w}-10`},{title:"November",value:`${w}-11`},{title:"Desember",value:`${w}-12`}],_e=[{title:"Customer",key:"name",align:"start"},{title:"Total Order",key:"orders",align:"center"},{title:"Total Belanja",key:"revenue",align:"end"},{title:"AOV",key:"avg_order",align:"end"}],pe=[{title:"Tanggal",key:"date",align:"start"},{title:"Pendapatan",key:"total",align:"end"}],ve=[{title:"Kategori",key:"category",align:"start"},{title:"Order",key:"orders_count",align:"center"},{title:"Qty Terjual",key:"quantity_sold",align:"center"},{title:"Revenue",key:"revenue",align:"end"},{title:"Harga Rata2",key:"avg_price",align:"end"}],b=l=>typeof l=="string"?l.startsWith("Rp")?l:`Rp ${l}`:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(l),K=l=>new Date(l).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),ye=l=>["warning","success","info","secondary","primary"][l]||"primary",W=l=>l.sort((s,o)=>o.order_count-s.order_count).slice(0,5),ge=(l,s)=>{const o=Math.max(...s.map(d=>d.order_count));return o>0?l/o*100:0},fe=(l,s)=>{const o=Math.max(...s.map(d=>d.order_count));return o>0?l/o*100:0},he=l=>l>=6&&l<12?"mdi-weather-sunny":l>=12&&l<18?"mdi-weather-partly-cloudy":(l>=18&&l<22,"mdi-weather-night"),xe=l=>{switch(l==null?void 0:l.toLowerCase()){case"cash":case"tunai":return"mdi-cash";case"card":case"kartu":return"mdi-credit-card";case"digital":case"e-wallet":return"mdi-cellphone";case"transfer":return"mdi-bank-transfer";default:return"mdi-credit-card-outline"}},U=l=>{switch(l==null?void 0:l.toLowerCase()){case"cash":return"Tunai";case"card":return"Kartu";case"digital":return"Digital";case"transfer":return"Transfer";default:return l||"Lainnya"}},be=()=>{var o,d,I;if(((d=(o=t.value)==null?void 0:o.summary)==null?void 0:d.daily_average_sales)!==void 0)return t.value.summary.daily_average_sales;if(!((I=t.value)!=null&&I.daily_sales)||!Array.isArray(t.value.daily_sales))return 0;const l=t.value.daily_sales.filter(N=>parseFloat(N.revenue)>0);return l.length===0?0:l.reduce((N,$)=>N+(parseFloat($.revenue)||0),0)/l.length},we=()=>{var l,s,o;return((s=(l=t.value)==null?void 0:l.summary)==null?void 0:s.active_days_count)!==void 0?t.value.summary.active_days_count:!((o=t.value)!=null&&o.daily_sales)||!Array.isArray(t.value.daily_sales)?0:t.value.daily_sales.filter(d=>parseFloat(d.revenue)>0).length},ke=()=>{if(R.value==="month"){const l=new Date().toISOString().slice(0,7);D.value=l}V()},V=async()=>{if(!T.value){T.value=!0;try{let l={};if(R.value==="custom")if(C.value&&E.value)l.start_date=C.value,l.end_date=E.value;else{T.value=!1;return}else if(D.value)l.month=D.value;else{T.value=!1;return}const s=await oe.get("/api/reports/sales",{params:l});s.data.success&&(t.value=s.data.data,await Z(),await Oe(),setTimeout(()=>{Ae()},100))}catch(l){console.error("Error loading sales report:",l)}finally{T.value=!1}}},Z=async()=>{try{const l=await oe.get("/api/reports/today-sales");l.data.success&&(M.value=l.data.data)}catch(l){console.error("Error loading today sales:",l),M.value={total_sales:0,total_orders:0,avg_order_value:0}}},Ae=()=>{if(!B.value||!t.value)return;J&&J.destroy();const l=B.value.getContext("2d");if(!l)return;const s=t.value.daily_sales.map(d=>K(d.date)),o=t.value.daily_sales.map(d=>{if(typeof d.total=="string"&&d.total.includes("Rp")){const I=d.total.replace(/\D/g,"");return parseInt(I,10)||0}return typeof d.total=="number"?d.total:0});J=new Ee(l,{type:"line",data:{labels:s,datasets:[{label:"Pendapatan Harian",data:o,borderColor:"rgb(76, 175, 80)",backgroundColor:"rgba(76, 175, 80, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{callback:function(d){return b(d)}}}}}})},Pe=async()=>{var s,o,d,I,N,$,ee,te;if(!t.value){console.warn("No data to export");return}z.value=!0;const l=u=>{if(!u&&u!==0)return"Rp 0";let p=0;try{if(typeof u=="string"&&u.includes("Rp")){const k=u.replace(/\D/g,"");p=parseInt(k,10)}else typeof u=="string"?p=parseFloat(u.replace(/[^\d]/g,"")):typeof u=="number"&&(p=u);return(isNaN(p)||!isFinite(p)||p<0)&&(p=0),`Rp ${p.toLocaleString("id-ID").replace(/,/g,".")}`}catch{return"Rp 0"}};try{const u=await Ne(()=>import("./xlsx-CfQreh1U.js"),[]),p=R.value==="custom"?`${C.value} s/d ${E.value}`:`Bulan ${D.value}`,G=[["LAPORAN PENJUALAN ENHANCED"],["Periode:",p],["Tanggal Export:",new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})],[],["RINGKASAN PENJUALAN"],["Total Order:",t.value.summary.total_orders],["Total Pendapatan:",l(t.value.summary.total_revenue)],["Rata-rata Order (AOV):",l(t.value.summary.average_order)],["Total Item Terjual:",t.value.summary.total_items],["Order Selesai:",t.value.summary.completed_orders],["Order Dibatalkan:",t.value.summary.cancelled_orders],t.value.summary.growth_percentage!==void 0?["Growth vs Periode Sebelumnya:",`${t.value.summary.growth_percentage}%`]:[],[],["ANALISIS CUSTOMER"],["Customer Baru:",((s=t.value.customer_behavior)==null?void 0:s.new_customers)||0],["Returning Customer:",((o=t.value.customer_behavior)==null?void 0:o.returning_customers)||0],["One-time Customer:",((d=t.value.customer_behavior)==null?void 0:d.one_time_customers)||0],["Retention Rate:",`${((I=t.value.customer_behavior)==null?void 0:I.retention_rate)||0}%`],[]],k=u.utils.book_new(),ae=u.utils.aoa_to_sheet(G);if(ae["!cols"]=[{wch:20},{wch:25}],u.utils.book_append_sheet(k,ae,"Ringkasan"),t.value.daily_sales&&t.value.daily_sales.length>0){const g=[["PENJUALAN HARIAN"],["Periode:",p],[],["Tanggal","Total Penjualan"],...t.value.daily_sales.map(i=>[new Date(i.date).toLocaleDateString("id-ID"),l(i.total)])],m=u.utils.aoa_to_sheet(g);m["!cols"]=[{wch:15},{wch:20}],u.utils.book_append_sheet(k,m,"Penjualan Harian")}if(t.value.top_products&&t.value.top_products.length>0){const g=[["PRODUK TERLARIS"],["Periode:",p],[],["No","Nama Produk","Jumlah Terjual","Total Pendapatan"],...t.value.top_products.map((i,q)=>[q+1,i.name,i.quantity,l(i.revenue)])],m=u.utils.aoa_to_sheet(g);m["!cols"]=[{wch:5},{wch:30},{wch:15},{wch:20}],u.utils.book_append_sheet(k,m,"Produk Terlaris")}if(t.value.top_customers&&t.value.top_customers.length>0){const g=[["CUSTOMER TERBAIK - ANALISIS LENGKAP"],["Periode:",p],[],["No","Nama Customer","Jumlah Order","Total Belanja","AOV","Customer Lifetime (hari)"],...t.value.top_customers.map((i,q)=>[q+1,i.name,i.orders,l(i.revenue),l(i.avg_order),i.customer_lifetime||0])],m=u.utils.aoa_to_sheet(g);m["!cols"]=[{wch:5},{wch:25},{wch:15},{wch:20},{wch:15},{wch:20}],u.utils.book_append_sheet(k,m,"Customer Analytics")}if(t.value.peak_hours&&t.value.peak_hours.length>0){const g=[["ANALISIS JAM RAMAI"],["Periode:",p],[],["Jam","Jumlah Order","Total Revenue","AOV"],...t.value.peak_hours.map(i=>[i.hour_display,i.order_count,l(i.revenue),l(i.avg_order)])],m=u.utils.aoa_to_sheet(g);m["!cols"]=[{wch:10},{wch:15},{wch:20},{wch:15}],u.utils.book_append_sheet(k,m,"Peak Hours")}if(t.value.sales_by_day&&t.value.sales_by_day.length>0){const g=[["ANALISIS PENJUALAN PER HARI"],["Periode:",p],[],["Hari","Jumlah Order","Total Revenue","AOV"],...t.value.sales_by_day.map(i=>[i.day_name,i.order_count,l(i.revenue),l(i.avg_order)])],m=u.utils.aoa_to_sheet(g);m["!cols"]=[{wch:15},{wch:15},{wch:20},{wch:15}],u.utils.book_append_sheet(k,m,"Sales by Day")}if(t.value.payment_methods&&t.value.payment_methods.length>0){const g=[["ANALISIS METODE PEMBAYARAN"],["Periode:",p],[],["Metode","Jumlah Order","Total Revenue","AOV","Persentase"],...t.value.payment_methods.map(i=>[U(i.method),i.order_count,l(i.revenue),l(i.avg_order),`${i.percentage}%`])],m=u.utils.aoa_to_sheet(g);m["!cols"]=[{wch:15},{wch:15},{wch:20},{wch:15},{wch:12}],u.utils.book_append_sheet(k,m,"Payment Methods")}if(t.value.category_performance&&t.value.category_performance.length>0){const g=[["PERFORMA KATEGORI PRODUK"],["Periode:",p],[],["Kategori","Order dengan Kategori","Qty Terjual","Total Revenue","Harga Rata-rata"],...t.value.category_performance.map(i=>[i.category,i.orders_count,i.quantity_sold,l(i.revenue),l(i.avg_price)])],m=u.utils.aoa_to_sheet(g);m["!cols"]=[{wch:20},{wch:18},{wch:15},{wch:20},{wch:18}],u.utils.book_append_sheet(k,m,"Category Performance")}const Se=[["BUSINESS INSIGHTS & RECOMMENDATIONS"],["Periode:",p],[],["RINGKASAN PERFORMA"],["Growth Rate:",t.value.summary.growth_percentage!==void 0?`${t.value.summary.growth_percentage}%`:"N/A"],["Customer Retention:",`${((N=t.value.customer_behavior)==null?void 0:N.retention_rate)||0}%`],[],["TOP PERFORMERS"],["Jam Tersibuk:",t.value.peak_hours&&t.value.peak_hours.length>0?($=W(t.value.peak_hours)[0])==null?void 0:$.hour_display:"N/A"],["Hari Terbaik:",t.value.sales_by_day&&t.value.sales_by_day.length>0?(ee=t.value.sales_by_day.sort((g,m)=>m.order_count-g.order_count)[0])==null?void 0:ee.day_name:"N/A"],["Metode Bayar Favorit:",t.value.payment_methods&&t.value.payment_methods.length>0?U((te=t.value.payment_methods[0])==null?void 0:te.method):"N/A"],[],["REKOMENDASI BISNIS"],["1. Optimasi Operasional:","Focus staff scheduling pada jam dan hari ramai"],["2. Customer Retention:","Implementasi loyalty program untuk meningkatkan retention"],["3. Product Strategy:","Push produk top-selling dan evaluasi slow-moving items"],["4. Payment Strategy:","Optimalkan metode pembayaran yang paling disukai customer"],["5. Marketing Time:","Jalankan promosi saat jam dan hari dengan traffic rendah"]],se=u.utils.aoa_to_sheet(Se);se["!cols"]=[{wch:25},{wch:50}],u.utils.book_append_sheet(k,se,"Business Insights");const le=`laporan-penjualan-enhanced-analytics-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.xlsx`;u.writeFile(k,le),console.log("✅ Enhanced Sales Analytics report exported successfully:",le)}catch(u){console.error("Error exporting sales report:",u)}finally{z.value=!1}};return Re(()=>{const l=new Date,s=`${l.getFullYear()}-${String(l.getMonth()+1).padStart(2,"0")}`;D.value=s,V(),Z()}),(l,s)=>(c(),v("div",Le,[r("div",Me,[r("div",null,[r("div",$e,[e(Y,{icon:"mdi-arrow-left",variant:"text",size:"small",onClick:s[0]||(s[0]=o=>De(de).back()),class:"me-2"}),s[5]||(s[5]=r("h1",{class:"text-h4 font-weight-bold"},"Laporan Penjualan",-1))]),s[6]||(s[6]=r("p",{class:"text-body-1 text-medium-emphasis"}," Analisis lengkap penjualan dan performa produk ",-1))]),e(Y,{color:"success","prepend-icon":"mdi-file-excel",onClick:Pe,loading:z.value},{default:a(()=>s[7]||(s[7]=[y(" Export Excel ")])),_:1,__:[7]},8,["loading"])]),e(h,{class:"mb-6"},{default:a(()=>[e(x,null,{default:a(()=>[e(P,null,{default:a(()=>[e(_,{cols:"12",md:"4"},{default:a(()=>[e(re,{modelValue:R.value,"onUpdate:modelValue":[s[1]||(s[1]=o=>R.value=o),ke],items:ce,label:"Pilih Periode",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),R.value==="custom"?(c(),O(_,{key:0,cols:"12",md:"3"},{default:a(()=>[e(ne,{modelValue:C.value,"onUpdate:modelValue":[s[2]||(s[2]=o=>C.value=o),V],type:"date",label:"Tanggal Mulai",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})):j("",!0),R.value==="custom"?(c(),O(_,{key:1,cols:"12",md:"3"},{default:a(()=>[e(ne,{modelValue:E.value,"onUpdate:modelValue":[s[3]||(s[3]=o=>E.value=o),V],type:"date",label:"Tanggal Akhir",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})):(c(),O(_,{key:2,cols:"12",md:"3"},{default:a(()=>[e(re,{modelValue:D.value,"onUpdate:modelValue":[s[4]||(s[4]=o=>D.value=o),V],items:me,label:"Pilih Bulan",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})),e(_,{cols:"12",md:"2"},{default:a(()=>[e(Y,{color:"primary",block:"",onClick:V,loading:T.value},{default:a(()=>s[8]||(s[8]=[y(" Refresh ")])),_:1,__:[8]},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1}),T.value?(c(),v("div",He,[e(Ie,{indeterminate:"",color:"primary",size:"64"}),s[9]||(s[9]=r("p",{class:"text-body-1 mt-4"},"Memuat data laporan...",-1))])):t.value?(c(),v("div",Fe,[e(P,{class:"mb-6"},{default:a(()=>[e(_,{cols:"12",md:"6"},{default:a(()=>[e(h,null,{default:a(()=>[e(x,{class:"text-center"},{default:a(()=>[e(f,{icon:"mdi-calendar-today",size:"32",class:"text-purple mb-2"}),r("div",ze,n(b(M.value.total_sales)),1),s[10]||(s[10]=r("div",{class:"text-body-2 text-medium-emphasis"},"Penjualan Hari Ini",-1)),r("div",Be,n(M.value.total_orders)+" order | "+n(K(new Date)),1)]),_:1,__:[10]})]),_:1})]),_:1}),e(_,{cols:"12",md:"6"},{default:a(()=>[e(h,null,{default:a(()=>[e(x,{class:"text-center"},{default:a(()=>[e(f,{icon:"mdi-chart-bar",size:"32",class:"text-indigo mb-2"}),r("div",Je,n(b(be())),1),s[11]||(s[11]=r("div",{class:"text-body-2 text-medium-emphasis"},"Rata-rata Penjualan Harian",-1)),r("div",Ke," Per "+n(we())+" hari aktif ",1)]),_:1,__:[11]})]),_:1})]),_:1})]),_:1}),e(P,{class:"mb-6"},{default:a(()=>[e(_,{cols:"6",md:"3"},{default:a(()=>[e(h,null,{default:a(()=>[e(x,{class:"text-center"},{default:a(()=>[e(f,{icon:"mdi-currency-usd",size:"32",class:"text-success mb-2"}),r("div",Ue,n(b(t.value.summary.total_revenue)),1),s[12]||(s[12]=r("div",{class:"text-body-2 text-medium-emphasis"},"Total Pendapatan",-1)),t.value.summary.growth_percentage!==void 0?(c(),v("div",Ge,[e(L,{color:t.value.summary.growth_percentage>=0?"success":"error",size:"x-small",variant:"tonal"},{default:a(()=>[y(n(t.value.summary.growth_percentage>=0?"+":"")+n(t.value.summary.growth_percentage)+"% ",1)]),_:1},8,["color"])])):j("",!0)]),_:1,__:[12]})]),_:1})]),_:1}),e(_,{cols:"6",md:"3"},{default:a(()=>[e(h,null,{default:a(()=>[e(x,{class:"text-center"},{default:a(()=>[e(f,{icon:"mdi-cart",size:"32",class:"text-primary mb-2"}),r("div",qe,n(t.value.summary.total_orders),1),s[13]||(s[13]=r("div",{class:"text-body-2 text-medium-emphasis"},"Total Order",-1)),r("div",Ye," AOV: "+n(b(t.value.summary.average_order)),1)]),_:1,__:[13]})]),_:1})]),_:1}),e(_,{cols:"6",md:"3"},{default:a(()=>[e(h,null,{default:a(()=>[e(x,{class:"text-center"},{default:a(()=>[e(f,{icon:"mdi-package",size:"32",class:"text-info mb-2"}),r("div",Xe,n(t.value.summary.total_items),1),s[14]||(s[14]=r("div",{class:"text-body-2 text-medium-emphasis"},"Total Item",-1)),r("div",Qe,n(t.value.summary.completed_orders)+" selesai ",1)]),_:1,__:[14]})]),_:1})]),_:1}),e(_,{cols:"6",md:"3"},{default:a(()=>[e(h,null,{default:a(()=>[e(x,{class:"text-center"},{default:a(()=>{var o,d;return[e(f,{icon:"mdi-account-group",size:"32",class:"text-warning mb-2"}),r("div",We,n(((o=t.value.customer_behavior)==null?void 0:o.new_customers)||0),1),s[15]||(s[15]=r("div",{class:"text-body-2 text-medium-emphasis"},"Customer Baru",-1)),r("div",Ze," Retention: "+n(((d=t.value.customer_behavior)==null?void 0:d.retention_rate)||0)+"% ",1)]}),_:1,__:[15]})]),_:1})]),_:1})]),_:1}),e(P,{class:"mb-6"},{default:a(()=>[e(_,{cols:"12"},{default:a(()=>[e(h,null,{default:a(()=>[e(S,null,{default:a(()=>s[16]||(s[16]=[y("Trend Penjualan Harian")])),_:1,__:[16]}),e(x,null,{default:a(()=>[t.value&&t.value.daily_sales&&t.value.daily_sales.length>0?(c(),v("div",et,[r("canvas",{ref_key:"dailySalesChart",ref:B,class:"w-100",style:{"max-height":"300px"}},null,512)])):(c(),v("div",tt,[e(f,{icon:"mdi-chart-line",size:"48",class:"text-medium-emphasis mb-2"}),s[17]||(s[17]=r("p",{class:"text-body-2 text-medium-emphasis"},"Tidak ada data penjualan harian",-1))]))]),_:1})]),_:1})]),_:1})]),_:1}),e(P,{class:"mb-6"},{default:a(()=>[e(_,{cols:"12",md:"4"},{default:a(()=>[e(h,null,{default:a(()=>[e(S,null,{default:a(()=>s[18]||(s[18]=[y("Top 5 Produk")])),_:1,__:[18]}),e(x,null,{default:a(()=>[r("div",at,[(c(!0),v(H,null,F(t.value.top_products,(o,d)=>(c(),v("div",{key:o.id,class:"mb-3"},[r("div",st,[r("div",lt,[e(L,{color:ye(d),size:"small",class:"me-2"},{default:a(()=>[y(n(d+1),1)]),_:2},1032,["color"]),r("div",null,[r("div",ot,n(o.name),1),r("div",rt,n(o.quantity)+" terjual ",1)])]),r("div",nt,[r("div",it,n(b(o.revenue)),1)])]),d<t.value.top_products.length-1?(c(),O(je,{key:0,class:"mt-3"})):j("",!0)]))),128))])]),_:1})]),_:1})]),_:1}),e(_,{cols:"12",md:"4"},{default:a(()=>[e(h,null,{default:a(()=>[e(S,null,{default:a(()=>s[19]||(s[19]=[y("Top Customer")])),_:1,__:[19]}),e(x,null,{default:a(()=>[e(Q,{headers:_e,items:t.value.top_customers,"items-per-page":5,class:"elevation-0","no-data-text":"Tidak ada data customer"},{"item.orders":a(({item:o})=>[e(L,{size:"small",color:"primary",variant:"tonal"},{default:a(()=>[y(n(o.orders),1)]),_:2},1024)]),"item.revenue":a(({item:o})=>[r("span",ut,n(b(o.revenue)),1)]),_:1},8,["items"])]),_:1})]),_:1})]),_:1}),e(_,{cols:"12",md:"4"},{default:a(()=>[e(h,null,{default:a(()=>[e(S,null,{default:a(()=>s[20]||(s[20]=[y("Penjualan per Hari")])),_:1,__:[20]}),e(x,null,{default:a(()=>[e(Q,{headers:pe,items:t.value.daily_sales,"items-per-page":7,class:"elevation-0","no-data-text":"Tidak ada data penjualan"},{"item.date":a(({item:o})=>[y(n(K(o.date)),1)]),"item.total":a(({item:o})=>[r("span",dt,n(b(o.total)),1)]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1}),e(P,{class:"mb-6"},{default:a(()=>[e(_,{cols:"12",md:"6"},{default:a(()=>[e(h,null,{default:a(()=>[e(S,{class:"d-flex align-center gap-2"},{default:a(()=>[e(f,{icon:"mdi-clock-outline"}),s[21]||(s[21]=y(" Jam Ramai (Peak Hours) "))]),_:1,__:[21]}),e(x,null,{default:a(()=>[t.value.peak_hours&&t.value.peak_hours.length>0?(c(),v("div",ct,[(c(!0),v(H,null,F(W(t.value.peak_hours),o=>(c(),v("div",{key:o.hour,class:"mb-2"},[r("div",mt,[r("div",_t,[e(f,{icon:he(o.hour),size:"16"},null,8,["icon"]),r("span",pt,n(o.hour_display),1)]),r("div",vt,[r("div",yt,n(o.order_count)+" order",1),r("div",gt,n(b(o.revenue)),1)])]),e(X,{"model-value":ge(o.order_count,t.value.peak_hours),color:"primary",height:"4",class:"mt-1"},null,8,["model-value"])]))),128))])):(c(),v("div",ft,s[22]||(s[22]=[r("p",{class:"text-body-2 text-medium-emphasis"},"Tidak ada data jam ramai",-1)])))]),_:1})]),_:1})]),_:1}),e(_,{cols:"12",md:"6"},{default:a(()=>[e(h,null,{default:a(()=>[e(S,{class:"d-flex align-center gap-2"},{default:a(()=>[e(f,{icon:"mdi-credit-card-outline"}),s[23]||(s[23]=y(" Metode Pembayaran "))]),_:1,__:[23]}),e(x,null,{default:a(()=>[t.value.payment_methods&&t.value.payment_methods.length>0?(c(),v("div",ht,[(c(!0),v(H,null,F(t.value.payment_methods,o=>(c(),v("div",{key:o.method,class:"mb-3"},[r("div",xt,[r("div",bt,[e(f,{icon:xe(o.method),size:"16"},null,8,["icon"]),r("span",wt,n(U(o.method)),1)]),r("div",kt,[e(L,{size:"small",color:"primary",variant:"tonal"},{default:a(()=>[y(n(o.percentage)+"% ",1)]),_:2},1024)])]),r("div",At,[r("span",Pt,n(o.order_count)+" transaksi",1),r("span",St,n(b(o.revenue)),1)]),e(X,{"model-value":o.percentage,color:"success",height:"4",class:"mt-1"},null,8,["model-value"])]))),128))])):(c(),v("div",Tt,s[24]||(s[24]=[r("p",{class:"text-body-2 text-medium-emphasis"},"Tidak ada data metode pembayaran",-1)])))]),_:1})]),_:1})]),_:1})]),_:1}),t.value.sales_by_day&&t.value.sales_by_day.length>0?(c(),O(P,{key:0,class:"mb-6"},{default:a(()=>[e(_,{cols:"12"},{default:a(()=>[e(h,null,{default:a(()=>[e(S,{class:"d-flex align-center gap-2"},{default:a(()=>[e(f,{icon:"mdi-calendar-week"}),s[25]||(s[25]=y(" Performa Penjualan per Hari "))]),_:1,__:[25]}),e(x,null,{default:a(()=>[e(P,null,{default:a(()=>[(c(!0),v(H,null,F(t.value.sales_by_day,o=>(c(),O(_,{key:o.day_name,cols:"6",md:"1.7"},{default:a(()=>[r("div",Rt,[r("div",Dt,n(o.order_count),1),r("div",It,n(o.day_name),1),r("div",Ot,n(b(o.revenue)),1),e(X,{"model-value":fe(o.order_count,t.value.sales_by_day),color:"primary",height:"3",class:"mt-1"},null,8,["model-value"])])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):j("",!0),t.value.category_performance&&t.value.category_performance.length>0?(c(),O(P,{key:1,class:"mb-6"},{default:a(()=>[e(_,{cols:"12"},{default:a(()=>[e(h,null,{default:a(()=>[e(S,{class:"d-flex align-center gap-2"},{default:a(()=>[e(f,{icon:"mdi-shape-outline"}),s[26]||(s[26]=y(" Performa Kategori Produk "))]),_:1,__:[26]}),e(x,null,{default:a(()=>[e(Q,{headers:ve,items:t.value.category_performance,"items-per-page":10,class:"elevation-0","no-data-text":"Tidak ada data kategori"},{"item.category":a(({item:o})=>[r("div",Vt,[e(f,{icon:"mdi-tag",size:"16",color:"primary"}),r("span",Nt,n(o.category),1)])]),"item.orders_count":a(({item:o})=>[e(L,{size:"small",color:"info",variant:"tonal"},{default:a(()=>[y(n(o.orders_count),1)]),_:2},1024)]),"item.quantity_sold":a(({item:o})=>[r("span",Ct,n(o.quantity_sold),1)]),"item.revenue":a(({item:o})=>[r("span",Et,n(b(o.revenue)),1)]),"item.avg_price":a(({item:o})=>[r("span",jt,n(b(o.avg_price)),1)]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1})):j("",!0)])):(c(),v("div",Lt,[e(f,{icon:"mdi-chart-line-variant",size:"64",class:"text-medium-emphasis mb-4"}),s[27]||(s[27]=r("h3",{class:"text-h6 mb-2"},"Tidak ada data laporan",-1)),s[28]||(s[28]=r("p",{class:"text-body-2 text-medium-emphasis"}," Silakan pilih periode yang berbeda atau periksa kembali filter Anda ",-1))]))]))}});typeof ie=="function"&&ie(ue);const na=Ce(ue,[["__scopeId","data-v-dba0d44c"]]);export{na as default};
