import{d as be,r as P,D as ke,c as _,e as r,b as e,m as we,a1 as z,f as a,ax as Pe,g as V,l as C,X as y,au as Ae,av as Te,j as Se,o as u,s as v,t as i,F as E,i as F,as as K,a5 as Re,_ as De}from"./main-Cw18omAB.js";import{C as Ve}from"./auto-Cz6uSJnr.js";import{V as h,b as A}from"./VCard-H8GfJNGK.js";import{V as T,a as p}from"./VRow-wOObvuJx.js";import{V as f}from"./VCardText-BiKDAbip.js";import{V as te}from"./VSelect-Cyu-oHo9.js";import{V as ae}from"./VTextField-BZwqaZNs.js";import{V as M}from"./VChip-CI7veU9N.js";import{V as U}from"./VDataTable-CL9F2Tef.js";import{V as Oe}from"./VDivider-D5ZFvcAX.js";import{b as se}from"./route-block-B_A1xBdJ.js";import"./VAvatar-kc2kQPBH.js";import"./VImg-BrAwCls8.js";/* empty css              */import"./forwardRefs-B931MWyl.js";import"./VList-DY0umJOc.js";import"./VOverlay-B1wGu858.js";import"./VMenu-Dsioj_js.js";import"./VCheckboxBtn-CnmeQR-_.js";import"./VTable-8iX-GyoL.js";import"./filter-CEDTK5Ux.js";const Ie={class:"sales-report-page"},Ne={class:"d-flex flex-column flex-md-row justify-space-between align-start align-md-center mb-6 ga-4"},Ce={class:"d-flex align-center mb-2"},Me={key:0,class:"text-center py-8"},Ee={key:1},Fe={class:"text-h5 font-weight-bold text-success"},Le={key:0,class:"mt-1"},je={class:"text-h5 font-weight-bold text-primary"},$e={class:"text-caption text-medium-emphasis mt-1"},He={class:"text-h5 font-weight-bold text-info"},Be={class:"text-caption text-medium-emphasis mt-1"},Je={class:"text-h5 font-weight-bold text-warning"},ze={class:"text-caption text-medium-emphasis mt-1"},Ke={key:0},Ue={class:"d-flex justify-space-between align-center"},Ge={class:"d-flex align-center gap-2"},qe={class:"font-weight-medium"},Ye={class:"text-end"},Xe={class:"text-body-2 font-weight-bold"},Qe={class:"text-caption text-success"},We={key:1,class:"text-center py-4"},Ze={key:0},et={class:"d-flex justify-space-between align-center mb-1"},tt={class:"d-flex align-center gap-2"},at={class:"font-weight-medium"},st={class:"text-end"},lt={class:"d-flex justify-space-between align-center"},ot={class:"text-body-2"},rt={class:"text-body-2 font-weight-bold text-success"},nt={key:1,class:"text-center py-4"},it={class:"text-center"},ut={class:"text-h6 font-weight-bold text-primary"},dt={class:"text-caption text-medium-emphasis mb-1"},ct={class:"text-body-2 font-weight-medium text-success"},mt={class:"d-flex align-center gap-2"},_t={class:"font-weight-medium"},pt={class:"font-weight-bold"},vt={class:"font-weight-bold text-success"},gt={class:"text-body-2"},yt={key:0},ht={key:1,class:"text-center py-8"},ft={class:"top-products-container"},xt={class:"d-flex justify-space-between align-center"},bt={class:"d-flex align-center"},kt={class:"font-weight-medium"},wt={class:"text-caption text-medium-emphasis"},Pt={class:"text-end"},At={class:"font-weight-bold text-success"},Tt={class:"font-weight-bold text-success"},St={class:"font-weight-bold text-success"},Rt={key:2,class:"text-center py-12"},le=be({__name:"sales",setup(Dt){const oe=Se(),S=P(!1),L=P(!1),t=P(null),R=P("month"),D=P(""),I=P(""),N=P(""),j=P();let $=null;const re=[{title:"Filter per Bulan",value:"month"},{title:"Custom Range",value:"custom"}],x=new Date().getFullYear(),ne=[{title:"Januari",value:`${x}-01`},{title:"Februari",value:`${x}-02`},{title:"Maret",value:`${x}-03`},{title:"April",value:`${x}-04`},{title:"Mei",value:`${x}-05`},{title:"Juni",value:`${x}-06`},{title:"Juli",value:`${x}-07`},{title:"Agustus",value:`${x}-08`},{title:"September",value:`${x}-09`},{title:"Oktober",value:`${x}-10`},{title:"November",value:`${x}-11`},{title:"Desember",value:`${x}-12`}],ie=[{title:"Customer",key:"name",align:"start"},{title:"Total Order",key:"orders",align:"center"},{title:"Total Belanja",key:"revenue",align:"end"},{title:"AOV",key:"avg_order",align:"end"}],ue=[{title:"Tanggal",key:"date",align:"start"},{title:"Pendapatan",key:"total",align:"end"}],de=[{title:"Kategori",key:"category",align:"start"},{title:"Order",key:"orders_count",align:"center"},{title:"Qty Terjual",key:"quantity_sold",align:"center"},{title:"Revenue",key:"revenue",align:"end"},{title:"Harga Rata2",key:"avg_price",align:"end"}],b=n=>typeof n=="string"?n.startsWith("Rp")?n:`Rp ${n}`:new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(n),G=n=>new Date(n).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),ce=n=>["warning","success","info","secondary","primary"][n]||"primary",q=n=>n.sort((s,l)=>l.order_count-s.order_count).slice(0,5),me=(n,s)=>{const l=Math.max(...s.map(m=>m.order_count));return l>0?n/l*100:0},_e=(n,s)=>{const l=Math.max(...s.map(m=>m.order_count));return l>0?n/l*100:0},pe=n=>n>=6&&n<12?"mdi-weather-sunny":n>=12&&n<18?"mdi-weather-partly-cloudy":(n>=18&&n<22,"mdi-weather-night"),ve=n=>{switch(n==null?void 0:n.toLowerCase()){case"cash":case"tunai":return"mdi-cash";case"card":case"kartu":return"mdi-credit-card";case"digital":case"e-wallet":return"mdi-cellphone";case"transfer":return"mdi-bank-transfer";default:return"mdi-credit-card-outline"}},H=n=>{switch(n==null?void 0:n.toLowerCase()){case"cash":return"Tunai";case"card":return"Kartu";case"digital":return"Digital";case"transfer":return"Transfer";default:return n||"Lainnya"}},ge=()=>{if(R.value==="month"){const n=new Date().toISOString().slice(0,7);D.value=n}O()},O=async()=>{if(!S.value){S.value=!0;try{let n={};if(R.value==="custom")if(I.value&&N.value)n.start_date=I.value,n.end_date=N.value;else{S.value=!1;return}else if(D.value)n.month=D.value;else{S.value=!1;return}const s=await Ae.get("/api/reports/sales",{params:n});s.data.success&&(t.value=s.data.data,await Te(),setTimeout(()=>{ye()},100))}catch(n){console.error("Error loading sales report:",n)}finally{S.value=!1}}},ye=()=>{if(!j.value||!t.value)return;$&&$.destroy();const n=j.value.getContext("2d");if(!n)return;const s=t.value.daily_sales.map(m=>G(m.date)),l=t.value.daily_sales.map(m=>(typeof m.total=="string"?parseFloat(m.total.replace(/[^\d.-]/g,"")):m.total)||0);$=new Ve(n,{type:"line",data:{labels:s,datasets:[{label:"Pendapatan Harian",data:l,borderColor:"rgb(76, 175, 80)",backgroundColor:"rgba(76, 175, 80, 0.1)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{callback:function(m){return b(m)}}}}}})},he=async()=>{var n,s,l,m,B,Y,X,Q;if(!t.value){console.warn("No data to export");return}L.value=!0;try{const d=await Re(()=>import("./xlsx-CfQreh1U.js"),[]),w=R.value==="custom"?`${I.value} s/d ${N.value}`:`Bulan ${D.value}`,fe=[["LAPORAN PENJUALAN ENHANCED"],["Periode:",w],["Tanggal Export:",new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})],[],["RINGKASAN PENJUALAN"],["Total Order:",t.value.summary.total_orders],["Total Pendapatan:",Math.round(parseFloat(t.value.summary.total_revenue.replace(/[^\d.-]/g,"")))],["Rata-rata Order (AOV):",Math.round(parseFloat(t.value.summary.average_order.replace(/[^\d.-]/g,"")))],["Total Item Terjual:",t.value.summary.total_items],["Order Selesai:",t.value.summary.completed_orders],["Order Dibatalkan:",t.value.summary.cancelled_orders],t.value.summary.growth_percentage!==void 0?["Growth vs Periode Sebelumnya:",`${t.value.summary.growth_percentage}%`]:[],[],["ANALISIS CUSTOMER"],["Customer Baru:",((n=t.value.customer_behavior)==null?void 0:n.new_customers)||0],["Returning Customer:",((s=t.value.customer_behavior)==null?void 0:s.returning_customers)||0],["One-time Customer:",((l=t.value.customer_behavior)==null?void 0:l.one_time_customers)||0],["Retention Rate:",`${((m=t.value.customer_behavior)==null?void 0:m.retention_rate)||0}%`],[]],k=d.utils.book_new(),W=d.utils.aoa_to_sheet(fe);if(W["!cols"]=[{wch:20},{wch:25}],d.utils.book_append_sheet(k,W,"Ringkasan"),t.value.daily_sales&&t.value.daily_sales.length>0){const g=[["PENJUALAN HARIAN"],["Periode:",w],[],["Tanggal","Total Penjualan"],...t.value.daily_sales.map(o=>[new Date(o.date).toLocaleDateString("id-ID"),Math.round(typeof o.total=="string"?parseFloat(o.total.replace(/[^\d.-]/g,"")):o.total)])],c=d.utils.aoa_to_sheet(g);c["!cols"]=[{wch:15},{wch:20}],d.utils.book_append_sheet(k,c,"Penjualan Harian")}if(t.value.top_products&&t.value.top_products.length>0){const g=[["PRODUK TERLARIS"],["Periode:",w],[],["No","Nama Produk","Jumlah Terjual","Total Pendapatan"],...t.value.top_products.map((o,J)=>[J+1,o.name,o.quantity,Math.round(typeof o.revenue=="string"?parseFloat(o.revenue.replace(/[^\d.-]/g,"")):o.revenue||0)])],c=d.utils.aoa_to_sheet(g);c["!cols"]=[{wch:5},{wch:30},{wch:15},{wch:20}],d.utils.book_append_sheet(k,c,"Produk Terlaris")}if(t.value.top_customers&&t.value.top_customers.length>0){const g=[["CUSTOMER TERBAIK - ANALISIS LENGKAP"],["Periode:",w],[],["No","Nama Customer","Jumlah Order","Total Belanja","AOV","Customer Lifetime (hari)"],...t.value.top_customers.map((o,J)=>[J+1,o.name,o.orders,Math.round(typeof o.revenue=="string"?parseFloat(o.revenue.replace(/[^\d.-]/g,"")):o.revenue||0),Math.round(typeof o.avg_order=="string"?parseFloat(o.avg_order.replace(/[^\d.-]/g,"")):o.avg_order||0),o.customer_lifetime||0])],c=d.utils.aoa_to_sheet(g);c["!cols"]=[{wch:5},{wch:25},{wch:15},{wch:20},{wch:15},{wch:20}],d.utils.book_append_sheet(k,c,"Customer Analytics")}if(t.value.peak_hours&&t.value.peak_hours.length>0){const g=[["ANALISIS JAM RAMAI"],["Periode:",w],[],["Jam","Jumlah Order","Total Revenue","AOV"],...t.value.peak_hours.map(o=>[o.hour_display,o.order_count,Math.round(typeof o.revenue=="string"?parseFloat(o.revenue.replace(/[^\d.-]/g,"")):o.revenue||0),Math.round(typeof o.avg_order=="string"?parseFloat(o.avg_order.replace(/[^\d.-]/g,"")):o.avg_order||0)])],c=d.utils.aoa_to_sheet(g);c["!cols"]=[{wch:10},{wch:15},{wch:20},{wch:15}],d.utils.book_append_sheet(k,c,"Peak Hours")}if(t.value.sales_by_day&&t.value.sales_by_day.length>0){const g=[["ANALISIS PENJUALAN PER HARI"],["Periode:",w],[],["Hari","Jumlah Order","Total Revenue","AOV"],...t.value.sales_by_day.map(o=>[o.day_name,o.order_count,Math.round(typeof o.revenue=="string"?parseFloat(o.revenue.replace(/[^\d.-]/g,"")):o.revenue||0),Math.round(typeof o.avg_order=="string"?parseFloat(o.avg_order.replace(/[^\d.-]/g,"")):o.avg_order||0)])],c=d.utils.aoa_to_sheet(g);c["!cols"]=[{wch:15},{wch:15},{wch:20},{wch:15}],d.utils.book_append_sheet(k,c,"Sales by Day")}if(t.value.payment_methods&&t.value.payment_methods.length>0){const g=[["ANALISIS METODE PEMBAYARAN"],["Periode:",w],[],["Metode","Jumlah Order","Total Revenue","AOV","Persentase"],...t.value.payment_methods.map(o=>[H(o.method),o.order_count,Math.round(typeof o.revenue=="string"?parseFloat(o.revenue.replace(/[^\d.-]/g,"")):o.revenue||0),Math.round(typeof o.avg_order=="string"?parseFloat(o.avg_order.replace(/[^\d.-]/g,"")):o.avg_order||0),`${o.percentage}%`])],c=d.utils.aoa_to_sheet(g);c["!cols"]=[{wch:15},{wch:15},{wch:20},{wch:15},{wch:12}],d.utils.book_append_sheet(k,c,"Payment Methods")}if(t.value.category_performance&&t.value.category_performance.length>0){const g=[["PERFORMA KATEGORI PRODUK"],["Periode:",w],[],["Kategori","Order dengan Kategori","Qty Terjual","Total Revenue","Harga Rata-rata"],...t.value.category_performance.map(o=>[o.category,o.orders_count,o.quantity_sold,Math.round(typeof o.revenue=="string"?parseFloat(o.revenue.replace(/[^\d.-]/g,"")):o.revenue||0),Math.round(typeof o.avg_price=="string"?parseFloat(o.avg_price.replace(/[^\d.-]/g,"")):o.avg_price||0)])],c=d.utils.aoa_to_sheet(g);c["!cols"]=[{wch:20},{wch:18},{wch:15},{wch:20},{wch:18}],d.utils.book_append_sheet(k,c,"Category Performance")}const xe=[["BUSINESS INSIGHTS & RECOMMENDATIONS"],["Periode:",w],[],["RINGKASAN PERFORMA"],["Growth Rate:",t.value.summary.growth_percentage!==void 0?`${t.value.summary.growth_percentage}%`:"N/A"],["Customer Retention:",`${((B=t.value.customer_behavior)==null?void 0:B.retention_rate)||0}%`],[],["TOP PERFORMERS"],["Jam Tersibuk:",t.value.peak_hours&&t.value.peak_hours.length>0?(Y=q(t.value.peak_hours)[0])==null?void 0:Y.hour_display:"N/A"],["Hari Terbaik:",t.value.sales_by_day&&t.value.sales_by_day.length>0?(X=t.value.sales_by_day.sort((g,c)=>c.order_count-g.order_count)[0])==null?void 0:X.day_name:"N/A"],["Metode Bayar Favorit:",t.value.payment_methods&&t.value.payment_methods.length>0?H((Q=t.value.payment_methods[0])==null?void 0:Q.method):"N/A"],[],["REKOMENDASI BISNIS"],["1. Optimasi Operasional:","Focus staff scheduling pada jam dan hari ramai"],["2. Customer Retention:","Implementasi loyalty program untuk meningkatkan retention"],["3. Product Strategy:","Push produk top-selling dan evaluasi slow-moving items"],["4. Payment Strategy:","Optimalkan metode pembayaran yang paling disukai customer"],["5. Marketing Time:","Jalankan promosi saat jam dan hari dengan traffic rendah"]],Z=d.utils.aoa_to_sheet(xe);Z["!cols"]=[{wch:25},{wch:50}],d.utils.book_append_sheet(k,Z,"Business Insights");const ee=`laporan-penjualan-enhanced-analytics-${new Date().toISOString().slice(0,19).replace(/:/g,"-")}.xlsx`;d.writeFile(k,ee),console.log("✅ Enhanced Sales Analytics report exported successfully:",ee)}catch(d){console.error("Error exporting sales report:",d)}finally{L.value=!1}};return ke(()=>{const n=new Date,s=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;D.value=s,O()}),(n,s)=>(u(),_("div",Ie,[r("div",Ne,[r("div",null,[r("div",Ce,[e(z,{icon:"mdi-arrow-left",variant:"text",size:"small",onClick:s[0]||(s[0]=l=>we(oe).back()),class:"me-2"}),s[5]||(s[5]=r("h1",{class:"text-h4 font-weight-bold"},"Laporan Penjualan",-1))]),s[6]||(s[6]=r("p",{class:"text-body-1 text-medium-emphasis"}," Analisis lengkap penjualan dan performa produk ",-1))]),e(z,{color:"success","prepend-icon":"mdi-file-excel",onClick:he,loading:L.value},{default:a(()=>s[7]||(s[7]=[v(" Export Excel ")])),_:1,__:[7]},8,["loading"])]),e(h,{class:"mb-6"},{default:a(()=>[e(f,null,{default:a(()=>[e(T,null,{default:a(()=>[e(p,{cols:"12",md:"4"},{default:a(()=>[e(te,{modelValue:R.value,"onUpdate:modelValue":[s[1]||(s[1]=l=>R.value=l),ge],items:re,label:"Pilih Periode",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),R.value==="custom"?(u(),V(p,{key:0,cols:"12",md:"3"},{default:a(()=>[e(ae,{modelValue:I.value,"onUpdate:modelValue":[s[2]||(s[2]=l=>I.value=l),O],type:"date",label:"Tanggal Mulai",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})):C("",!0),R.value==="custom"?(u(),V(p,{key:1,cols:"12",md:"3"},{default:a(()=>[e(ae,{modelValue:N.value,"onUpdate:modelValue":[s[3]||(s[3]=l=>N.value=l),O],type:"date",label:"Tanggal Akhir",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})):(u(),V(p,{key:2,cols:"12",md:"3"},{default:a(()=>[e(te,{modelValue:D.value,"onUpdate:modelValue":[s[4]||(s[4]=l=>D.value=l),O],items:ne,label:"Pilih Bulan",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})),e(p,{cols:"12",md:"2"},{default:a(()=>[e(z,{color:"primary",block:"",onClick:O,loading:S.value},{default:a(()=>s[8]||(s[8]=[v(" Refresh ")])),_:1,__:[8]},8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1}),S.value?(u(),_("div",Me,[e(Pe,{indeterminate:"",color:"primary",size:"64"}),s[9]||(s[9]=r("p",{class:"text-body-1 mt-4"},"Memuat data laporan...",-1))])):t.value?(u(),_("div",Ee,[e(T,{class:"mb-6"},{default:a(()=>[e(p,{cols:"6",md:"3"},{default:a(()=>[e(h,null,{default:a(()=>[e(f,{class:"text-center"},{default:a(()=>[e(y,{icon:"mdi-currency-usd",size:"32",class:"text-success mb-2"}),r("div",Fe,i(b(t.value.summary.total_revenue)),1),s[10]||(s[10]=r("div",{class:"text-body-2 text-medium-emphasis"},"Total Pendapatan",-1)),t.value.summary.growth_percentage!==void 0?(u(),_("div",Le,[e(M,{color:t.value.summary.growth_percentage>=0?"success":"error",size:"x-small",variant:"tonal"},{default:a(()=>[v(i(t.value.summary.growth_percentage>=0?"+":"")+i(t.value.summary.growth_percentage)+"% ",1)]),_:1},8,["color"])])):C("",!0)]),_:1,__:[10]})]),_:1})]),_:1}),e(p,{cols:"6",md:"3"},{default:a(()=>[e(h,null,{default:a(()=>[e(f,{class:"text-center"},{default:a(()=>[e(y,{icon:"mdi-cart",size:"32",class:"text-primary mb-2"}),r("div",je,i(t.value.summary.total_orders),1),s[11]||(s[11]=r("div",{class:"text-body-2 text-medium-emphasis"},"Total Order",-1)),r("div",$e," AOV: "+i(b(t.value.summary.average_order)),1)]),_:1,__:[11]})]),_:1})]),_:1}),e(p,{cols:"6",md:"3"},{default:a(()=>[e(h,null,{default:a(()=>[e(f,{class:"text-center"},{default:a(()=>[e(y,{icon:"mdi-package",size:"32",class:"text-info mb-2"}),r("div",He,i(t.value.summary.total_items),1),s[12]||(s[12]=r("div",{class:"text-body-2 text-medium-emphasis"},"Total Item",-1)),r("div",Be,i(t.value.summary.completed_orders)+" selesai ",1)]),_:1,__:[12]})]),_:1})]),_:1}),e(p,{cols:"6",md:"3"},{default:a(()=>[e(h,null,{default:a(()=>[e(f,{class:"text-center"},{default:a(()=>{var l,m;return[e(y,{icon:"mdi-account-group",size:"32",class:"text-warning mb-2"}),r("div",Je,i(((l=t.value.customer_behavior)==null?void 0:l.new_customers)||0),1),s[13]||(s[13]=r("div",{class:"text-body-2 text-medium-emphasis"},"Customer Baru",-1)),r("div",ze," Retention: "+i(((m=t.value.customer_behavior)==null?void 0:m.retention_rate)||0)+"% ",1)]}),_:1,__:[13]})]),_:1})]),_:1})]),_:1}),e(T,{class:"mb-6"},{default:a(()=>[e(p,{cols:"12",md:"6"},{default:a(()=>[e(h,null,{default:a(()=>[e(A,{class:"d-flex align-center gap-2"},{default:a(()=>[e(y,{icon:"mdi-clock-outline"}),s[14]||(s[14]=v(" Jam Ramai (Peak Hours) "))]),_:1,__:[14]}),e(f,null,{default:a(()=>[t.value.peak_hours&&t.value.peak_hours.length>0?(u(),_("div",Ke,[(u(!0),_(E,null,F(q(t.value.peak_hours),l=>(u(),_("div",{key:l.hour,class:"mb-2"},[r("div",Ue,[r("div",Ge,[e(y,{icon:pe(l.hour),size:"16"},null,8,["icon"]),r("span",qe,i(l.hour_display),1)]),r("div",Ye,[r("div",Xe,i(l.order_count)+" order",1),r("div",Qe,i(b(l.revenue)),1)])]),e(K,{"model-value":me(l.order_count,t.value.peak_hours),color:"primary",height:"4",class:"mt-1"},null,8,["model-value"])]))),128))])):(u(),_("div",We,s[15]||(s[15]=[r("p",{class:"text-body-2 text-medium-emphasis"},"Tidak ada data jam ramai",-1)])))]),_:1})]),_:1})]),_:1}),e(p,{cols:"12",md:"6"},{default:a(()=>[e(h,null,{default:a(()=>[e(A,{class:"d-flex align-center gap-2"},{default:a(()=>[e(y,{icon:"mdi-credit-card-outline"}),s[16]||(s[16]=v(" Metode Pembayaran "))]),_:1,__:[16]}),e(f,null,{default:a(()=>[t.value.payment_methods&&t.value.payment_methods.length>0?(u(),_("div",Ze,[(u(!0),_(E,null,F(t.value.payment_methods,l=>(u(),_("div",{key:l.method,class:"mb-3"},[r("div",et,[r("div",tt,[e(y,{icon:ve(l.method),size:"16"},null,8,["icon"]),r("span",at,i(H(l.method)),1)]),r("div",st,[e(M,{size:"small",color:"primary",variant:"tonal"},{default:a(()=>[v(i(l.percentage)+"% ",1)]),_:2},1024)])]),r("div",lt,[r("span",ot,i(l.order_count)+" transaksi",1),r("span",rt,i(b(l.revenue)),1)]),e(K,{"model-value":l.percentage,color:"success",height:"4",class:"mt-1"},null,8,["model-value"])]))),128))])):(u(),_("div",nt,s[17]||(s[17]=[r("p",{class:"text-body-2 text-medium-emphasis"},"Tidak ada data metode pembayaran",-1)])))]),_:1})]),_:1})]),_:1})]),_:1}),t.value.sales_by_day&&t.value.sales_by_day.length>0?(u(),V(T,{key:0,class:"mb-6"},{default:a(()=>[e(p,{cols:"12"},{default:a(()=>[e(h,null,{default:a(()=>[e(A,{class:"d-flex align-center gap-2"},{default:a(()=>[e(y,{icon:"mdi-calendar-week"}),s[18]||(s[18]=v(" Performa Penjualan per Hari "))]),_:1,__:[18]}),e(f,null,{default:a(()=>[e(T,null,{default:a(()=>[(u(!0),_(E,null,F(t.value.sales_by_day,l=>(u(),V(p,{key:l.day_name,cols:"6",md:"1.7"},{default:a(()=>[r("div",it,[r("div",ut,i(l.order_count),1),r("div",dt,i(l.day_name),1),r("div",ct,i(b(l.revenue)),1),e(K,{"model-value":_e(l.order_count,t.value.sales_by_day),color:"primary",height:"3",class:"mt-1"},null,8,["model-value"])])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):C("",!0),t.value.category_performance&&t.value.category_performance.length>0?(u(),V(T,{key:1,class:"mb-6"},{default:a(()=>[e(p,{cols:"12"},{default:a(()=>[e(h,null,{default:a(()=>[e(A,{class:"d-flex align-center gap-2"},{default:a(()=>[e(y,{icon:"mdi-shape-outline"}),s[19]||(s[19]=v(" Performa Kategori Produk "))]),_:1,__:[19]}),e(f,null,{default:a(()=>[e(U,{headers:de,items:t.value.category_performance,"items-per-page":10,class:"elevation-0","no-data-text":"Tidak ada data kategori"},{"item.category":a(({item:l})=>[r("div",mt,[e(y,{icon:"mdi-tag",size:"16",color:"primary"}),r("span",_t,i(l.category),1)])]),"item.orders_count":a(({item:l})=>[e(M,{size:"small",color:"info",variant:"tonal"},{default:a(()=>[v(i(l.orders_count),1)]),_:2},1024)]),"item.quantity_sold":a(({item:l})=>[r("span",pt,i(l.quantity_sold),1)]),"item.revenue":a(({item:l})=>[r("span",vt,i(b(l.revenue)),1)]),"item.avg_price":a(({item:l})=>[r("span",gt,i(b(l.avg_price)),1)]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1})):C("",!0),e(T,{class:"mb-6"},{default:a(()=>[e(p,{cols:"12",md:"8"},{default:a(()=>[e(h,null,{default:a(()=>[e(A,null,{default:a(()=>s[20]||(s[20]=[v("Trend Penjualan Harian")])),_:1,__:[20]}),e(f,null,{default:a(()=>[t.value&&t.value.daily_sales&&t.value.daily_sales.length>0?(u(),_("div",yt,[r("canvas",{ref_key:"dailySalesChart",ref:j,class:"w-100",style:{"max-height":"300px"}},null,512)])):(u(),_("div",ht,[e(y,{icon:"mdi-chart-line",size:"48",class:"text-medium-emphasis mb-2"}),s[21]||(s[21]=r("p",{class:"text-body-2 text-medium-emphasis"},"Tidak ada data penjualan harian",-1))]))]),_:1})]),_:1})]),_:1}),e(p,{cols:"12",md:"4"},{default:a(()=>[e(h,null,{default:a(()=>[e(A,null,{default:a(()=>s[22]||(s[22]=[v("Top 5 Produk")])),_:1,__:[22]}),e(f,null,{default:a(()=>[r("div",ft,[(u(!0),_(E,null,F(t.value.top_products,(l,m)=>(u(),_("div",{key:l.id,class:"mb-3"},[r("div",xt,[r("div",bt,[e(M,{color:ce(m),size:"small",class:"me-2"},{default:a(()=>[v(i(m+1),1)]),_:2},1032,["color"]),r("div",null,[r("div",kt,i(l.name),1),r("div",wt,i(l.quantity)+" terjual ",1)])]),r("div",Pt,[r("div",At,i(b(l.revenue)),1)])]),m<t.value.top_products.length-1?(u(),V(Oe,{key:0,class:"mt-3"})):C("",!0)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}),e(T,null,{default:a(()=>[e(p,{cols:"12",md:"6"},{default:a(()=>[e(h,null,{default:a(()=>[e(A,null,{default:a(()=>s[23]||(s[23]=[v("Top Customer")])),_:1,__:[23]}),e(f,null,{default:a(()=>[e(U,{headers:ie,items:t.value.top_customers,"items-per-page":5,class:"elevation-0","no-data-text":"Tidak ada data customer"},{"item.orders":a(({item:l})=>[e(M,{size:"small",color:"primary",variant:"tonal"},{default:a(()=>[v(i(l.orders),1)]),_:2},1024)]),"item.revenue":a(({item:l})=>[r("span",Tt,i(b(l.revenue)),1)]),_:1},8,["items"])]),_:1})]),_:1})]),_:1}),e(p,{cols:"12",md:"6"},{default:a(()=>[e(h,null,{default:a(()=>[e(A,null,{default:a(()=>s[24]||(s[24]=[v("Penjualan per Hari")])),_:1,__:[24]}),e(f,null,{default:a(()=>[e(U,{headers:ue,items:t.value.daily_sales,"items-per-page":7,class:"elevation-0","no-data-text":"Tidak ada data penjualan"},{"item.date":a(({item:l})=>[v(i(G(l.date)),1)]),"item.total":a(({item:l})=>[r("span",St,i(b(l.total)),1)]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})]),_:1})])):(u(),_("div",Rt,[e(y,{icon:"mdi-chart-line-variant",size:"64",class:"text-medium-emphasis mb-4"}),s[25]||(s[25]=r("h3",{class:"text-h6 mb-2"},"Tidak ada data laporan",-1)),s[26]||(s[26]=r("p",{class:"text-body-2 text-medium-emphasis"}," Silakan pilih periode yang berbeda atau periksa kembali filter Anda ",-1))]))]))}});typeof se=="function"&&se(le);const Wt=De(le,[["__scopeId","data-v-dcfa7e7d"]]);export{Wt as default};
