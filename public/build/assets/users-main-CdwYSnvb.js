import{r as h,az as q,V as C,d as Y,c as x,l as Z,e,t as w,v as G,a0 as oe,o as y,D as le,b as re,s as V,m as W,H as A,ci as ne,cu as X,F as I,i as J,_ as ie}from"./main-B4bRsCQJ.js";import{$ as _}from"./api-Dpkp4gvT.js";import"./index-D-EbNoF1.js";function de(){const d=h([]),u=h(null),o=h(!1),n=h(null),j=h({current_page:1,last_page:1,per_page:15,total:0,from:0,to:0}),b=q({search:"",status:"all",role_id:void 0,sort_by:"name",sort_order:"asc"}),S=C(()=>d.value.length>0),P=C(()=>!o.value&&d.value.length===0),$=C(()=>d.value.filter(c=>c.is_active)),R=C(()=>d.value.filter(c=>!c.is_active)),k=async(c=1,m={})=>{var p,v;o.value=!0,n.value=null;try{const s=new URLSearchParams({page:c.toString(),per_page:j.value.per_page.toString(),...Object.fromEntries(Object.entries(b).filter(([r,f])=>f!==void 0&&f!==""&&f!==null)),...m}),a=await _(`/api/users?${s}`);a.data&&(d.value=a.data.data||a.data,a.meta&&(j.value={current_page:a.meta.current_page,last_page:a.meta.last_page,per_page:a.meta.per_page,total:a.meta.total,from:a.meta.from,to:a.meta.to}))}catch(s){n.value=((v=(p=s.response)==null?void 0:p.data)==null?void 0:v.message)||"Failed to fetch users",console.error("Error fetching users:",s)}finally{o.value=!1}},L=async c=>{var m,p;o.value=!0,n.value=null;try{const v=await _(`/api/users/${c}`);return u.value=v.data,v.data}catch(v){throw n.value=((p=(m=v.response)==null?void 0:m.data)==null?void 0:p.message)||"Failed to fetch user",console.error("Error fetching user:",v),v}finally{o.value=!1}},z=async c=>{var m,p;o.value=!0,n.value=null;try{const v=await _("/api/users",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}});return d.value.unshift(v.data),v.data}catch(v){throw n.value=((p=(m=v.response)==null?void 0:m.data)==null?void 0:p.message)||"Failed to create user",console.error("Error creating user:",v),v}finally{o.value=!1}},D=async(c,m)=>{var p,v,s;o.value=!0,n.value=null;try{const a=await _(`/api/users/${c}`,{method:"PUT",body:JSON.stringify(m),headers:{"Content-Type":"application/json"}}),r=d.value.findIndex(f=>f.id===c);return r!==-1&&(d.value[r]=a.data),((p=u.value)==null?void 0:p.id)===c&&(u.value=a.data),a.data}catch(a){throw n.value=((s=(v=a.response)==null?void 0:v.data)==null?void 0:s.message)||"Failed to update user",console.error("Error updating user:",a),a}finally{o.value=!1}};return{users:d,user:u,loading:o,error:n,pagination:j,filters:b,hasUsers:S,isEmpty:P,activeUsers:$,inactiveUsers:R,fetchUsers:k,fetchUser:L,createUser:z,updateUser:D,deleteUser:async c=>{var m,p,v;o.value=!0,n.value=null;try{await _(`/api/users/${c}`,{method:"DELETE"});const s=d.value.findIndex(a=>a.id===c);s!==-1&&d.value.splice(s,1),((m=u.value)==null?void 0:m.id)===c&&(u.value=null)}catch(s){throw n.value=((v=(p=s.response)==null?void 0:p.data)==null?void 0:v.message)||"Failed to delete user",console.error("Error deleting user:",s),s}finally{o.value=!1}},updateUserStatus:async(c,m)=>D(c,{is_active:m}),assignRoles:async(c,m)=>{var p,v;o.value=!0,n.value=null;try{const s=await _(`/api/users/${c}/roles`,{method:"POST",body:JSON.stringify({role_ids:m}),headers:{"Content-Type":"application/json"}}),a=d.value.findIndex(r=>r.id===c);return a!==-1&&(d.value[a]=s.data),s.data}catch(s){throw n.value=((v=(p=s.response)==null?void 0:p.data)==null?void 0:v.message)||"Failed to assign roles",console.error("Error assigning roles:",s),s}finally{o.value=!1}},searchUsers:async c=>(b.search=c,k(1)),filterUsers:async c=>(Object.assign(b,c),k(1)),resetFilters:()=>{Object.assign(b,{search:"",is_active:void 0,role_id:void 0,sort_by:"name",sort_order:"asc"})}}}function ue(){const d=h([]),u=h(null),o=h(!1),n=h(null),j=q({current_page:1,last_page:1,per_page:20,total:0,from:0,to:0}),b=q({search:"",is_active:void 0,sort_by:"sort_order",sort_order:"asc"}),S=C(()=>d.value.length>0),P=C(()=>!o.value&&!S.value),$=C(()=>d.value.filter(s=>s.is_active)),R=C(()=>d.value.filter(s=>!s.is_active)),k=async(s=1)=>{o.value=!0,n.value=null;try{const a=new URLSearchParams({page:s.toString(),per_page:j.per_page.toString(),...Object.fromEntries(Object.entries(b).filter(([f,g])=>g!==void 0&&g!==""&&g!==null))}),r=await _(`/api/roles?${a}`);d.value=r.data,Object.assign(j,{current_page:r.current_page,last_page:r.last_page,per_page:r.per_page,total:r.total,from:r.from,to:r.to})}catch(a){n.value=a.message||"Failed to fetch roles",d.value=[]}finally{o.value=!1}};return{roles:d,role:u,loading:o,error:n,pagination:j,filters:b,hasRoles:S,isEmpty:P,activeRoles:$,inactiveRoles:R,fetchRoles:k,fetchRole:async s=>{o.value=!0,n.value=null;try{const a=await _(`/api/roles/${s}`);u.value=a.data}catch(a){n.value=a.message||"Failed to fetch role",u.value=null}finally{o.value=!1}},createRole:async s=>{o.value=!0,n.value=null;try{const a=await _("/api/roles",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}});return d.value.push(a.data),a.data}catch(a){throw n.value=a.message||"Failed to create role",a}finally{o.value=!1}},updateRole:async(s,a)=>{o.value=!0,n.value=null;try{const r=await _(`/api/roles/${s}`,{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}),f=d.value.findIndex(g=>g.id===s);return f!==-1&&(d.value[f]=r.data),u.value&&u.value.id===s&&(u.value=r.data),r.data}catch(r){throw n.value=r.message||"Failed to update role",r}finally{o.value=!1}},updateRolePermissions:async(s,a)=>{o.value=!0,n.value=null;try{const r=await _(`/api/roles/${s}/permissions`,{method:"PUT",body:{permission_ids:a}}),f=d.value.findIndex(g=>g.id===s);return f!==-1&&(d.value[f]={...d.value[f],...r.data}),r}catch(r){throw n.value=r instanceof Error?r.message:"Failed to update role permissions",r}finally{o.value=!1}},deleteRole:async s=>{o.value=!0,n.value=null;try{await _(`/api/roles/${s}`,{method:"DELETE"}),d.value=d.value.filter(a=>a.id!==s),u.value&&u.value.id===s&&(u.value=null)}catch(a){throw n.value=a.message||"Failed to delete role",a}finally{o.value=!1}},assignPermissions:async(s,a)=>{o.value=!0,n.value=null;try{const r=await _(`/api/roles/${s}/permissions`,{method:"POST",body:JSON.stringify({permission_ids:a}),headers:{"Content-Type":"application/json"}}),f=d.value.findIndex(g=>g.id===s);return f!==-1&&(d.value[f]=r.data),r.data}catch(r){throw n.value=r.message||"Failed to assign permissions",r}finally{o.value=!1}},getRolePermissions:async s=>{o.value=!0,n.value=null;try{return(await _(`/api/roles/${s}/permissions`)).data}catch(a){return n.value=a.message||"Failed to fetch role permissions",[]}finally{o.value=!1}},getRoleUsers:async s=>{o.value=!0,n.value=null;try{return(await _(`/api/roles/${s}/users`)).data}catch(a){return n.value=a.message||"Failed to fetch role users",[]}finally{o.value=!1}},duplicateRole:async(s,a)=>{o.value=!0,n.value=null;try{const r=await _(`/api/roles/${s}/duplicate`,{method:"POST",body:JSON.stringify({name:a}),headers:{"Content-Type":"application/json"}});return d.value.push(r.data),r.data}catch(r){throw n.value=r.message||"Failed to duplicate role",r}finally{o.value=!1}},searchRoles:async s=>{b.search=s,await k(1)},filterRoles:async s=>{Object.assign(b,s),await k(1)},resetFilters:async()=>{Object.assign(b,{search:"",is_active:void 0,sort_by:"sort_order",sort_order:"asc"}),await k(1)},sortRoles:(s,a="asc")=>{d.value.sort((r,f)=>{let g=r[s],M=f[s];return typeof g=="string"&&typeof M=="string"&&(g=g.toLowerCase(),M=M.toLowerCase()),a==="asc"?g<M?-1:g>M?1:0:g>M?-1:g<M?1:0})}}}const ce={class:"mt-3 text-center"},ve={class:"text-lg leading-6 font-medium text-gray-900 mt-4"},pe={class:"mt-2 px-7 py-3"},fe={class:"text-sm text-gray-500"},me={class:"flex items-center justify-center space-x-4 px-4 py-3"},ge=Y({__name:"SimpleConfirmDialog",props:{show:{type:Boolean},title:{},message:{},confirmText:{default:"Confirm"},cancelText:{default:"Cancel"},confirmClass:{default:""}},emits:["confirm","cancel"],setup(d){return(u,o)=>u.show?(y(),x("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:o[3]||(o[3]=n=>u.$emit("cancel"))},[e("div",{class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",onClick:o[2]||(o[2]=oe(()=>{},["stop"]))},[e("div",ce,[o[4]||(o[4]=e("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},[e("svg",{class:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("h3",ve,w(u.title),1),e("div",pe,[e("p",fe,w(u.message),1)]),e("div",me,[e("button",{onClick:o[0]||(o[0]=n=>u.$emit("cancel")),type:"button",class:"px-4 py-2 bg-white border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},w(u.cancelText),1),e("button",{onClick:o[1]||(o[1]=n=>u.$emit("confirm")),type:"button",class:G(["px-4 py-2 border border-transparent rounded-md text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2",u.confirmClass||"bg-red-600 hover:bg-red-700 focus:ring-red-500"])},w(u.confirmText),3)])])])])):Z("",!0)}}),he={class:"user-management"},xe={class:"page-header"},ye={class:"flex justify-between items-center mb-6"},we={class:"flex gap-3"},_e={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},be={class:"bg-white rounded-lg shadow p-6"},ke={class:"flex items-center"},Ce={class:"ml-5 w-0 flex-1"},Ue={class:"text-lg font-medium text-gray-900"},je={class:"bg-white rounded-lg shadow p-6"},Re={class:"flex items-center"},Me={class:"ml-5 w-0 flex-1"},$e={class:"text-lg font-medium text-gray-900"},Te={class:"bg-white rounded-lg shadow p-6"},Se={class:"flex items-center"},Fe={class:"ml-5 w-0 flex-1"},Oe={class:"text-lg font-medium text-gray-900"},Pe={class:"bg-white rounded-lg shadow p-6"},De={class:"flex items-center"},Ee={class:"ml-5 w-0 flex-1"},Le={class:"text-lg font-medium text-gray-900"},ze={class:"bg-white rounded-lg shadow mb-6"},Be={class:"px-6 py-4 border-b border-gray-200"},He={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4"},Ne={class:"flex flex-col sm:flex-row items-start sm:items-center gap-3 w-full sm:w-auto"},Ve=["value"],Ae={key:0,class:"p-6 text-center"},Ie={key:1,class:"p-12 text-center"},Je={key:2,class:"overflow-x-auto"},qe={class:"min-w-full divide-y divide-gray-200"},Ge={class:"bg-white divide-y divide-gray-200"},Qe={class:"px-6 py-4 whitespace-nowrap"},Ke={class:"flex items-center"},We={class:"flex-shrink-0 h-10 w-10"},Xe=["src","alt"],Ye={key:1,class:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center"},Ze={class:"text-sm font-medium text-gray-700"},et={class:"ml-4"},tt={class:"text-sm font-medium text-gray-900"},st={class:"text-sm text-gray-500"},at={class:"px-6 py-4 whitespace-nowrap"},ot={class:"flex flex-wrap gap-1"},lt=["onClick"],rt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},nt={key:0},it={class:"text-xs text-gray-400"},dt={key:1,class:"text-gray-400"},ut={class:"px-6 py-4 whitespace-nowrap"},ct={class:"flex items-center"},vt={key:0,class:"ml-2 flex-shrink-0 w-2 h-2 bg-green-400 rounded-full",title:"Online"},pt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ft={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},mt={class:"flex items-center justify-end space-x-2"},gt=["onClick"],ht=["onClick"],xt=["onClick","title"],yt={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},wt={key:1,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},_t=["onClick"],bt=Y({__name:"users-main",setup(d){const{users:u,loading:o,fetchUsers:n,deleteUser:j,updateUser:b}=de(),{roles:S,fetchRoles:P}=ue(),$=h(""),R=h(""),k=h(""),L=h(!1),z=h(!1),D=h(!1),H=h(!1),O=h(!1),E=h(null),F=h(null),N=C(()=>o.value),B=C(()=>{let i=u.value;if($.value){const t=$.value.toLowerCase();i=i.filter(U=>U.name.toLowerCase().includes(t)||U.email.toLowerCase().includes(t))}return R.value&&(R.value==="active"?i=i.filter(t=>t.is_active):R.value==="inactive"&&(i=i.filter(t=>!t.is_active))),k.value&&(i=i.filter(t=>{var U;return(U=t.roles)==null?void 0:U.some(l=>l.id===parseInt(k.value))})),i}),c=C(()=>u.value.filter(i=>i.is_active).length),m=C(()=>S.value.length),p=C(()=>u.value.filter(i=>Q(i)).length),v=async()=>{await Promise.all([n(),P()])},s=i=>{E.value=i,z.value=!0},a=i=>{E.value=i,D.value=!0},r=i=>{E.value=i,H.value=!0},f=i=>{F.value=i,O.value=!0},g=async()=>{F.value&&(await j(F.value.id),O.value=!1,F.value=null)},M=async i=>{await b(i.id,{is_active:!i.is_active})},ee=i=>i.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2),te=i=>i.is_active?i.email_verified_at?"Active":"Pending":"Inactive",se=i=>i.is_active?i.email_verified_at?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",Q=i=>{if(!i.last_activity_at)return!1;const t=new Date,U=new Date(i.last_activity_at);return(t.getTime()-U.getTime())/(1e3*60)<5},K=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ae=i=>{const t=new Date,U=new Date(i),l=(t.getTime()-U.getTime())/(1e3*60*60);return l<1?"Less than an hour ago":l<24?`${Math.floor(l)} hours ago`:l<168?`${Math.floor(l/24)} days ago`:`${Math.floor(l/168)} weeks ago`};return le(()=>{v()}),(i,t)=>{var U;return y(),x("div",he,[e("div",xe,[e("div",ye,[t[7]||(t[7]=e("div",null,[e("h1",{class:"text-2xl font-bold text-gray-900"},"User Management"),e("p",{class:"text-gray-600"},"Manage system users and their permissions")],-1)),e("div",we,[e("button",{onClick:t[0]||(t[0]=l=>L.value=!0),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2"},t[5]||(t[5]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),V(" Add User ")])),e("button",{onClick:v,class:"bg-gray-100 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-200 flex items-center gap-2"},t[6]||(t[6]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),V(" Refresh ")]))])]),e("div",_e,[e("div",be,[e("div",ke,[t[9]||(t[9]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])])],-1)),e("div",Ce,[e("dl",null,[t[8]||(t[8]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Users",-1)),e("dd",Ue,w(W(u).length),1)])])])]),e("div",je,[e("div",Re,[t[11]||(t[11]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),e("div",Me,[e("dl",null,[t[10]||(t[10]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Active Users",-1)),e("dd",$e,w(c.value),1)])])])]),e("div",Te,[e("div",Se,[t[13]||(t[13]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])])],-1)),e("div",Fe,[e("dl",null,[t[12]||(t[12]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Total Roles",-1)),e("dd",Oe,w(m.value),1)])])])]),e("div",Pe,[e("div",De,[t[15]||(t[15]=e("div",{class:"flex-shrink-0"},[e("div",{class:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])])],-1)),e("div",Ee,[e("dl",null,[t[14]||(t[14]=e("dt",{class:"text-sm font-medium text-gray-500 truncate"},"Online Now",-1)),e("dd",Le,w(p.value),1)])])])])])]),e("div",ze,[e("div",Be,[e("div",He,[t[18]||(t[18]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Users",-1)),e("div",Ne,[A(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>$.value=l),type:"text",placeholder:"Search users...",class:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full sm:w-64"},null,512),[[ne,$.value]]),A(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>R.value=l),class:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},t[16]||(t[16]=[e("option",{value:""},"All Status",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"inactive"},"Inactive",-1)]),512),[[X,R.value]]),A(e("select",{"onUpdate:modelValue":t[3]||(t[3]=l=>k.value=l),class:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[t[17]||(t[17]=e("option",{value:""},"All Roles",-1)),(y(!0),x(I,null,J(W(S),l=>(y(),x("option",{key:l.id,value:l.id},w(l.display_name||l.name),9,Ve))),128))],512),[[X,k.value]])])])]),N.value?(y(),x("div",Ae,t[19]||(t[19]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),e("p",{class:"text-gray-600 mt-2"},"Loading users...",-1)]))):B.value.length?(y(),x("div",Je,[e("table",qe,[t[26]||(t[26]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," User "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Roles "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Last Login "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Created "),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Ge,[(y(!0),x(I,null,J(B.value,l=>(y(),x("tr",{key:l.id,class:"hover:bg-gray-50"},[e("td",Qe,[e("div",Ke,[e("div",We,[l.avatar?(y(),x("img",{key:0,src:l.avatar,alt:l.name,class:"h-10 w-10 rounded-full object-cover"},null,8,Xe)):(y(),x("div",Ye,[e("span",Ze,w(ee(l.name)),1)]))]),e("div",et,[e("div",tt,w(l.name),1),e("div",st,w(l.email),1)])])]),e("td",at,[e("div",ot,[(y(!0),x(I,null,J(l.roles,T=>(y(),x("span",{key:T.id,class:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800"},w(T.display_name||T.name),1))),128)),e("button",{onClick:T=>a(l),class:"text-blue-600 hover:text-blue-800 text-xs"}," Manage ",8,lt)])]),e("td",rt,[l.last_login_at?(y(),x("div",nt,[V(w(K(l.last_login_at))+" ",1),e("div",it,w(ae(l.last_login_at)),1)])):(y(),x("span",dt,"Never"))]),e("td",ut,[e("div",ct,[e("span",{class:G(["inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",se(l)])},w(te(l)),3),Q(l)?(y(),x("div",vt)):Z("",!0)])]),e("td",pt,w(K(l.created_at)),1),e("td",ft,[e("div",mt,[e("button",{onClick:T=>s(l),class:"text-blue-600 hover:text-blue-900",title:"Edit User"},t[21]||(t[21]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)]),8,gt),e("button",{onClick:T=>r(l),class:"text-purple-600 hover:text-purple-900",title:"Manage Permissions"},t[22]||(t[22]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})],-1)]),8,ht),e("button",{onClick:T=>M(l),class:G(l.is_active?"text-red-600 hover:text-red-900":"text-green-600 hover:text-green-900"),title:l.is_active?"Deactivate":"Activate"},[l.is_active?(y(),x("svg",yt,t[23]||(t[23]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)]))):(y(),x("svg",wt,t[24]||(t[24]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])))],10,xt),e("button",{onClick:T=>f(l),class:"text-red-600 hover:text-red-900",title:"Delete User"},t[25]||(t[25]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,_t)])])]))),128))])])])):(y(),x("div",Ie,t[20]||(t[20]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No users found",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"Get started by adding your first user.",-1)])))]),re(ge,{show:O.value,title:"Delete User",message:`Are you sure you want to delete '${(U=F.value)==null?void 0:U.name}'? This action cannot be undone.`,"confirm-text":"Delete","confirm-class":"bg-red-600 hover:bg-red-700",onConfirm:g,onCancel:t[4]||(t[4]=l=>O.value=!1)},null,8,["show","message"])])}}}),jt=ie(bt,[["__scopeId","data-v-92804544"]]);export{jt as default};
