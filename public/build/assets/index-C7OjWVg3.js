import{d as A,ab as T,j as D,D as h,c as g,o as l,b as n,g as u,l as d,f as o,m as r,e as a,s,t as m,a1 as f,F as L,i as M}from"./main-ty1KRTJn.js";import{V as p}from"./VCardText-BeSJ0McA.js";import{V as b}from"./VChip-jcZVzdQz.js";import{c as W,V as _}from"./VCard-CsS9dD_V.js";import"./VAvatar-B94a89PO.js";import"./VImg-DdMMVt4S.js";const S={key:0},N={key:0},R={key:1},j={class:"d-flex flex-wrap gap-3"},B={class:"d-flex flex-wrap gap-2"},K=A({__name:"index",setup(J){const t=T(),i=D();h(async()=>{if(t.token&&!t.user){if(!await t.fetchProfile()){i.push("/login");return}}else if(!t.isLoggedIn){i.push("/login");return}(t.isAdmin||t.isManager)&&i.push("/dashboard")});const v=()=>{switch(t.userRole){case"Super Admin":return"error";case"Manager":return"warning";case"Kasir":return"success";default:return"primary"}},x=()=>{t.isAdmin||t.isManager?i.push("/dashboard"):t.isCashier?i.push("/pos"):i.push("/dashboard")},C=async()=>{await t.logout(),i.push("/login")};return(V,e)=>{var c,y;return l(),g("div",null,[n(_,{class:"mb-6",title:"Welcome to POS Dashboard! ðŸŽ‰"},{default:o(()=>[n(p,null,{default:o(()=>[r(t).user?(l(),g("div",S,[a("p",null,[e[0]||(e[0]=s("Hello ")),a("strong",null,m(r(t).user.name),1),e[1]||(e[1]=s("! You are successfully logged in."))]),a("p",null,[e[2]||(e[2]=s("Username: ")),a("strong",null,m(r(t).user.username),1)]),a("p",null,[e[3]||(e[3]=s("Email: ")),a("strong",null,m(r(t).user.email),1)]),a("p",null,[e[4]||(e[4]=s("Role: ")),n(b,{color:v(),size:"small"},{default:o(()=>[s(m(r(t).userRole),1)]),_:1},8,["color"])]),r(t).user.last_login_at?(l(),g("p",N," Last Login: "+m(new Date(r(t).user.last_login_at).toLocaleString("id-ID")),1)):d("",!0)])):(l(),g("div",R,e[5]||(e[5]=[a("p",null,"Loading user information...",-1)])))]),_:1}),n(W,null,{default:o(()=>[n(f,{color:"primary",variant:"outlined",onClick:x},{default:o(()=>e[6]||(e[6]=[s(" Go to Dashboard ")])),_:1,__:[6]}),n(f,{color:"error",variant:"outlined",onClick:C},{default:o(()=>e[7]||(e[7]=[s(" Logout ")])),_:1,__:[7]})]),_:1})]),_:1}),r(t).user?(l(),u(_,{key:0,class:"mb-6",title:"Quick Actions"},{default:o(()=>[n(p,null,{default:o(()=>[a("div",j,[r(t).isAdmin?(l(),u(f,{key:0,color:"error",variant:"outlined","prepend-icon":"mdi-account-multiple"},{default:o(()=>e[8]||(e[8]=[s(" Manage Users ")])),_:1,__:[8]})):d("",!0),r(t).isManager||r(t).isAdmin?(l(),u(f,{key:1,color:"warning",variant:"outlined","prepend-icon":"mdi-chart-line"},{default:o(()=>e[9]||(e[9]=[s(" Sales Report ")])),_:1,__:[9]})):d("",!0),r(t).isManager||r(t).isAdmin?(l(),u(f,{key:2,color:"info",variant:"outlined","prepend-icon":"mdi-package"},{default:o(()=>e[10]||(e[10]=[s(" Inventory ")])),_:1,__:[10]})):d("",!0),r(t).isCashier||r(t).isManager||r(t).isAdmin?(l(),u(f,{key:3,color:"success",variant:"outlined","prepend-icon":"mdi-cash-register"},{default:o(()=>e[11]||(e[11]=[s(" New Transaction ")])),_:1,__:[11]})):d("",!0)])]),_:1})]),_:1})):d("",!0),(y=(c=r(t).user)==null?void 0:c.role)!=null&&y.permissions&&Object.keys(r(t).user.role.permissions).length>0?(l(),u(_,{key:1,class:"mb-6",title:"Your Permissions"},{default:o(()=>[n(p,null,{default:o(()=>[a("div",B,[(l(!0),g(L,null,M(r(t).user.role.permissions,(k,w)=>(l(),u(b,{key:w,color:k?"success":"error",size:"small"},{default:o(()=>[s(m(w)+": "+m(k?"Yes":"No"),1)]),_:2},1032,["color"]))),128))])]),_:1})]),_:1})):d("",!0),n(_,{class:"mb-6",title:"Kick start your project ðŸš€"},{default:o(()=>[n(p,null,{default:o(()=>e[12]||(e[12]=[s("All the best for your new project.")])),_:1,__:[12]}),n(p,null,{default:o(()=>e[13]||(e[13]=[s(" Please make sure to read our "),a("a",{href:"https://demos.pixinvent.com/vuexy-vuejs-admin-template/documentation/",target:"_blank",rel:"noopener noreferrer",class:"text-decoration-none"}," Template Documentation ",-1),s(" to understand where to go from here and how to use our template. ")])),_:1,__:[13]})]),_:1}),n(_,{title:"Want to integrate JWT? ðŸ”’"},{default:o(()=>[n(p,null,{default:o(()=>e[14]||(e[14]=[s("We carefully crafted JWT flow so you can implement JWT with ease and with minimum efforts.")])),_:1,__:[14]}),n(p,null,{default:o(()=>e[15]||(e[15]=[s("Please read our JWT Documentation to get more out of JWT authentication.")])),_:1,__:[15]})]),_:1})])}}});export{K as default};
