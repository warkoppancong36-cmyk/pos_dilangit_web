import{D as Ie}from"./DeleteConfirmationDialog-DPlCFh-L.js";import{u as we,a as Re,P as Te}from"./useProducts-D6KrHver.js";import{f as N}from"./helpers-B-vn2Qqf.js";import{V as P,b as Se}from"./VCard-BHrPvDVU.js";import{a8 as W,a9 as X,a$ as Be,ad as te,ae as Ee,aE as Le,aa as Q,b as e,X as b,aI as Me,aB as oe,b1 as ne,al as re,ac as Y,an as de,aR as Ae,aG as Ne,r as ce,w as je,aJ as K,ab as ue,aT as Ke,as as Oe,a_ as Ue,aF as qe,aH as Fe,W as z,V as q,ak as He,b2 as Ge,bs as Je,d as me,g as D,o as d,f as s,e as a,s as u,t as n,c as p,aw as ve,a0 as R,F as O,i as U,m as l,l as h,u as We,D as Xe,j as Qe,a5 as ie}from"./main-D3qual4m.js";import{V as Ye}from"./VSpacer-z4qf_7hE.js";import{V as E}from"./VChip-Dp2du0U6.js";import{V as ae}from"./VDivider-CP88Pi7H.js";import{V as Ze,a as et,b as tt,c as it}from"./VExpansionPanels-BtHlkLLo.js";import{V as F,a as I}from"./VRow-C-Gp4AHv.js";import{V as se}from"./VAvatar-CNzqVu-8.js";import{V as B}from"./VCardText-B6mKMLUi.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as at}from"./VContainer-DvSrejCZ.js";import{V as j}from"./VAlert-DpZvISZm.js";import{b as le}from"./route-block-B_A1xBdJ.js";import"./VDialog-ewO1hyzi.js";import"./VOverlay-3qoIxvRA.js";import"./forwardRefs-B931MWyl.js";import"./VImg-BDQFnPKc.js";import"./VForm-BEPpVqhb.js";import"./VTextField-Pqj_LXrG.js";import"./VSelect-BxF6RNrF.js";import"./VList-lgEclvBH.js";import"./VMenu-Dwry_UTm.js";import"./VCheckboxBtn-B6nZfzHV.js";import"./VTextarea-DP06YGpV.js";import"./VAutocomplete-DmM3PVo1.js";import"./filter-CYNG3fOG.js";import"./VSnackbar-C9ed6Lvf.js";import"./CategoriesApi-Db-8CscB.js";import"./ProductsApi-Drvpsby8.js";/* empty css              */const st=X({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:de,iconColor:String,lineColor:String,...Y(),...re(),...ne(),...oe()},"VTimelineDivider"),lt=W()({name:"VTimelineDivider",props:st(),setup(t,$){let{slots:f}=$;const{sizeClasses:_,sizeStyles:C}=Be(t,"v-timeline-divider__dot"),{backgroundColorStyles:V,backgroundColorClasses:x}=te(()=>t.dotColor),{roundedClasses:y}=Ee(t,"v-timeline-divider__dot"),{elevationClasses:c}=Le(t),{backgroundColorClasses:r,backgroundColorStyles:o}=te(()=>t.lineColor);return Q(()=>e("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":t.fillDot},t.class],style:t.style},[e("div",{class:["v-timeline-divider__before",r.value],style:o.value},null),!t.hideDot&&e("div",{key:"dot",class:["v-timeline-divider__dot",c.value,y.value,_.value],style:C.value},[e("div",{class:["v-timeline-divider__inner-dot",x.value,y.value],style:V.value},[f.default?e(Me,{key:"icon-defaults",disabled:!t.icon,defaults:{VIcon:{color:t.iconColor,icon:t.icon,size:t.size}}},f.default):e(b,{key:"icon",color:t.iconColor,icon:t.icon,size:t.size},null)])]),e("div",{class:["v-timeline-divider__after",r.value],style:o.value},null)])),{}}}),pe=X({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:de,iconColor:String,lineInset:[Number,String],side:{type:String,validator:t=>t==null||["start","end"].includes(t)},...Y(),...Ke(),...oe(),...re(),...ne(),...ue()},"VTimelineItem"),ot=W()({name:"VTimelineItem",props:pe(),setup(t,$){let{slots:f}=$;const{dimensionStyles:_}=Ae(t),C=Ne(0),V=ce();return je(V,x=>{var y;x&&(C.value=((y=x.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:y.getBoundingClientRect().width)??0)},{flush:"post"}),Q(()=>{var x,y;return e("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":t.fillDot,"v-timeline-item--side-start":t.side==="start","v-timeline-item--side-end":t.side==="end"},t.class],style:[{"--v-timeline-dot-size":K(C.value),"--v-timeline-line-inset":t.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${K(t.lineInset)})`:K(0)},t.style]},[e("div",{class:"v-timeline-item__body",style:_.value},[(x=f.default)==null?void 0:x.call(f)]),e(lt,{ref:V,hideDot:t.hideDot,icon:t.icon,iconColor:t.iconColor,size:t.size,elevation:t.elevation,dotColor:t.dotColor,fillDot:t.fillDot,rounded:t.rounded},{default:f.icon}),t.density!=="compact"&&e("div",{class:"v-timeline-item__opposite"},[!t.hideOpposite&&((y=f.opposite)==null?void 0:y.call(f))])])}),{}}}),nt=X({align:{type:String,default:"center",validator:t=>["center","start"].includes(t)},direction:{type:String,default:"vertical",validator:t=>["vertical","horizontal"].includes(t)},justify:{type:String,default:"auto",validator:t=>["auto","center"].includes(t)},side:{type:String,validator:t=>t==null||["start","end"].includes(t)},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:t=>["start","end","both"].includes(t)},...Je(pe({lineInset:0}),["dotColor","fillDot","hideOpposite","iconColor","lineInset","size"]),...Y(),...Ge(),...ue(),...He()},"VTimeline"),rt=W()({name:"VTimeline",props:nt(),setup(t,$){let{slots:f}=$;const{themeClasses:_}=Oe(t),{densityClasses:C}=Ue(t),{rtlClasses:V}=qe();Fe({VTimelineDivider:{lineColor:z(()=>t.lineColor)},VTimelineItem:{density:z(()=>t.density),dotColor:z(()=>t.dotColor),fillDot:z(()=>t.fillDot),hideOpposite:z(()=>t.hideOpposite),iconColor:z(()=>t.iconColor),lineColor:z(()=>t.lineColor),lineInset:z(()=>t.lineInset),size:z(()=>t.size)}});const x=q(()=>{const c=t.side?t.side:t.density!=="default"?"end":null;return c&&`v-timeline--side-${c}`}),y=q(()=>{const c=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(t.truncateLine){case"both":return c;case"start":return c[0];case"end":return c[1];default:return null}});return Q(()=>e(t.tag,{class:["v-timeline",`v-timeline--${t.direction}`,`v-timeline--align-${t.align}`,`v-timeline--justify-${t.justify}`,y.value,{"v-timeline--inset-line":!!t.lineInset},_.value,C.value,x.value,V.value,t.class],style:[{"--v-timeline-line-thickness":K(t.lineThickness)},t.style]},f)),{}}}),dt={key:0,class:"text-center pa-8"},ct={key:1,class:"text-center pa-12"},ut={key:2},mt={class:"text-subtitle-1 font-weight-bold"},vt={class:"text-caption text-medium-emphasis d-flex align-center gap-2"},ft={class:"text-end"},pt={class:"text-h6 font-weight-bold"},_t={class:"text-caption text-medium-emphasis"},gt={key:0,class:"mb-4"},bt={class:"text-body-2"},kt={class:"mb-4"},yt={class:"text-subtitle-2 font-weight-bold mb-3 d-flex align-center gap-2"},ht={class:"d-flex align-center gap-3"},xt={class:"flex-grow-1"},Ct={class:"text-subtitle-2 font-weight-bold"},Vt={class:"text-caption text-medium-emphasis"},Dt={key:0,class:"ms-2"},$t={key:0,class:"text-caption text-info mt-1"},zt={class:"text-end"},Pt={class:"text-subtitle-2 font-weight-bold"},It={key:1,class:"mb-4"},wt={class:"text-subtitle-2 font-weight-bold mb-3 d-flex align-center gap-2"},Rt={class:"d-flex align-start gap-2"},Tt={class:"text-body-2"},St={key:2,class:"d-flex gap-2 justify-end"},Bt=me({__name:"ProductRecipeList",props:{recipes:{},loading:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!0}},emits:["edit-recipe","delete-recipe","duplicate-recipe","add-recipe"],setup(t,{emit:$}){const f=$,_=c=>{switch(c){case"easy":return"success";case"medium":return"warning";case"hard":return"error";default:return"info"}},C=c=>{switch(c){case"easy":return"tabler-thumb-up";case"medium":return"tabler-alert-triangle";case"hard":return"tabler-flame";default:return"tabler-help"}},V=c=>c.active?c.items.some(o=>!o.item||o.item.current_stock<o.quantity)?{color:"warning",text:"Stok Terbatas",icon:"tabler-alert-triangle"}:{color:"success",text:"Tersedia",icon:"tabler-check"}:{color:"error",text:"Nonaktif",icon:"tabler-x"},x=c=>{if(!c)return"-";if(c<60)return`${c} menit`;const r=Math.floor(c/60),o=c%60;return o>0?`${r}j ${o}m`:`${r} jam`},y=ce([]);return(c,r)=>(d(),D(P,{class:"recipe-list-card"},{default:s(()=>[e(Se,{class:"d-flex align-center gap-2 coffee-header"},{default:s(()=>[e(b,{icon:"tabler-chef-hat",class:"coffee-icon"}),r[2]||(r[2]=a("span",null,"Komposisi Produk",-1)),e(Ye),e(E,{color:c.recipes.length>0?"success":"default",size:"small",variant:"tonal"},{default:s(()=>[u(n(c.recipes.length)+" Komposisi ",1)]),_:1},8,["color"])]),_:1,__:[2]}),e(ae),e(B,{class:"pa-0"},{default:s(()=>[c.loading?(d(),p("div",dt,[e(ve,{color:"primary",indeterminate:"",size:"64"}),r[3]||(r[3]=a("div",{class:"mt-4 text-h6"},"Memuat resep...",-1))])):c.recipes.length===0?(d(),p("div",ct,[e(b,{icon:"tabler-chef-hat-off",size:"96",class:"text-disabled mb-6"}),r[5]||(r[5]=a("div",{class:"text-h5 font-weight-bold mb-3"},"Belum Ada Komposisi Produk",-1)),r[6]||(r[6]=a("div",{class:"text-body-1 text-medium-emphasis mb-6"}," Tambahkan komposisi produk untuk menentukan bahan-bahan yang dibutuhkan ",-1)),e(R,{color:"primary",size:"large","prepend-icon":"tabler-plus",onClick:r[0]||(r[0]=o=>f("add-recipe"))},{default:s(()=>r[4]||(r[4]=[u(" Tambah Komposisi Produk ")])),_:1,__:[4]})])):(d(),p("div",ut,[e(Ze,{modelValue:y.value,"onUpdate:modelValue":r[1]||(r[1]=o=>y.value=o),multiple:"",variant:"accordion"},{default:s(()=>[(d(!0),p(O,null,U(c.recipes,(o,T)=>(d(),D(et,{key:o.id||T,value:T,class:"recipe-panel"},{default:s(()=>[e(tt,{class:"pa-4"},{default:s(()=>[e(F,{align:"center","no-gutters":""},{default:s(()=>[e(I,{cols:"auto",class:"me-3"},{default:s(()=>[e(se,{color:_(o.difficulty_level),size:"40",variant:"tonal"},{default:s(()=>[e(b,{icon:C(o.difficulty_level)},null,8,["icon"])]),_:2},1032,["color"])]),_:2},1024),e(I,null,{default:s(()=>[a("div",mt,n(o.name),1),a("div",vt,[e(b,{icon:"tabler-clock",size:"16"}),u(" "+n(x(o.preparation_time))+" ",1),e(b,{icon:"tabler-users",size:"16",class:"ms-2"}),u(" "+n(o.portion_size)+" "+n(o.portion_unit),1)])]),_:2},1024),e(I,{cols:"auto"},{default:s(()=>[a("div",ft,[e(E,{color:V(o).color,size:"small",variant:"tonal",class:"mb-1"},{default:s(()=>[e(b,{icon:V(o).icon,size:"16",class:"me-1"},null,8,["icon"]),u(" "+n(V(o).text),1)]),_:2},1032,["color"]),a("div",pt,n(l(N)(o.total_cost||0)),1),a("div",_t,n(l(N)((o.total_cost||0)/(o.portion_size||1)))+"/porsi ",1)])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(it,{class:"pa-4 pt-0"},{default:s(()=>[e(ae,{class:"mb-4"}),o.description?(d(),p("div",gt,[r[7]||(r[7]=a("div",{class:"text-subtitle-2 font-weight-bold mb-2"},"Deskripsi:",-1)),a("div",bt,n(o.description),1)])):h("",!0),a("div",kt,[a("div",yt,[e(b,{icon:"tabler-list-details",size:"18"}),u(" Bahan-bahan ("+n(o.items.length)+") ",1)]),e(F,null,{default:s(()=>[(d(!0),p(O,null,U(o.items,(m,S)=>(d(),D(I,{key:S,cols:"12",md:"6"},{default:s(()=>[e(P,{variant:"outlined",class:"pa-3"},{default:s(()=>{var L;return[a("div",ht,[e(se,{color:m.item&&m.item.current_stock>=m.quantity?"success":"error",size:"32",variant:"tonal"},{default:s(()=>[e(b,{icon:m.item&&m.item.current_stock>=m.quantity?"tabler-check":"tabler-alert-triangle",size:"18"},null,8,["icon"])]),_:2},1032,["color"]),a("div",xt,[a("div",Ct,n(((L=m.item)==null?void 0:L.name)||"Item tidak ditemukan"),1),a("div",Vt,[u(n(m.quantity)+" "+n(m.unit)+" ",1),m.item?(d(),p("span",Dt," • Stock: "+n(m.item.current_stock)+" "+n(m.unit),1)):h("",!0)]),m.notes?(d(),p("div",$t,[e(b,{icon:"tabler-note",size:"12",class:"me-1"}),u(" "+n(m.notes),1)])):h("",!0)]),a("div",zt,[a("div",Pt,n(m.item?l(N)(m.item.cost_per_unit*m.quantity):"-"),1)])])]}),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),o.instructions&&o.instructions.length>0?(d(),p("div",It,[a("div",wt,[e(b,{icon:"tabler-clipboard-list",size:"18"}),r[8]||(r[8]=u(" Instruksi Pembuatan "))]),e(rt,{density:"compact",align:"start"},{default:s(()=>[(d(!0),p(O,null,U(o.instructions,(m,S)=>(d(),D(ot,{key:S,"dot-color":"primary",size:"small"},{default:s(()=>[e(P,{variant:"outlined",class:"pa-3"},{default:s(()=>[a("div",Rt,[e(E,{color:"primary",size:"x-small",class:"mt-1"},{default:s(()=>[u(n(S+1),1)]),_:2},1024),a("div",Tt,n(m),1)])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)])):h("",!0),c.canEdit?(d(),p("div",St,[e(R,{variant:"outlined",color:"info",size:"small","prepend-icon":"tabler-copy",onClick:m=>f("duplicate-recipe",o)},{default:s(()=>r[9]||(r[9]=[u(" Duplikat ")])),_:2,__:[9]},1032,["onClick"]),e(R,{variant:"outlined",color:"primary",size:"small","prepend-icon":"tabler-edit",onClick:m=>f("edit-recipe",o)},{default:s(()=>r[10]||(r[10]=[u(" Edit ")])),_:2,__:[10]},1032,["onClick"]),e(R,{variant:"outlined",color:"error",size:"small","prepend-icon":"tabler-trash",onClick:m=>f("delete-recipe",o)},{default:s(()=>r[11]||(r[11]=[u(" Hapus ")])),_:2,__:[11]},1032,["onClick"])])):h("",!0)]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]))]),_:1})]),_:1}))}}),Et=fe(Bt,[["__scopeId","data-v-13e65867"]]),Lt={class:"d-flex align-items-center mb-6"},Mt={class:"flex-grow-1"},At={class:"text-h4 font-weight-bold coffee-title"},Nt={key:0,class:"text-primary"},jt={key:0,class:"d-flex align-items-center gap-2 mt-1"},Kt={class:"text-body-2 text-medium-emphasis coffee-subtitle mt-2"},Ot={key:0},Ut={key:1},qt={key:2},Ft={key:3,class:"text-error"},Ht={class:"d-flex gap-3 align-center"},Gt={class:"d-flex align-items-center gap-3"},Jt={class:"text-subtitle-1 font-weight-bold text-white"},Wt={class:"mb-3"},Xt={class:"mb-3"},Qt={class:"mt-2"},Yt={class:"mb-4"},Zt={class:"d-flex align-items-center mb-3"},ei={class:"text-h6 font-weight-bold mb-0"},ti={key:0,class:"text-body-2 text-medium-emphasis"},ii={class:"text-h4 font-weight-bold"},ai={class:"text-h4 font-weight-bold"},si={class:"text-h4 font-weight-bold"},li={class:"text-h4 font-weight-bold"},oi={class:"mb-4"},ni={class:"d-flex align-items-center justify-space-between mb-3"},ri={class:"d-flex align-items-center"},di={class:"text-h6 font-weight-bold mb-0"},ci={key:0,class:"text-body-2 text-medium-emphasis"},ui={class:"mb-4"},mi={class:"d-flex align-center gap-2"},_e=me({__name:"[id]",setup(t){const $=Qe(),f=We(),_=q(()=>{const k=Number(f.params.id);return console.log("🔗 Route params:",f.params),console.log("🆔 Product ID from route:",k,typeof k),console.log("🌐 Current route:",f.path),k}),{recipesList:C,availableItems:V,loading:x,saveLoading:y,deleteLoading:c,stats:r,dialog:o,deleteDialog:T,editMode:m,selectedRecipe:S,formData:L,errorMessage:H,successMessage:G,modalErrorMessage:ge,canCreateEdit:Z,fetchRecipes:be,fetchAvailableItems:ke,fetchStats:ye,saveRecipe:he,deleteRecipe:xe,openCreateDialog:ee,openEditDialog:Ce,openDeleteDialog:Ve,closeDialog:De,clearModalError:$e}=we(),{productsList:w,fetchProductsList:ze,loading:J}=Re(),g=q(()=>{console.log("🔍 Computing current product..."),console.log("📦 ProductId:",_.value,typeof _.value),console.log("📦 Products list:",w.value.length,"items"),w.value.length>0&&console.log("📋 First few products:",w.value.slice(0,3).map(i=>({id:i.id,id_product:i.id_product,name:i.name,sku:i.sku})));const k=w.value.find(i=>{const M=i.id===_.value,A=i.id_product===_.value;return console.log(`🔍 Checking product ${i.name}: id=${i.id}, id_product=${i.id_product}, matchById=${M}, matchByIdProduct=${A}`),M||A});return console.log("✅ Found product:",k?`${k.name} (ID: ${k.id||k.id_product})`:"Not found"),!k&&w.value.length===0?(console.log("🔄 Using fallback product data"),{id:_.value,name:"Loading...",sku:"LOADING",price:0,active:!0,description:"Memuat data produk..."}):k}),Pe=async()=>{await xe()};return Xe(async()=>{console.log("🚀 Component mounted, productId:",_.value);try{await Promise.all([ze(),be(_.value),ke(),ye()]),console.log("✅ All data loaded"),console.log("📦 Products loaded:",w.value.length),console.log("🔍 Looking for product ID:",_.value),console.log("📋 Available products:",w.value.map(k=>({id:k.id,id_product:k.id_product,name:k.name})))}catch(k){console.error("❌ Error loading data:",k)}}),(k,i)=>(d(),D(at,{fluid:"",class:"product-recipe-management pa-6"},{default:s(()=>{var M,A;return[a("div",Lt,[e(R,{icon:"tabler-arrow-left",variant:"text",onClick:i[0]||(i[0]=v=>l($).go(-1)),class:"me-3"}),a("div",Mt,[a("h1",At,[i[10]||(i[10]=u(" Resep Produk ")),g.value?(d(),p("span",Nt," - "+n(g.value.name),1)):h("",!0)]),g.value?(d(),p("div",jt,[e(E,{color:"primary",size:"small",variant:"tonal","prepend-icon":"tabler-package"},{default:s(()=>[u(n(g.value.sku),1)]),_:1}),e(E,{color:g.value.active?"success":"error",size:"small",variant:"tonal"},{default:s(()=>[u(n(g.value.active?"Aktif":"Nonaktif"),1)]),_:1},8,["color"]),e(E,{color:"warning",size:"small",variant:"tonal","prepend-icon":"tabler-currency-dollar"},{default:s(()=>[u(n(l(N)(g.value.price)),1)]),_:1})])):h("",!0),a("p",Kt,[l(J)?(d(),p("span",Ot," Memuat informasi produk... ")):g.value&&g.value.description?(d(),p("span",Ut,n(g.value.description),1)):g.value?(d(),p("span",qt," Kelola resep untuk produk "+n(g.value.name),1)):(d(),p("span",Ft," ⚠️ Produk tidak ditemukan (ID: "+n(_.value)+") ",1))])]),a("div",Ht,[l(Z)?(d(),D(R,{key:0,color:"primary","prepend-icon":"tabler-plus",class:"coffee-btn",onClick:i[1]||(i[1]=v=>l(ee)(_.value))},{default:s(()=>i[11]||(i[11]=[u(" Tambah Resep ")])),_:1,__:[11]})):h("",!0)])]),l(H)?(d(),D(j,{key:0,type:"error",variant:"outlined",class:"mb-4",text:l(H),closable:"","onClick:close":i[2]||(i[2]=v=>H.value="")},null,8,["text"])):h("",!0),l(G)?(d(),D(j,{key:1,type:"success",variant:"outlined",class:"mb-4",text:l(G),closable:"","onClick:close":i[3]||(i[3]=v=>G.value="")},null,8,["text"])):h("",!0),g.value?(d(),D(P,{key:2,class:"mb-6",variant:"tonal",color:"primary"},{default:s(()=>[e(B,{class:"pa-4"},{default:s(()=>[e(F,{align:"center"},{default:s(()=>[e(I,null,{default:s(()=>[a("div",Gt,[e(b,{icon:"tabler-chef-hat",size:"24",class:"text-white"}),a("div",null,[a("div",Jt," Membuat Resep untuk: "+n(g.value.name),1)])])]),_:1})]),_:1})]),_:1})]),_:1})):l(J)?(d(),D(P,{key:3,class:"mb-6",variant:"outlined"},{default:s(()=>[e(B,{class:"pa-4 text-center"},{default:s(()=>[e(ve,{indeterminate:"",color:"primary",class:"mb-2"}),i[12]||(i[12]=a("div",{class:"text-body-2 text-medium-emphasis"},"Memuat informasi produk...",-1))]),_:1,__:[12]})]),_:1})):!l(J)&&!g.value?(d(),D(j,{key:4,type:"error",variant:"tonal",class:"mb-6",title:"Produk Tidak Ditemukan"},{append:s(()=>[e(R,{variant:"text",size:"small",onClick:i[4]||(i[4]=v=>l($).push("/inventory-management"))},{default:s(()=>i[14]||(i[14]=[u(" Kembali ke Inventory ")])),_:1,__:[14]})]),default:s(()=>[a("div",Wt," Produk dengan ID "+n(_.value)+" tidak ditemukan. ",1),a("div",Xt,[i[13]||(i[13]=a("strong",null,"Produk yang tersedia:",-1)),a("ul",Qt,[(d(!0),p(O,null,U(l(w).slice(0,5),v=>(d(),p("li",{key:v.id_product},[e(R,{variant:"text",size:"small",to:`/product-recipes/${v.id_product}`,class:"pa-1"},{default:s(()=>[u(n(v.name)+" (ID: "+n(v.id_product)+") ",1)]),_:2},1032,["to"])]))),128))])])]),_:1})):h("",!0),a("div",Yt,[a("div",Zt,[e(b,{icon:"tabler-chart-bar",size:"20",class:"me-2 text-primary"}),a("h2",ei,[i[15]||(i[15]=u(" Statistik Resep ")),g.value?(d(),p("span",ti," untuk "+n(g.value.name),1)):h("",!0)])])]),e(F,{class:"mb-6"},{default:s(()=>[e(I,{cols:"12",md:"3"},{default:s(()=>[e(P,{class:"h-100",variant:"outlined"},{default:s(()=>[e(B,{class:"text-center pa-4"},{default:s(()=>[e(b,{icon:"tabler-chef-hat",size:"32",class:"coffee-icon mb-2"}),a("div",ii,n(l(r).total_recipes),1),i[16]||(i[16]=a("div",{class:"text-caption text-medium-emphasis"},"Total Resep",-1))]),_:1,__:[16]})]),_:1})]),_:1}),e(I,{cols:"12",md:"3"},{default:s(()=>[e(P,{class:"h-100",variant:"outlined"},{default:s(()=>[e(B,{class:"text-center pa-4"},{default:s(()=>[e(b,{icon:"tabler-check",size:"32",color:"success",class:"mb-2"}),a("div",ai,n(l(r).active_recipes),1),i[17]||(i[17]=a("div",{class:"text-caption text-medium-emphasis"},"Resep Aktif",-1))]),_:1,__:[17]})]),_:1})]),_:1}),e(I,{cols:"12",md:"3"},{default:s(()=>[e(P,{class:"h-100",variant:"outlined"},{default:s(()=>[e(B,{class:"text-center pa-4"},{default:s(()=>[e(b,{icon:"tabler-list-details",size:"32",color:"info",class:"mb-2"}),a("div",si,n(l(r).total_items_used),1),i[18]||(i[18]=a("div",{class:"text-caption text-medium-emphasis"},"Item Digunakan",-1))]),_:1,__:[18]})]),_:1})]),_:1}),e(I,{cols:"12",md:"3"},{default:s(()=>[e(P,{class:"h-100",variant:"outlined"},{default:s(()=>[e(B,{class:"text-center pa-4"},{default:s(()=>[e(b,{icon:"tabler-currency-dollar",size:"32",color:"warning",class:"mb-2"}),a("div",li,n(l(N)(l(r).avg_cost_per_recipe)),1),i[19]||(i[19]=a("div",{class:"text-caption text-medium-emphasis"},"Rata-rata Biaya",-1))]),_:1,__:[19]})]),_:1})]),_:1})]),_:1}),a("div",oi,[a("div",ni,[a("div",ri,[e(b,{icon:"tabler-list",size:"20",class:"me-2 text-primary"}),a("h2",di,[i[20]||(i[20]=u(" Daftar Resep ")),g.value?(d(),p("span",ci,n(g.value.name),1)):h("",!0)])]),l(C).length>0?(d(),D(E,{key:0,color:"primary",size:"small",variant:"tonal"},{default:s(()=>[u(n(l(C).length)+" Resep ",1)]),_:1})):h("",!0)])]),e(Et,{recipes:l(C),loading:l(x),"can-edit":l(Z),onEditRecipe:l(Ce),onDeleteRecipe:l(Ve),onDuplicateRecipe:i[5]||(i[5]=v=>{l(ee)(_.value),Object.assign(l(L),{...v,id:void 0,name:`${v.name} (Copy)`,active:!0})})},null,8,["recipes","loading","can-edit","onEditRecipe","onDeleteRecipe"]),e(Te,{modelValue:l(o),"onUpdate:modelValue":[i[6]||(i[6]=v=>ie(o)?o.value=v:null),i[7]||(i[7]=v=>o.value=v)],"edit-mode":l(m),"form-data":l(L),"available-items":l(V),loading:l(y),"error-message":l(ge),"product-name":(M=g.value)==null?void 0:M.name,onClose:l(De),onSave:l(he),onClearError:l($e)},null,8,["modelValue","edit-mode","form-data","available-items","loading","error-message","product-name","onClose","onSave","onClearError"]),e(Ie,{modelValue:l(T),"onUpdate:modelValue":i[8]||(i[8]=v=>ie(T)?T.value=v:null),title:"Konfirmasi Hapus Resep","item-name":(A=l(S))==null?void 0:A.name,loading:l(c),"confirm-text":"Hapus Resep",onConfirm:Pe,onCancel:i[9]||(i[9]=v=>T.value=!1)},{content:s(()=>{var v;return[a("div",ui,[e(j,{color:"warning",variant:"tonal",class:"mb-4"},{default:s(()=>[a("div",mi,[e(b,{icon:"tabler-alert-triangle"}),i[21]||(i[21]=a("div",null,[a("div",{class:"font-weight-bold"},"Perhatian!"),a("div",{class:"text-body-2"}," Menghapus resep akan menghilangkan semua informasi komposisi dan instruksi pembuatan. Tindakan ini tidak dapat dibatalkan. ")],-1))])]),_:1}),a("div",null,[i[22]||(i[22]=u("Apakah Anda yakin ingin menghapus resep ")),a("strong",null,'"'+n((v=l(S))==null?void 0:v.name)+'"',1),i[23]||(i[23]=u("?"))])])]}),_:1},8,["modelValue","item-name","loading"])]}),_:1}))}});typeof le=="function"&&le(_e);const Hi=fe(_e,[["__scopeId","data-v-1c593593"]]);export{Hi as default};
